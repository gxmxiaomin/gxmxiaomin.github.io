<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>javascript | xiaomi♊blog</title><meta name="keywords" content="JavaScript"><meta name="author" content="小米"><meta name="copyright" content="小米"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="探索JavaScriptJavaScript简介​	Js是一种专门为网页交互设计的客户端（浏览器端）的脚本语言； ​	Js与html和css有相似之处，都在浏览器端解析； ​	Js和java,c#,php等一样，是一门真正的编程语言 ​	javaScript简称js JavaScript组成部分​	ECMAScript:js的基础，主要规定了一些js的语法规范 ​	BOM：浏览器对象模型：提供了访">
<meta property="og:type" content="article">
<meta property="og:title" content="javascript">
<meta property="og:url" content="http://example.com/2019/05/25/JavaScript%E8%AE%B2%E4%B9%89/index.html">
<meta property="og:site_name" content="xiaomi♊blog">
<meta property="og:description" content="探索JavaScriptJavaScript简介​	Js是一种专门为网页交互设计的客户端（浏览器端）的脚本语言； ​	Js与html和css有相似之处，都在浏览器端解析； ​	Js和java,c#,php等一样，是一门真正的编程语言 ​	javaScript简称js JavaScript组成部分​	ECMAScript:js的基础，主要规定了一些js的语法规范 ​	BOM：浏览器对象模型：提供了访">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img2.baidu.com/it/u=544283419,3814727158&fm=253&fmt=auto&app=120&f=JPEG?w=477&h=307">
<meta property="article:published_time" content="2019-05-24T16:00:00.000Z">
<meta property="article:modified_time" content="2022-06-07T12:13:33.670Z">
<meta property="article:author" content="小米">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img2.baidu.com/it/u=544283419,3814727158&fm=253&fmt=auto&app=120&f=JPEG?w=477&h=307"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2019/05/25/JavaScript%E8%AE%B2%E4%B9%89/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'javascript',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-06-07 20:13:33'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/portraits.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">54</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://img2.baidu.com/it/u=544283419,3814727158&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=477&amp;h=307')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">xiaomi♊blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">javascript</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-05-24T16:00:00.000Z" title="发表于 2019-05-25 00:00:00">2019-05-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-06-07T12:13:33.670Z" title="更新于 2022-06-07 20:13:33">2022-06-07</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="javascript"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="探索JavaScript"><a href="#探索JavaScript" class="headerlink" title="探索JavaScript"></a>探索JavaScript</h2><h5 id="JavaScript简介"><a href="#JavaScript简介" class="headerlink" title="JavaScript简介"></a>JavaScript简介</h5><p>​	Js是一种专门为网页交互设计的客户端（浏览器端）的脚本语言；</p>
<p>​	Js与html和css有相似之处，都在浏览器端解析；</p>
<p>​	Js和java,c#,php等一样，是一门真正的编程语言</p>
<p>​	javaScript简称js</p>
<h5 id="JavaScript组成部分"><a href="#JavaScript组成部分" class="headerlink" title="JavaScript组成部分"></a>JavaScript组成部分</h5><p>​	ECMAScript:js的基础，主要规定了一些js的语法规范</p>
<p>​	BOM：浏览器对象模型：提供了访问浏览器的一些接口；</p>
<p>​	DOM：文档对象模型：提供访问页面的接口；</p>
<h5 id="JavaScript两种引入方式"><a href="#JavaScript两种引入方式" class="headerlink" title="JavaScript两种引入方式"></a>JavaScript两种引入方式</h5><p>1）引入外部JavaScript文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;Js目标文件&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>2）直接嵌入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">	var a = 3;</span><br><span class="line">	console.log(a);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="JavaScript的两种调试模式"><a href="#JavaScript的两种调试模式" class="headerlink" title="JavaScript的两种调试模式"></a>JavaScript的两种调试模式</h5><p>1）浏览器web调试工具</p>
<p>​	打开浏览器，按F12，调出开发者工具</p>
<p>2）安装Node,可以在终端窗口，通过输入命令node进行JavaScript调试</p>
<h5 id="JavaScript三种输出方式"><a href="#JavaScript三种输出方式" class="headerlink" title="JavaScript三种输出方式"></a>JavaScript三种输出方式</h5><p>1）window.alert() :弹出框</p>
<p>2）document.write()：将内容写到 HTML 文档中</p>
<p>3）console.log()：控制台信息输出</p>
<h5 id="JavaScript两种交互方式"><a href="#JavaScript两种交互方式" class="headerlink" title="JavaScript两种交互方式"></a>JavaScript两种交互方式</h5><p>1）confirm()表示确认框；</p>
<p>使用：var a &#x3D; confirm(“提示文字”)</p>
<p>说明：变量a保存的是confirm的返回值，是布尔值</p>
<p>1.当点击确定，confirm的返回值true;</p>
<p>2.当点击取消，confirm的返回值false;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var r=confirm(&quot;Press a button&quot;)</span><br><span class="line">if (r==true)</span><br><span class="line">&#123;</span><br><span class="line">	document.write(&quot;You pressed OK!&quot;)</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">	document.write(&quot;You pressed Cancel!&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2）prompt()表示输入框；</p>
<p>使用：var a &#x3D; prompt(“提示文字”)</p>
<p>说明：变量a保存的是prompt的返回值，即输入的内容</p>
<p>1）当输入内容，然后点击确定，prompt的返回值为输入的值；</p>
<p>2）当没有输入内容，点击确定，prompt的返回值为空字符串；</p>
<p>3）当点击取消，prompt的返回值null;</p>
<p>4）prompt方法返回值的类型是string</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var username = prompt(&quot;请输入您的姓名&quot;);</span><br><span class="line">console.log(username)</span><br></pre></td></tr></table></figure>

<h2 id="词法结构"><a href="#词法结构" class="headerlink" title="词法结构"></a>词法结构</h2><h5 id="1）区分大小写"><a href="#1）区分大小写" class="headerlink" title="1）区分大小写"></a>1）区分大小写</h5><p>JavaScript 是区分大小写的。也就是说，关键字、变量、函数名和所有的标识符（identifier）都必须采取一致的大小写形式。</p>
<p>比如，关键字 <code>while</code> 必须写成 <code>while</code>，而不能写成 <code>While</code> 或者 <code>WHILE</code>。同样，<code>online</code>、<code>Online</code>、<code>OnLine</code>、<code>ONLINE</code> 是4个不同的</p>
<p>变量名。</p>
<p>但需要注意的是，HTML 并不区分大小写。由于它和客户端 JavaScript 联系紧密，因此这点区别很容易混淆。许多客户端</p>
<p> JavaScript 对象和属性与他们所表示的 HTML 标签和属性名相同。在 HTML 中，这些标签和属性名可以使用大写也可以是小</p>
<p>写，而在 JavaScript 中则必须是小写。例如，在 HTML 中设置事件处理程序时，<code>onclick</code> 属性可以写成 <code>onClick</code>，但在 </p>
<p>JavaScript 代码中，必须使用小写的 <code>onclick</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var userName = &#x27;张三&#x27;;</span><br><span class="line">var username = &#x27;李四&#x27;;</span><br><span class="line">console.log(userName);</span><br><span class="line">console.log(username)</span><br></pre></td></tr></table></figure>

<h5 id="2）注释"><a href="#2）注释" class="headerlink" title="2）注释"></a>2）注释</h5><p>JavaScript 使用 C 风格的注释，包括单行注释和块级注释。单行注释以两个斜杠 <code>//</code> 开头，块级注释以一个斜杠和一个星号 <code>/*</code> </p>
<p>开头，以一个星号和一个斜杠 <code>*/</code> 结尾。下面都是合法的 JavaScript 注释：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 这是单行注释</span><br><span class="line">/***</span><br><span class="line"> * 这是多行注释</span><br><span class="line"> * 这是多行注释</span><br><span class="line">***/</span><br></pre></td></tr></table></figure>

<p>虽然上面注释中的第二和第三行都以一个星号开头，但这不是必须的，纯粹是为了提高注释的可读性</p>
<h5 id="3）字面量"><a href="#3）字面量" class="headerlink" title="3）字面量"></a>3）字面量</h5><p>所谓字面量（也可称直接量，Literal values），就是程序中直接使用的数据值。字面量只代表自身，不存储在特定位置。</p>
<p>JavaScript 中的字面量有：字符串、数字、布尔值、对象、数组、函数、正则表达式，以及特殊的 <code>null</code> 值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&quot;hello world&quot;   // 字符串</span><br><span class="line">123             // 数字</span><br><span class="line">1.2             // 小数</span><br><span class="line">true            // 布尔值</span><br><span class="line">false           // 布尔值</span><br><span class="line">/javascript/gi  // 正则表达式</span><br><span class="line">null            // 空</span><br><span class="line">&#123; name: &#x27;stone&#x27;, age: 20&#125;       // 对象</span><br><span class="line">[ 1, 2, 3, 4, 5, 6, 7, 8 ]      // 数组</span><br><span class="line">function()&#123; console.log(&#x27;good&#x27;); &#125;    // 函数</span><br></pre></td></tr></table></figure>

<h5 id="4）标识符"><a href="#4）标识符" class="headerlink" title="4）标识符"></a>4）标识符</h5><p>标识符用于在Js代码中命名常量，变量，属性，函数和类，以及某些循环提供标记。</p>
<p>标识符命名规则</p>
<ul>
<li><p>由数字、字母、下划线或$（美元符）组成；</p>
</li>
<li><p>不能以数字开头；并且区分大小写；</p>
</li>
<li><p>不能用关键字，保留字命名；</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//正确的命名方式</span><br><span class="line">my_name;</span><br><span class="line">_username;</span><br><span class="line">$str</span><br><span class="line">//错误的命名方式</span><br><span class="line">.myname</span><br><span class="line">1user</span><br></pre></td></tr></table></figure>

<h5 id="5）关键字和保留字"><a href="#5）关键字和保留字" class="headerlink" title="5）关键字和保留字"></a>5）关键字和保留字</h5><p>ECMAScript 3 描述了一组具有特定用途的关键字，这些关键字可用于表示控制语句的开始或结束，或者用于执行特定操作</p>
<p>等。按照规则，关键字是语言保留的，不能用作标识符。以下是 ECMAScript 3 的全部关键字：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">break       delete      function    return      typeof</span><br><span class="line">case        do          if          switch      var</span><br><span class="line">catch       else        in          this        void</span><br><span class="line">continue    false       instanceof  throw       while</span><br><span class="line">debugger    finally     new         true        with</span><br><span class="line">default     for         null        try</span><br></pre></td></tr></table></figure>

<p>ECMAScript 3 还将 Java 的所有关键字都作为自己的保留字，保留字也是不能当初标识符。尽管保留字还没有任何特定的用途，但他们有可能在将来被用作关键字：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">abstract    double      goto        native      static</span><br><span class="line">boolean     enum        implements  package     super</span><br><span class="line">byte        export      import      private     synchronized</span><br><span class="line">char        extends     int         protected   throws</span><br><span class="line">class       final       interface   public      transient</span><br><span class="line">const       float       long        short       volatile</span><br></pre></td></tr></table></figure>

<p>ECMAScript 5 把非严格模式下的保留字缩减为：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span>           <span class="title class_">enum</span>            <span class="keyword">extends</span>         <span class="title class_ inherited__">super</span></span><br><span class="line"><span class="keyword">const</span>           <span class="keyword">export</span>          <span class="keyword">import</span></span><br></pre></td></tr></table></figure>

<p>ECMAScript 5 在严格模式下的保留字为：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">implements      package         public</span><br><span class="line">interface       private         <span class="keyword">static</span></span><br><span class="line"><span class="keyword">let</span>             protected       <span class="keyword">yield</span></span><br></pre></td></tr></table></figure>

<p>注意，<code>let</code> 和 <code>yield</code> 是 ECMAScript 5 新增的保留字，其他保留字都是 ECMAScript 3 定义的。为了保证兼容性，任何时候都不建议使用 ECMAScript 5 新增的保留字 <code>let</code> 和 <code>yield</code> 。</p>
<p>ECMAScript 还预定义了很多全局变量和函数，也应当避免把它们用作标识符：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">arguments</span>           <span class="title class_">Error</span>           <span class="title class_">Math</span>            <span class="title class_">RegExp</span></span><br><span class="line"><span class="title class_">Array</span>               <span class="built_in">eval</span>            <span class="title class_">NaN</span>             <span class="title class_">String</span></span><br><span class="line"><span class="title class_">Boolean</span>             <span class="title class_">EvalError</span>       <span class="title class_">Number</span>          <span class="title class_">SyntaxError</span></span><br><span class="line"><span class="title class_">Date</span>                <span class="title class_">Function</span>        <span class="title class_">Object</span>          <span class="title class_">TypeError</span></span><br><span class="line"><span class="built_in">decodeURI</span>           <span class="title class_">Infinity</span>        <span class="built_in">parseFloat</span>      <span class="literal">undefined</span></span><br><span class="line"><span class="built_in">decodeURIComponent</span>  <span class="built_in">isFinite</span>        <span class="built_in">parseInt</span>        <span class="title class_">URIError</span></span><br><span class="line"><span class="built_in">encodeURI</span>           <span class="built_in">isNaN</span>           <span class="title class_">RangeError</span></span><br><span class="line"><span class="built_in">encodeURIComponent</span>  <span class="title class_">JSON</span>            <span class="title class_">ReferenceError</span></span><br></pre></td></tr></table></figure>

<p>JavaScript 的具体实现可能定义独有的全局变量和函数，每一种特定的 JavaScript 运行环境都有自己的一个全局属性列表，这一点是需要牢记的。</p>
<h5 id="6）可选的分号"><a href="#6）可选的分号" class="headerlink" title="6）可选的分号"></a>6）可选的分号</h5><p>Js使用分号(;)分割语句，这对于保持代码的清晰很重要：如果没有分隔符，一条语句的结尾可能是另一条语句的开头。</p>
<p>Js中如果两条语句分别写在两行，通常可以省略它们之间的分号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例如：</span><br><span class="line">var a = 4;</span><br><span class="line">var b = 3;</span><br></pre></td></tr></table></figure>

<p>像这种方式可以省略分号。</p>
<p>如果是下面这种情况，必须加分号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var a = 4;b = 3;</span><br></pre></td></tr></table></figure>

<h5 id="7）严格模式"><a href="#7）严格模式" class="headerlink" title="7）严格模式"></a>7）严格模式</h5><p>在 ECMAScript 5 引入了严格模式（strict mode）的概念。严格模式是为 JavaScript 定义了一种不同的解析与执行模式。在严格模式下，ECMAScript 3 中的一些不确定的行为将得到处理，而且对某些不安全的操作也会抛出错误。要在整个脚本中启用严格模式，可以在顶部添加如下代码：</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br></pre></td></tr></table></figure>

<p> 这行代码看起来像是字符串，而且也没有赋值给任何变量，但其实它是一个编译指示（pragma），用于告诉支持的 JavaScript 引擎切换到严格模式。这是为了不破坏 ECMAScript 3 语法而特意选定的语法。</p>
<p> 在函数内部的第一行包含这条编译指示，也可以指定函数在严格模式下执行：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="string">&quot;use strict&quot;</span>; </span><br><span class="line">    <span class="comment">// 函数体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="8）课堂练习"><a href="#8）课堂练习" class="headerlink" title="8）课堂练习"></a>8）课堂练习</h5><p>请判断以下代码是否有效？如果有效请给出结果，如果无效请说明原因。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战一</span></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">class</span> = <span class="string">&#x27;person&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">class</span>);     <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战二</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Class</span> = <span class="string">&#x27;person&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">class</span>);     <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战三</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">True</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">True</span>);      <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战四</span></span><br><span class="line"><span class="keyword">var</span> <span class="literal">true</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">True</span>);      <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战五</span></span><br><span class="line"><span class="keyword">var</span> $_$ = <span class="string">&#x27;stone&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>($_$);       <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战六</span></span><br><span class="line"><span class="keyword">var</span> 00_name = <span class="string">&#x27;stone&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(00_name);   <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战七</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Array</span> = <span class="string">&#x27;null&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>);     <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战八</span></span><br><span class="line"><span class="keyword">var</span> <span class="literal">undefined</span> = <span class="string">&#x27;null&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">undefined</span>); <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战九</span></span><br><span class="line"><span class="keyword">var</span> result = <span class="number">1</span> + <span class="number">2</span></span><br><span class="line">+ <span class="number">3</span> + <span class="number">4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);    <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<h2 id="类型、值和变量"><a href="#类型、值和变量" class="headerlink" title="类型、值和变量"></a>类型、值和变量</h2><p>JavaScript类型可以分为两类：原始类型和对象类型。</p>
<p>原始类型包括数值、字符串、布尔值、特殊值null、undefined。其中null和undefined不是数值、字符串或布尔值，通常被认为</p>
<p>是各自特殊类型的唯一成员。</p>
<p>对象是属性的集合，其中每个属性都有一个名字和一个值。</p>
<p><strong>注意：任何不是数值、字符串、布尔值、符号、null和undefined的值都是对象。</strong></p>
<p>在内存管理方面，js解析器会执行自动垃圾收集。当程序无法以任何方式引用这个值时，解释器会自动释放它占用的内存。</p>
<h5 id="1）数值"><a href="#1）数值" class="headerlink" title="1）数值"></a>1）数值</h5><ul>
<li><p>整数</p>
<p>Number用于表示整数和近似实数。</p>
<p><code>Number</code> 类型是 JavaScript 中最令人关注的数据类型，这种类型使用 IEEE 754 格式来表示整数和浮点数值（浮点数值在某些</p>
<p>语言中也被称为双精度数值）。和其他编程语言不同，JavaScript 中的所有数字均用浮点数值表示。</p>
<p>在 JavaScript 中进行算术计算时，所有以八进制和十六进制表示的数值最终都将被转换成十进制数值。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var a = 10;         // 十进制</span><br><span class="line">var b = 023;        // 八进制</span><br><span class="line">var c = 0x12ac;     // 十六进制</span><br><span class="line">0xff = 255；（15*16+15） // 十六进制</span><br><span class="line">0xbadcafe // =&gt;195939070 // 十六进制</span><br><span class="line">console.log(b);     // 19</span><br><span class="line">console.log(c);     // 4780</span><br></pre></td></tr></table></figure>

<p>八进制第一位必须是0，后面跟八进制序列0到7，如果超出了范围，则忽略前导0，后面的数值当做十进制解析，例如：089会被解析为89。（八进制字面量在严格模式下是无效的，会抛出错误。）</p>
<p>十六进制前两位必须是 0x 或 0X，后跟十六进制序列0<del>9、a</del>f（10~15）（不区分大小写），如果超出了范围，则会报语法错误。</p>
</li>
<li><p>浮点数</p>
<p>所谓浮点数值，就是该数值中必须包含一个小数点，并且小数点后面必须至少有一位数字。虽然小数点前面可以没有整数，但我们不推荐这种写法。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1.1</span>;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">0.1</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="number">.1</span>;     <span class="comment">// 有效，但不推荐</span></span><br></pre></td></tr></table></figure>

<p>JavaScript 会不失时机的将浮点数转换成整数。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5.</span>;      <span class="comment">// 解析成整数5</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">5.0</span>;     <span class="comment">// 解析成整数5</span></span><br></pre></td></tr></table></figure>

<p>对于极大或者极小的数值，可采用科学技术法（也称e表示法）。JavaScript 会将那些小数点后面带有6个零以上的小于1的浮点数值转换为以e表示法表示的数值。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">3.14e7</span>;             <span class="comment">// 等于31400000</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">3.14E-7</span>;            <span class="comment">// 等于0.000000314</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0.0000003</span>);     <span class="comment">// 3e-7</span></span><br></pre></td></tr></table></figure>

<p>浮点数值的最高精度是17位小数，但在进行算术计算时其精确度远远不如整数，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0.1</span> + <span class="number">0.2</span>);     <span class="comment">// 0.30000000000000004</span></span><br></pre></td></tr></table></figure>

<p>这个舍入误差会导致无法测试特定的浮点数值，因此，<strong>永远不要测试某个特定的浮点数值</strong>。</p>
<p>Js使用的IEEE~754浮点法是一种二进制表示法，这种表示法可以精确地表示如1&#x2F;2,1&#x2F;8,1&#x2F;1024等分数。然而我们常用的十进制</p>
<p>分数：1&#x2F;10,1&#x2F;100等等，二进制浮点表示法无法精确表示。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">例如：</span><br><span class="line">let x = .3 - .2 ;//这个数值只能非常近似地表示0.1，但无法精确的表示。</span><br><span class="line">let y = .2 - .1;</span><br><span class="line">x ===y;  ==&gt;false</span><br><span class="line">x ===.1; ==&gt;false</span><br><span class="line">y ===.1; ==&gt;true</span><br></pre></td></tr></table></figure>

<p>详解请查看：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/88030191">https://zhuanlan.zhihu.com/p/88030191</a></p>
<p>正无穷、负无穷</p>
<p>由于内存限制，JavaScript 能表示的数值范围从 <code>Number.MIN_VALUE</code> 到 <code>Number.MAX_VALUE</code>，并将超出范围的数转换成 <code>Number.POSITIVE_INFINITY</code> 或 <code>Number.NEGATIVE_INFINITY</code>。0作为除数是不会报错的，正数除以0返回正无穷，负数除以0返回负无穷，0除以0返回<code>NaN</code>。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="property">MAX_VALUE</span>);       <span class="comment">// 最大数 1.7976931348623157e+308</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="property">MIN_VALUE</span>);       <span class="comment">// 最小数 5e-324</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="property">POSITIVE_INFINITY</span>);    <span class="comment">// 正无穷  Infinity</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="property">NEGATIVE_INFINITY</span>);    <span class="comment">// 负无穷 -Infinity</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">1</span> / <span class="number">0</span>);     <span class="comment">//  Infinity</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(-<span class="number">1</span> / <span class="number">0</span>);     <span class="comment">// -Infinity</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>JavaScript 提供了 <code>isFinite()</code> 函数，来确定一个数是不是有穷的。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isFinite</span>(<span class="number">100</span>));         <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isFinite</span>(<span class="title class_">Infinity</span>));    <span class="comment">// false </span></span><br></pre></td></tr></table></figure>



<p>NaN</p>
<p><code>NaN</code>（not a number），是一个特殊的数值。之所以称它为「非数值」，是因为它不能参与算数运算，任何涉及 <code>NaN</code> 的操作都返回 <code>NaN</code>。并且 <code>NaN</code> 与任何值都不相等（包括自身）。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="title class_">NaN</span>);      <span class="comment">// &quot;number&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> / <span class="number">0</span>);                 <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">NaN</span> - <span class="title class_">NaN</span>);             <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Infinity</span> - <span class="title class_">Infinity</span>);   <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="title class_">NaN</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === a);   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>JavaScript 提供了 <code>isNaN()</code> 函数，来确定一个数是不是 <code>NaN</code>。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="number">100</span>));        <span class="comment">//  false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="string">&quot;100&quot;</span>));      <span class="comment">//  false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="literal">true</span>));       <span class="comment">//  false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="string">&quot;sss&quot;</span>));      <span class="comment">//  true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="title class_">NaN</span>));        <span class="comment">//  true</span></span><br></pre></td></tr></table></figure>



<p>Number()<code>、</code>parseInt()<code>、</code>parseFloat()&#96; 转型函数</p>
<p><code>isNaN()</code> 函数在接收到一个值之后，会尝试使用转型函数 <code>Number()</code> 将这个值转换为数值，转换规则如下：</p>
<ul>
<li><code>undefined</code> 转换为 <code>NaN</code>；</li>
<li><code>null</code> 转换为 0；</li>
<li><code>true</code> 转换为 <code>1</code>、<code>false</code> 转换为 <code>0</code>；</li>
<li><code>number</code> 整数转换为十进制，小数不变；</li>
<li><code>string</code> 如果只包含十进制数和小数，则返回对应的数值，如果只包含八进制数，则忽略前导0返回剩余部分，如果只包含十六进制，则返回十进制数，空字符串转换为0，其它字符串转换为 <code>NaN</code>；</li>
<li>如果 <code>object</code> 具有 <code>valueOf()</code> 方法，且返回一个原始值（5种简单数据类型），则将这个原始值转换为数字，并返回这个数字；否则，如果 <code>object</code> 具有 <code>toString()</code> 方法，且返回一个原始值，则将这个原始值转换为数字，并返回这个数字；否则，抛出一个类型错误异常。</li>
</ul>
<p>由于 <code>Number()</code> 转型函数在转换字符串时不够理想，因此还有两个专门用来转换字符串的函数 <code>parseInt()</code> 和 <code>parseFloat()</code> 函数。</p>
<p><code>parseInt()</code> 函数会忽略字符串前面的空格，直至找到第一个非空格字符，只要第一个非空格字符不是数字或者正负号，一律返回 <code>NaN</code>， 如果第一个非空格字符是数字字符，<code>parseInt()</code> 会继续解析第二个字符，直到解析完所有后续字符或者遇到了一个非数字字符。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;&quot;</span>));          <span class="comment">// NaN（Number(&quot;&quot;)返回 0）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;123S&quot;</span>));      <span class="comment">// 123</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;12.4&quot;</span>));      <span class="comment">// 12</span></span><br></pre></td></tr></table></figure>

<p><code>parseFloat()</code> 函数也会忽略字符串前面的空格，直至找到第一个非空格字符，只要第一个非空格字符不是数字或者正负号或者小数点，一律返回 <code>NaN</code>， 如果第一个非空格字符是上述字符之一，<code>parseFloat()</code> 会继续解析第二个字符，直到解析完所有后续字符或者遇到了一个非浮点数值。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>(<span class="string">&quot;098.2&quot;</span>));       <span class="comment">// 98.2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>(<span class="string">&quot;123.23.23&quot;</span>));   <span class="comment">// 123.23</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="2）字符串"><a href="#2）字符串" class="headerlink" title="2）字符串"></a>2）字符串</h5><p>字符串是16位值的不可修改的有序序列，其中每个值都表示一个Unicode字符。</p>
<p>在Js中可以使用单引号、双引号或者反引号(‘ ‘ ,” “,&#96;&#96;)包含起来来表示字符串，双引号和反引号可以出现在由单引号定界的字符</p>
<p>串中，同理由双引号和反引号定界的字符串里也可以包含另外两种引号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot; &quot; //空字符串</span><br><span class="line">&#x27;testing&#x27;</span><br><span class="line">&quot;3.14&quot;</span><br><span class="line">&quot;Wouldn&#x27;t you prefer o&#x27;Reilly&#x27;s Books&quot;</span><br><span class="line">`&quot;she said &#x27;hi&#x27;&quot;,he said`</span><br></pre></td></tr></table></figure>

<ul>
<li><p>转义序列</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">\0    Null字符</span><br><span class="line">\b    退格符</span><br><span class="line">\t    水平制表符</span><br><span class="line">\n    换行符</span><br><span class="line">\f    进纸符</span><br><span class="line">\r    回车符</span><br><span class="line">\&quot;    双引号</span><br><span class="line">\&#x27;    单引号</span><br><span class="line">\\    反斜杠</span><br><span class="line">\xnn   由2位16进制数字nn指定的Unicode字符</span><br></pre></td></tr></table></figure></li>
</ul>
<p>转义字符可出现在字符串中的任意位置，且长度为1。如要在字符串中显示 <code>\</code> ，则必须使用 <code>\</code> 进行转义。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;\n\\&quot;</span>.<span class="property">length</span>);    <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;\\hello&quot;</span>);        <span class="comment">// &quot;\hello&quot;（长度为6）</span></span><br></pre></td></tr></table></figure>

<p>大部分值都可以使用继承而来的 <code>toString()</code>方法转换为字符串，但 <code>undefined</code> 和 <code>null</code> 值没有这个方法。对数值使用 <code>toString()</code> 方法时，可以传入一个数字基数，以此输出对应进制的字符串值。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">true</span>.<span class="title function_">toString</span>());   <span class="comment">// &quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num.<span class="title function_">toString</span>());    <span class="comment">// &quot;10&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num.<span class="title function_">toString</span>(<span class="number">2</span>));   <span class="comment">// &quot;1010&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num.<span class="title function_">toString</span>(<span class="number">8</span>));   <span class="comment">// &quot;12&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num.<span class="title function_">toString</span>(<span class="number">16</span>));  <span class="comment">// &quot;a&quot;</span></span><br></pre></td></tr></table></figure>

<p>在不知道要转换的值是不是 <code>undefined</code> 或 <code>null</code> 的情况下，还可以使用转型函数 <code>String()</code>，这个函数能够将任何类型的值转换为字符串。<code>String()</code> 函数遵循下列转换规则：</p>
<ul>
<li>如果值有 <code>toString()</code> 方法，则调用该方法（没有参数）并返回相应的结果；</li>
<li>如果值是 <code>undefined</code>，则返回 <code>&quot;undefined&quot;</code>；</li>
<li>如果值是 <code>null</code>，则返回 <code>&quot;null&quot;</code>。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> value;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>(<span class="number">10</span>));        <span class="comment">// &quot;10&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>(<span class="literal">true</span>));      <span class="comment">// &quot;true&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>(<span class="literal">null</span>));      <span class="comment">// &quot;null&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>(value));     <span class="comment">// &quot;undefined&quot;</span></span><br></pre></td></tr></table></figure>

<h5 id="3）布尔值"><a href="#3）布尔值" class="headerlink" title="3）布尔值"></a>3）布尔值</h5><p><code>Boolean</code> 类型是 JavaScript 中使用得最多的一种类型，该类型只有两个字面值：<code>true</code> 和 <code>false</code>。需要注意的是，他们是区分大小写的，也就是说 <code>True</code> 和 <code>False</code>（以及其他的混合大小写形式）都不是 <code>Boolean</code> 值，只是标识符。</p>
<p>虽然 <code>Boolean</code> 类型的字面值只有两个，但 JavaScript 中所有类型的值都能使用 <code>if</code> 语句或 <code>Boolean()</code> 函数转换为对应的 <code>Boolean</code> 值，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> message = <span class="string">&quot;Hello world!&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (message)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Value is true.&quot;</span>);  <span class="comment">// 被执行</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> messageAsBoolean = <span class="title class_">Boolean</span>(message);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(messageAsBoolean);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>下表给出了各种数据类型及其对应的转换规则。</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>转换为true的值</th>
<th>转换为false的值</th>
</tr>
</thead>
<tbody><tr>
<td>Undefined</td>
<td>-</td>
<td>undefined</td>
</tr>
<tr>
<td>Null</td>
<td>-</td>
<td>null</td>
</tr>
<tr>
<td>Boolean</td>
<td>true</td>
<td>false</td>
</tr>
<tr>
<td>String</td>
<td>任何非空字符串</td>
<td>“”（空字符串）</td>
</tr>
<tr>
<td>Number</td>
<td>任何非零数字值（包括无穷大）</td>
<td>0和NaN</td>
</tr>
<tr>
<td>Object</td>
<td>任何对象</td>
<td>-</td>
</tr>
</tbody></table>
<h5 id="4）null和undefined"><a href="#4）null和undefined" class="headerlink" title="4）null和undefined"></a>4）null和undefined</h5><p><code>Undefined</code> 类型只有1个值，即 <code>undefined</code>。使用 <code>var</code> 声明变量但未对其加以初始化时，这个变量的值就是 <code>undefined</code>，直接使用未声明的变量会产生错误。对未声明或已声明但未初始化的变量执行 <code>typeof</code> 运算符会返回 <code>&quot;undefined&quot;</code> 值，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> message;    <span class="comment">// 这个变量声明之后默认取得了 undefined 值</span></span><br><span class="line"><span class="comment">// var age      // 这个变量并没有声明</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message);           <span class="comment">// &quot;undefined&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age);               <span class="comment">// 产生错误</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> message);    <span class="comment">// &quot;undefined&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> age);        <span class="comment">// &quot;undefined&quot;</span></span><br></pre></td></tr></table></figure>

<p><code>Null</code> 类型也只有1个值，即 <code>null</code>。它用来表示值的空缺。你可以认为 <code>undefined</code> 是表示系统级的、出乎意料的或类似错误的值的空缺，而 <code>null</code> 是表示程序级的、正常的或在意料之中的值的空缺。在下列场景中应当使用 <code>null</code>。</p>
<ul>
<li>用来初始化一个变量，这个变量可能赋值为一个对象。</li>
<li>用来和一个已经初始化的变量比较，这个变量可以是也可以不是一个对象。</li>
<li>当函数的参数期望是对象时，作用参数传入。</li>
<li>当函数的返回值期望是对象时，作用返回值传出。</li>
</ul>
<p>在下列场景中不应当使用 <code>null</code>。</p>
<ul>
<li>不要使用 <code>null</code> 来检测是否传入了某个参数。</li>
<li>不要使用 <code>null</code> 来检测一个未初始化的变量。</li>
</ul>
<h5 id="5）全局对象"><a href="#5）全局对象" class="headerlink" title="5）全局对象"></a>5）全局对象</h5><p>全局对象的属性是全局性定义的标识符，可以在js程序的任何地方使用。js解释器启动后都会创建一个新的全局对象并为其添</p>
<p>加一组初始的属性。</p>
<h5 id="6）对象和数组"><a href="#6）对象和数组" class="headerlink" title="6）对象和数组"></a>6）对象和数组</h5><p>JavaScript 中所有对象都继承自 <code>Object</code> 类型，每个对象都具有下列基本的属性和方法：</p>
<ul>
<li><code>constructor</code>：保存着用于创建当前对象的函数（构造函数）。</li>
<li><code>hasOwnProperty()</code>：用于检查给定的属性在当前对象实例中是否存在。</li>
<li><code>propertyIsEnumerable()</code>：用于检查给定的属性是否能够使用for-in语句来枚举。</li>
<li><code>isPrototypeOf()</code>：用于检查对象是否是传入对象的原型。</li>
<li><code>toString()</code> 方法：返回对象的字符串表示。</li>
<li><code>toLocaleString()</code>：返回对象的本地字符串表示。</li>
<li><code>valueOf()</code>：返回对象的字符串、数值或布尔值表示（通常与toString()方法的返回值相同）。</li>
</ul>
<p><code>Object</code> 本质上是由一组无序的名值对组成，「名称」部分是一个 JavaScript 字符串，「值」部分可以是任何 JavaScript 的数据类型（包括对象和方法）。这使用户可以根据具体需求，创建出相当复杂的数据结构。</p>
<p>以下两种方法都可以创建一个空对象，这两种方法在语义上是相同的。第二种更方便的方法叫作「对象字面量」法。这也是 JSON 格式的核心语法，一般我们优先选择第二种方法。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;   <span class="comment">// 好的写法</span></span><br></pre></td></tr></table></figure>

<p>「对象字面量」也可以用来在对象实例中定义一个对象：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Carrot&quot;</span>,</span><br><span class="line">    <span class="string">&quot;for&quot;</span>: <span class="string">&quot;Max&quot;</span>,</span><br><span class="line">    <span class="attr">details</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&quot;orange&quot;</span>,</span><br><span class="line">        <span class="attr">size</span>: <span class="number">12</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对象的属性可以通过链式（chain）表示方法进行访问：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj.<span class="property">details</span>.<span class="property">color</span>;       <span class="comment">// orange</span></span><br><span class="line">obj[<span class="string">&quot;details&quot;</span>][<span class="string">&quot;size&quot;</span>];  <span class="comment">// 12</span></span><br></pre></td></tr></table></figure>

<p>完成创建后，对象属性可以通过如下两种方式进行赋值和访问：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">obj.<span class="property">name</span> = <span class="string">&quot;Simon&quot;</span>      <span class="comment">// 赋值</span></span><br><span class="line"><span class="keyword">var</span> name = obj.<span class="property">name</span>;    <span class="comment">// 访问</span></span><br><span class="line"></span><br><span class="line">obj[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;Simon&quot;</span>;  <span class="comment">// 赋值</span></span><br><span class="line"><span class="keyword">var</span> name = obj[<span class="string">&quot;name&quot;</span>]; <span class="comment">// 访问</span></span><br></pre></td></tr></table></figure>

<p>对象不同于原始值，对象是可修改的，即他们的值可以改变；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let object = &#123;</span><br><span class="line">	x:1</span><br><span class="line">&#125;</span><br><span class="line">对象的属性访问：object.x</span><br><span class="line">let arr = [1,2,3]</span><br><span class="line">数组的访问：arr[0]</span><br></pre></td></tr></table></figure>

<p>对象不是按值比较的，两个不同的对象即使拥有完全相同的属性和值，它们也不相等。同样，两个不同的数组，即使每个元</p>
<p>素都相同，顺序也相同，它们也不相等。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let o = &#123;x:1&#125;,p = &#123;x:1&#125;</span><br><span class="line">o===p =&gt;false</span><br><span class="line">let a = [],b = [];</span><br><span class="line">a===b =&gt;false</span><br></pre></td></tr></table></figure>

<p>对象被称作引用类型，以区别于js的原始类型。对象值就是引用，对象是按引用比较的。两个对象值当且仅当它们引用同一个</p>
<p>底层对象时，才是相等的。</p>
<h5 id="7）变量声明与赋值"><a href="#7）变量声明与赋值" class="headerlink" title="7）变量声明与赋值"></a>7）变量声明与赋值</h5><p>变量是通过var或let关键字声明的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let i;</span><br><span class="line">let sum;</span><br><span class="line">var i ;</span><br><span class="line">var sum;</span><br></pre></td></tr></table></figure>

<p>也可以使用一条var&#x2F;let语句声明多个变量；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let i,sum;</span><br><span class="line">var i,sum;</span><br></pre></td></tr></table></figure>

<p>声明变量的同时也为其赋值是一个好的编程习惯；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let msg = &quot;Hello World&quot;;</span><br><span class="line">let i = 0;j = 0;k = 0;</span><br></pre></td></tr></table></figure>

<p>如果在var&#x2F;let语句中不为变量指定初始值，变量也会被声明，但在赋值之前它的值是undefined。</p>
<p>const是用来声明常量的，常量在声明是必须初始化且值不能改变，尝试给常量重新赋值会抛出TypeError</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const H0 = 74;</span><br><span class="line">const C = 299792.458</span><br></pre></td></tr></table></figure>

<p>变量的作用域是程序源代码中的一个区域，在这个区域内变量有定义。通过let和const声明的变量和常量具有块作用域。这意味着它们只在let和const语句所在的代码块中有定义。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">console.log(i);//抛出错误</span><br><span class="line">if(true)&#123;</span><br><span class="line">	let i = 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在同一个作用域中使用多个let或const声明同一个名字是语法错误。在嵌套作用域中声明同名变量是合法的（最好不要这么做）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const x = 1;</span><br><span class="line">if(x === 1)&#123;</span><br><span class="line">	let x = 2;</span><br><span class="line">	console.log(2)//打印2</span><br><span class="line">&#125;</span><br><span class="line">console.log(x);//打印1，回到全局作用域</span><br><span class="line">let x = 3;//报错</span><br></pre></td></tr></table></figure>

<p>使用var和let声明的区别：</p>
<ul>
<li>使用var声明的变量不具有块作用域，这种变量的作用域仅限于包含函数的函数体，无论它们在函数中嵌套的层次有多深。</li>
<li>如果在函数体外使用var声明，会声明一个全局变量。通过var声明的全局变量可以通过globalThis引用，因此，如果在函数外部写了var x &#x3D;2,则相当于globalThis.x &#x3D; 2;</li>
<li>使用var多次声明同名变量是合法的。</li>
<li>var声明变量的特性是作用域提升。在使用var声明变量时，该声明会被提高到包含函数的顶部。但变量的初始化仍然在代码所在位置完成，只有变量的定义转移到了函数顶部。</li>
</ul>
<h5 id="8）课堂练习-1"><a href="#8）课堂练习-1" class="headerlink" title="8）课堂练习"></a>8）课堂练习</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战一</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="string">&quot;undefined&quot;</span>);  <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">null</span>);         <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战二</span></span><br><span class="line"><span class="keyword">var</span> message = <span class="string">&quot;some string&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> massage);    <span class="comment">// ???</span></span><br><span class="line">message = <span class="number">10000</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> message);    <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战三</span></span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="keyword">var</span> b = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> c = &#123;&#125;;</span><br><span class="line"><span class="keyword">if</span>(a &amp;&amp; b &amp;&amp; c)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;true.&quot;</span>);       <span class="comment">// ???</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;false.&quot;</span>);      <span class="comment">// ???</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战四</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> (<span class="number">0</span> / <span class="number">0</span>));    <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">023</span> + <span class="number">123</span>);         <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战五</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="string">&quot;1234S&quot;</span>));   <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;1234S&quot;</span>)); <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战六</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3.14E-7</span> === <span class="number">0.000000314</span>);   <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0.1</span> + <span class="number">0.6</span> === <span class="number">0.7</span>); <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0.1</span> + <span class="number">0.7</span> === <span class="number">0.8</span>); <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">NaN</span> === <span class="title class_">NaN</span>);       <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战七</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;\right\now&quot;</span>);          <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;\right\now&quot;</span>.<span class="property">length</span>);   <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">010</span>.<span class="title function_">toString</span>(<span class="number">2</span>));       <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战八</span></span><br><span class="line"><span class="comment">// 1、为 person、wife、child 对象新增 weight 属性，数值分别为 62、36、15。</span></span><br><span class="line"><span class="comment">// 2、为 person 对象新增二胎 child2 子对象，name 为 emma，其他属性自行发挥。</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;stone&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="attr">wife</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;sohpie&quot;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">child</span>:&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;tommy&quot;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//定义两个变量，apple1= &quot;青苹果&quot;，apple2=&quot;红苹果&quot;，交换两个变量的值，使apple1=&quot;红苹果&quot;，apple2=&quot;青苹果&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">console.log(Boolean(&#x27;&#x27;)); // </span><br><span class="line">console.log(Boolean(0)); // </span><br><span class="line">console.log(Boolean(NaN)); // </span><br><span class="line">console.log(Boolean(null)); // </span><br><span class="line">console.log(Boolean(undefined)); // </span><br><span class="line">console.log(&#x27;------------------------------&#x27;);</span><br><span class="line">console.log(Boolean(&#x27;123&#x27;));</span><br><span class="line">console.log(Boolean(&#x27;你好吗&#x27;));</span><br><span class="line">console.log(Boolean(&#x27;我很好&#x27;));</span><br></pre></td></tr></table></figure>







<h2 id="表达式与操作符"><a href="#表达式与操作符" class="headerlink" title="表达式与操作符"></a>表达式与操作符</h2><h4 id="1）表达式"><a href="#1）表达式" class="headerlink" title="1）表达式"></a>1）表达式</h4><p>表达式是由数字、运算符、数字分组符号（如括号）、自由变量和约束变量等以能求得数值的有意义排列方法所得的组合。JavaScript 表达式主要有以下几种形式：</p>
<ul>
<li>原始表达式：常量、变量、保留字。</li>
<li>对象、数组初始化表达式：<code>var obj=&#123;a:1,b:2&#125;;</code>，<code>var arr=[1,2,3];</code>。</li>
<li>函数定义表达式：<code>var fn=function()&#123;&#125;</code>。</li>
<li>属性访问表达式：<code>Math.abs</code>。</li>
<li>调用表达式：<code>alert(&#39;hello&#39;);</code>。</li>
<li>对象创建表达式：<code>new object();</code>。</li>
</ul>
<h5 id="1）函数定义表达式"><a href="#1）函数定义表达式" class="headerlink" title="1）函数定义表达式"></a>1）函数定义表达式</h5><p>函数定义表达式通常用关键字function,位于括号中的逗号分隔的0或多个标识符，以及一个位于花括号中的js代码块构成。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let square = function(x)&#123; return x*x;&#125;</span><br><span class="line">或</span><br><span class="line">function square(x)&#123;</span><br><span class="line">	return x*x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2）属性访问表达式"><a href="#2）属性访问表达式" class="headerlink" title="2）属性访问表达式"></a>2）属性访问表达式</h5><p>属性访问表达式求值为对象属性或数组元素的值，其语法结构为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expression.identifier</span><br><span class="line">expression[identifier]</span><br></pre></td></tr></table></figure>

<p>第一种属性访问语法是表达式后跟着一个句点和一个标识符。其中，表达式指定对象，标识符指定属性名。第二种属性访问语法是表达式后跟另一个位于方括号中的表达式。这第二个表达式指定属性名或数组元素的索引。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let  o = &#123;x:1,y:&#123;z:3&#125;&#125;;</span><br><span class="line">let  a = [o,4,[5,6]]</span><br><span class="line">o.x;</span><br><span class="line">o.y.z</span><br><span class="line">a[1]</span><br><span class="line">a[0]</span><br></pre></td></tr></table></figure>

<h4 id="2）运算符"><a href="#2）运算符" class="headerlink" title="2）运算符"></a>2）运算符</h4><p>JavaScript 中的运算符用于算术表达式、比较表达式、逻辑表达式、赋值表达式等。需要注意的是，大多数运算符都是由标点符号表示的，比如 <code>+</code> 和 <code>=</code>。而另外一些运算符则是由关键字表示的，比如 <code>typeof</code> 和 <code>instanceof</code>，关键字运算符和标点符号都是正规的运算符。</p>
<p>下表列出了 JavaScript 中所有的运算符，并按照运算符的优先级排序的，前面的运算符优先级要高于后面的运算符优先级，被空行分隔开来的运算符具有不同的优先级。标题为 A 的列表示运算符的结合性（Associativity），L 表示从左至右、R 表示从右至左，标题为 N 的列表示操作数的个数（Number）。</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>操作</th>
<th>A</th>
<th>N</th>
</tr>
</thead>
<tbody><tr>
<td><code>++</code></td>
<td>前&#x2F;后增量</td>
<td>R</td>
<td>1</td>
</tr>
<tr>
<td><code>--</code></td>
<td>前&#x2F;后增量</td>
<td>R</td>
<td>1</td>
</tr>
<tr>
<td><code>-</code></td>
<td>求反</td>
<td>R</td>
<td>1</td>
</tr>
<tr>
<td><code>+</code></td>
<td>转换为数字</td>
<td>R</td>
<td>1</td>
</tr>
<tr>
<td><code>~</code></td>
<td>按位求反</td>
<td>R</td>
<td>1</td>
</tr>
<tr>
<td><code>!</code></td>
<td>逻辑非</td>
<td>R</td>
<td>1</td>
</tr>
<tr>
<td><code>delete</code></td>
<td>删除属性</td>
<td>R</td>
<td>1</td>
</tr>
<tr>
<td><code>typeof</code></td>
<td>检测类型</td>
<td>R</td>
<td>1</td>
</tr>
<tr>
<td><code>void</code></td>
<td>返回<code>undefined</code></td>
<td>R</td>
<td>1</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>*</code> <code>/</code> <code>%</code></td>
<td>乘，除，求模</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>+</code> <code>-</code></td>
<td>加，减</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>+</code></td>
<td>字符串连接</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>左移位</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>有符号右移</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>&gt;&gt;&gt;</code></td>
<td>无符号右移</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>&lt;</code> <code>&lt;=</code> <code>&gt;</code> <code>&gt;=</code></td>
<td>比较数字顺序</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>&lt;</code> <code>&lt;=</code> <code>&gt;</code> <code>&gt;=</code></td>
<td>比较字母顺序</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>instanceof</code></td>
<td>测试对象类</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>in</code></td>
<td>测试属性是否存在</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>==</code></td>
<td>判断相等</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>判断不等</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>===</code></td>
<td>判断恒等</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>!==</code></td>
<td>判断恒不等</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>&amp;</code></td>
<td>按位与</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>^</code></td>
<td>按位异或</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>┃</code></td>
<td>按位或</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>&amp;&amp;</code></td>
<td>逻辑与</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>┃┃</code></td>
<td>逻辑或</td>
<td>L</td>
<td>2</td>
</tr>
<tr>
<td><code>?:</code></td>
<td>条件运算符</td>
<td>R</td>
<td>3</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>=</code></td>
<td>赋值</td>
<td>R</td>
<td>2</td>
</tr>
<tr>
<td><code>*=</code> <code>/=</code> <code>%=</code> <br> <code>+=</code> <code>-=</code> <code>&amp;=</code> <br>  <code>&lt;&lt;=</code> <code>&gt;&gt;=</code> <br> <code>^=</code> <code>┃=</code> <code>&gt;&gt;&gt;=</code></td>
<td>运算且赋值</td>
<td>R</td>
<td>2</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>,</code></td>
<td>忽略第一个操作数，<br> 返回第二个操作数</td>
<td>L</td>
<td>2</td>
</tr>
</tbody></table>
<blockquote>
<p>因为 <code>|</code> 是制表符，会导致格式混乱，所以表格中的 <code>|</code> 均以 <code>┃</code> 代替。</p>
</blockquote>
<h5 id="1）一元运算符"><a href="#1）一元运算符" class="headerlink" title="1）一元运算符"></a>1）一元运算符</h5><h6 id="（1）delete-运算符"><a href="#（1）delete-运算符" class="headerlink" title="（1）delete 运算符"></a><code>（1）delete</code> 运算符</h6><p><code>delete</code> 运算符用来删除对象属性或者数组元素，如果删除成功或所删除的目标不存在，<code>delete</code> 将返回 <code>true</code>。然而，并不是所有的属性都可删除，一些内置核心和客户端属性是不能删除的，通过 <code>var</code> 语句声明的变量不能删除，通过 <code>function</code> 语句定义的函数也是不能删除的。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;;          <span class="comment">// 定义一个对象</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">delete</span> o.<span class="property">x</span>);        <span class="comment">// true，删除一个属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">delete</span> o.<span class="property">x</span>);        <span class="comment">// true，什么都没做，x 在已上一步被删除</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;x&quot;</span> <span class="keyword">in</span> o);          <span class="comment">// false，这个属性在对象中不再存在</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">delete</span> o.<span class="property">toString</span>); <span class="comment">// true，什么也没做，toString是继承来的</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">delete</span> <span class="number">1</span>);          <span class="comment">// true，无意义</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [<span class="string">&quot;x&quot;</span>,<span class="string">&quot;y&quot;</span>,<span class="string">&quot;z&quot;</span>];          <span class="comment">// 定义一个数组</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span> <span class="keyword">in</span> a);            <span class="comment">// true，下标为2的元素，在数组中存在</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">delete</span> a[<span class="number">2</span>]);       <span class="comment">// true，删除下标为2的元素（最后一个数组元素）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span> <span class="keyword">in</span> a);            <span class="comment">// false，下标为2的元素，在数组中不再存在</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">length</span>);          <span class="comment">// 3，数组长度并不会因 delete 而改变</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a[<span class="number">2</span>]);              <span class="comment">// undefined，下标为2的元素，位置被空了出来</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">delete</span> a);          <span class="comment">// false，通过 var 语句声明的变量不能删除</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">args</span>)&#123;&#125;              <span class="comment">// 定义一个函数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">delete</span> f);          <span class="comment">// false，通过 function 语句声明的函数不能删除</span></span><br></pre></td></tr></table></figure>

<h6 id="（2）void-运算符"><a href="#（2）void-运算符" class="headerlink" title="（2）void 运算符"></a><code>（2）void</code> 运算符</h6><p><code>void</code> 运算符可以应用于任何表类型的表达式，表达式会被执行，但计算结果会被忽略并返回 <code>undefined</code>。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="string">&quot;you are useless?&quot;</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">void</span> [];</span><br><span class="line"><span class="keyword">void</span> /(useless)/ig;</span><br><span class="line"><span class="keyword">void</span> <span class="keyword">function</span>(<span class="params"></span>)&#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;you are so useless?&quot;</span>); &#125;</span><br><span class="line"><span class="comment">// always return undefined</span></span><br></pre></td></tr></table></figure>

<h6 id="（3）typeof-运算符"><a href="#（3）typeof-运算符" class="headerlink" title="（3）typeof 运算符"></a><code>（3）typeof</code> 运算符</h6><p>鉴于 JavaScript 是松散类型的，因此需要有一种手段来检测给定变量的数据类型，<code>typeof</code> 就是负责提供这方面信息的运算符。对一个值使用 <code>typeof</code> 运算符可能返回下列某个字符串：</p>
<ul>
<li><code>&quot;undefined&quot;</code>，如果这个值未声明或已声明但未初始化。</li>
<li><code>&quot;boolean&quot;</code>，如果这个值是布尔值。</li>
<li><code>&quot;string&quot;</code>，如果这个值是字符串。</li>
<li><code>&quot;number&quot;</code>，如果这个值是数值。</li>
<li><code>&quot;object&quot;</code>，如果这个值是对象或 <code>null</code>。</li>
<li><code>&quot;function&quot;</code>，如果这个值是函数。</li>
</ul>
<p>下面是几个使用 <code>typeof</code> 运算符的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> message = <span class="string">&quot;some string&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> message);     <span class="comment">// &quot;string&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">typeof</span>(message));    <span class="comment">// &quot;string&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="number">95</span>);          <span class="comment">// &quot;number&quot;</span></span><br></pre></td></tr></table></figure>

<p>从以上例子可以看出，<code>typeof</code> 运算符既可以对变量使用，又可以对字面量使用。由于 <code>typeof</code> 是一个运算符而不是函数，因此例子中的圆括号尽管可以使用，但并不提倡。</p>
<p><code>typeof null</code> 结果是 <code>&quot;object&quot;</code> 是历史遗留 Bug，在 ECMAScript 6 中，曾经有提案为历史平反, 将 <code>typeof null</code> 的值纠正为 <code>&quot;null&quot;</code>，但最后该提案被拒。理由是历史遗留代码太多，不如继续将错就错。</p>
<h6 id="（4）-运算符"><a href="#（4）-运算符" class="headerlink" title="（4）++ -- 运算符"></a><code>（4）++</code> <code>--</code> 运算符</h6><p><code>++</code> <code>--</code> 递增递减运算符借鉴自 C 语言，它们分前置型和后置型，作用是改变一个变量的值。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a++);   <span class="comment">// 5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(++a);   <span class="comment">// 7</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a--);   <span class="comment">// 7</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(--a);   <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<h6 id="（5）-运算符"><a href="#（5）-运算符" class="headerlink" title="（5）+ - 运算符"></a><code>（5）+</code> <code>-</code> 运算符</h6><p>当 <code>+</code> <code>-</code> 作为一元运算符时，应用于数值，表示数值的正负。应用于非数值，先按 <code>Number()</code> 转型函数对这个值执行转换，再表示该值的正负。</p>
<h6 id="（6）-运算符"><a href="#（6）-运算符" class="headerlink" title="（6）~ ! 运算符"></a><code>（6）~</code> <code>!</code> 运算符</h6><blockquote>
<p><code>~</code> 按位非运算符，请参见下面<a target="_blank" rel="noopener" href="https://github.com/stone0090/javascript-lessons/tree/master/1.5-Expression&Operators#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6">「位运算符」</a>。<br><code>!</code> 逻辑非运算符，请参见下面<a target="_blank" rel="noopener" href="https://github.com/stone0090/javascript-lessons/tree/master/1.5-Expression&Operators#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6">「逻辑运算符」</a>。</p>
</blockquote>
<h5 id="2）乘性运算符"><a href="#2）乘性运算符" class="headerlink" title="2）乘性运算符"></a>2）乘性运算符</h5><p>JavaScript 定义了3个乘性运算符：乘法、除法和求模。这些运算符与 C 语言的相应运算符用途类似，只不过在操作数为非数值的情况下会执行自动的类型转换。如果参与乘法计算的某个操作数不是数值，后台会先使用 <code>Number()</code> 转型函数将其转换为数值。也就是说，空字符串将被当作 <code>0</code>，布尔值 <code>true</code> 将被当作 <code>1</code>。</p>
<h6 id="（1）-乘法运算符"><a href="#（1）-乘法运算符" class="headerlink" title="（1）* 乘法运算符"></a><code>（1）*</code> 乘法运算符</h6><p>用于计算两个数值的乘积，在处理特殊值的情况下，乘法运算符遵循下列特殊的规则：</p>
<ul>
<li>如果操作数都是数值，执行常规的乘法计算，即两个正数或两个负数相乘的结果还是正数，而如果只有一个操作数有符号，那么结果就是负数。如果乘积超过了 JavaScript 数值的表示范围，则返回 <code>Infinity</code> 或 <code>-Infinity</code>；</li>
<li>如果有一个操作数是 <code>NaN</code>，则结果是 <code>NaN</code>；</li>
<li>如果是 <code>Infinity</code> 与 <code>0</code> 相乘，则结果是 <code>NaN</code>；</li>
<li>如果是 <code>Infinity</code> 与非 <code>0</code> 数值相乘，则结果是 <code>Infinity</code> 或 <code>-Infinity</code>，取决于有符号操作数的符号；</li>
<li>如果是 <code>Infinity</code> 与 <code>Infinity</code> 相乘，则结果是 <code>Infinity</code>；<br>如果有一个操作数不是数值，则在后台调用 <code>Number()</code>将其转换为数值，然后再应用上面的规则。</li>
</ul>
<h6 id="（2）-除法运算符"><a href="#（2）-除法运算符" class="headerlink" title="（2）/ 除法运算符"></a><code>（2）/</code> 除法运算符</h6><p>用于计算两个数值的商，与乘法运算符类似，除法运算符对特殊的值也有特殊的处理规则。这些规则如下：</p>
<ul>
<li>如果操作数都是数值，执行常规的除法计算，即两个正数或两个负数相除的结果还是正数，而如果只有一个操作数有符号，那么结果就是负数。如果商超过了 JavaScript 数值的表示范围，则返回 <code>Infinity</code> 或 <code>-Infinity</code>；</li>
<li>如果有一个操作数是 <code>NaN</code>，则结果是 <code>NaN</code>；</li>
<li>如果是 <code>Infinity</code> 被 <code>Infinity</code> 除，则结果是 <code>NaN</code>；</li>
<li>如果是零被零除，则结果是 <code>NaN</code>；</li>
<li>如果是非零的有限数被零除，则结果是 <code>Infinity</code> 或 <code>-Infinity</code>，取决于有符号操作数的符号；</li>
<li>如果是 <code>Infinity</code> 被任何非零数值除，则结果是 <code>Infinity</code> 或 <code>-Infinity</code>，取决于有符号操作数的符号；</li>
<li>如果有一个操作数不是数值，则在后台调用 <code>Number()</code> 将其转换为数值，然后再应用上面的规则。</li>
</ul>
<h6 id="（3）-求模运算符"><a href="#（3）-求模运算符" class="headerlink" title="（3）% 求模运算符"></a>（3）<code>%</code> 求模运算符</h6><p>用于计算两个数值的余数，与另外两个乘性运算符类似，求模运算符会遵循下列特殊规则来处理特殊的值：</p>
<ul>
<li>如果操作数都是数值，执行常规的除法计算，返回除得的余数；</li>
<li>如果被除数是无穷大值而除数是有限大的数值，则结果是 <code>NaN</code>；</li>
<li>如果被除数是有限大的数值而除数是零，则结果是 <code>NaN</code>；</li>
<li>如果是 <code>Infinity</code> 被 <code>Infinity</code> 除，则结果是 <code>NaN</code>；</li>
<li>如果被除数是有限大的数值而除数是无穷大的数值，则结果是被除数；</li>
<li>如果被除数是零，则结果是零；</li>
<li>如果有一个操作数不是数值，则在后台调用 <code>Number()</code> 将其转换为数值，然后再应用上面的规则。</li>
</ul>
<h5 id="3）加性运算符"><a href="#3）加性运算符" class="headerlink" title="3）加性运算符"></a>3）加性运算符</h5><p>加法和减法这两个加性运算符应该说是编程语言中最简单的算术运算符了。但是在 JavaScript 中，这两个运算符却都有一系列的特殊行为。与乘性运算符类似，加性运算符也会在后台转换不同的数据类型。然而，对于加性运算符而言，相应的转换规则还稍微有点复杂。</p>
<h6 id="加法运算符"><a href="#加法运算符" class="headerlink" title="+ 加法运算符"></a><code>+</code> 加法运算符</h6><p>如果两个运算符都是数值，执行常规的加法计算，然后根据下列规则返回结果：</p>
<ul>
<li>如果有一个操作数是 <code>NaN</code>，则结果是 <code>NaN</code>；</li>
<li>如果是 <code>Infinity</code> 加 <code>Infinity</code>，则结果是 <code>Infinity</code>；</li>
<li>如果是 <code>-Infinity</code> 加 <code>-Infinity</code>，则结果是 <code>-Infinity</code>；</li>
<li>如果是 <code>Infinity</code> 加- <code>Infinity</code>，则结果是 <code>NaN</code>；</li>
<li>如果是 <code>+0</code> 加 <code>+0</code>，则结果是 <code>+0</code>；</li>
<li>如果是 <code>-0</code> 加 <code>-0</code>，则结果是 <code>-0</code>；</li>
<li>如果是 <code>+0</code> 加 <code>-0</code>，则结果是 <code>+0</code>;</li>
</ul>
<p>如果有一个操作数不是数值，那么就要应用如下规则：</p>
<ul>
<li>如果两个操作数都是字符串，则将第二个操作数与第一个操作数拼接起来；</li>
<li>如果只有一个操作数是字符串，则将另一个操作数转换为字符串，然后再将两个字符串拼接起来。</li>
<li>如果有一个操作数是对象、数值或布尔值，则调用它们的 <code>toString()</code> 方法取得相应的字符串值，然后再应用前面关于字符串的规则。对于 <code>undefined</code> 和 <code>null</code>，则分别调用 <code>String()</code> 函数并取得字符串 <code>&quot;undefined&quot;</code> 和 <code>&quot;null&quot;</code>。</li>
<li>如果是 <code>null</code> 加 <code>null</code>，则结果是 <code>0</code>;</li>
<li>如果是 <code>undefined</code> 加 <code>undefined</code>，则结果是 <code>NaN</code>;</li>
</ul>
<p>下面来举几个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result1 = <span class="number">5</span> + <span class="number">5</span>;            <span class="comment">// 两个数值相加</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result1);           <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result2 = <span class="number">5</span> + <span class="string">&quot;5&quot;</span>;          <span class="comment">// 一个数值和一个字符串相加</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result2);           <span class="comment">// &quot;55&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num1 = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">var</span> num2 = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> message = <span class="string">&quot;The sum of 5 and 10 is &quot;</span> + num1 + num2;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message);   <span class="comment">// &quot;The sum of 5 and 10 is 510&quot;，如何修改？</span></span><br></pre></td></tr></table></figure>

<h6 id="减法运算符"><a href="#减法运算符" class="headerlink" title="- 减法运算符"></a><code>-</code> 减法运算符</h6><p>如果两个运算符都是数值，执行常规的减法计算，然后根据下列规则返回结果：</p>
<ul>
<li>如果有一个操作数是 <code>NaN</code>，则结果是 <code>NaN</code>；</li>
<li>如果是 <code>Infinity</code> 减 <code>Infinity</code>，则结果是 <code>NaN</code>；</li>
<li>如果是 <code>-Infinity</code> 减 <code>-Infinity</code>，则结果是 <code>NaN</code>；</li>
<li>如果是 <code>Infinity</code> 减 <code>-Infinity</code>，则结果是 <code>Infinity</code>；</li>
<li>如果是 <code>-Infinity</code> 减 <code>Infinity</code>，则结果是 <code>-Infinity</code>；</li>
<li>如果是 <code>+0</code> 减 <code>+0</code>，则结果是 <code>+0</code>；</li>
<li>如果是 <code>+0</code> 减 <code>-0</code>，则结果是 <code>-0</code>；</li>
<li>如果是 <code>-0</code> 减 <code>-0</code>，则结果是 <code>+0</code>；</li>
</ul>
<p>如果有一个操作数不是数值，那么就要应用如下规则：</p>
<ul>
<li>如果有一个操作数是字符串、布尔值、<code>null</code> 或 <code>undefined</code>，则先在后台调用 <code>Number()</code> 函数将其转换为数值，然后再根据前面的规则执行减法计算。如果转换的结果是 <code>NaN</code>，则减法的结果就是 <code>NaN</code>；</li>
<li>如果有一个操作数是对象，则调用对象的 <code>valueOf()</code> 方法以取得表示该对象的数值。如果得到的值是 <code>NaN</code>，则减法的结果就是 <code>NaN</code>。如果对象没有 <code>valueOf()</code> 方法，则调用其 <code>toString()</code>方法并将得到的字符串转换为数值。</li>
<li>如果是 <code>null</code> 减 <code>null</code>，则结果是 <code>0</code>;</li>
<li>如果是 <code>undefined</code> 减 <code>undefined</code>，则结果是 <code>NaN</code>;</li>
</ul>
<p>下面来举几个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result1 = <span class="number">5</span> - <span class="literal">true</span>;         <span class="comment">// 4，因为true被转换成了1</span></span><br><span class="line"><span class="keyword">var</span> result2 = <span class="title class_">NaN</span> - <span class="number">1</span>;          <span class="comment">// NaN</span></span><br><span class="line"><span class="keyword">var</span> result3 = <span class="number">5</span> - <span class="number">3</span>;            <span class="comment">// 2</span></span><br><span class="line"><span class="keyword">var</span> result4 = <span class="number">5</span> - <span class="string">&quot;&quot;</span>;           <span class="comment">// 5，因为&quot;&quot; 被转换成了0</span></span><br><span class="line"><span class="keyword">var</span> result5 = <span class="number">5</span> - <span class="string">&quot;2&quot;</span>;          <span class="comment">// 3，因为&quot;2&quot;被转换成了2</span></span><br><span class="line"><span class="keyword">var</span> result6 = <span class="number">5</span> - <span class="literal">null</span>;         <span class="comment">// 5，因为null被转换成了0</span></span><br></pre></td></tr></table></figure>

<h5 id="4）等值运算符"><a href="#4）等值运算符" class="headerlink" title="4）等值运算符"></a>4）等值运算符</h5><p>确定两个变量是否相等是编程中的一个非常重要的操作。在比较简单数据类型之间的相等性时，问题还比较简单。但在涉及到对象之间的比较时，问题就变得复杂了。最早的 JavaScript 中的相等和不等运算符会在执行比较之前，先将对象转换成相似的类型。后来，有人提出了这种转换到底是否合理的质疑。最后，JavaScript 的解决方案就是提供两组运算符：相等和不相等（先转换再比较），恒等和不恒等（仅比较而不转换）。</p>
<h6 id="运算符"><a href="#运算符" class="headerlink" title="== != 运算符"></a><code>==</code> <code>!=</code> 运算符</h6><p><code>==</code> <code>!=</code> 这两个运算符都会先转换操作数（通常称为强制转型），然后再比较它们的相等性。在转换不同的数据类型时，相等和不相等运算符遵循下列基本规则：</p>
<ul>
<li>如果有一个操作数是布尔值，则在比较相等性之前先将其转换为数值（<code>false</code> 转换为 <code>0</code>，而 <code>true</code> 转换为 <code>1</code>）；</li>
<li>如果一个操作数是字符串，另一个操作数是数值，在比较相等性之前先将字符串转换为数值；</li>
<li>如果一个操作数是对象，另一个操作数不是，则调用对象的 <code>valueOf()</code> 方法，用得到的基本类型值按照前面的规则进行比较；</li>
<li><code>null</code> 和 <code>undefined</code> 是相等的。<br>要比较相等性之前，不能将 <code>null</code> 和 <code>undefined</code> 转换成其他任何值。</li>
<li>如果有一个操作数是 <code>NaN</code>，则相等运算符返回 <code>false</code>，而不相等运算符返回 <code>true</code>。重要提示：即使两个操作数都是 <code>NaN</code>，相等运算符也返回 <code>false</code>；因为按照规则，<code>NaN</code> 不等于 <code>NaN</code>。</li>
<li>如果两个操作数都是对象，则比较它们是不是同一个对象。如果两个操作数都指向同一个对象，则相等运算符返回 <code>true</code>；否则，返回 <code>false</code>。</li>
</ul>
<p>列出了一些特殊情况及比较结果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span>   <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;NaN&quot;</span> == <span class="title class_">NaN</span>        <span class="comment">// false</span></span><br><span class="line"><span class="number">5</span> == <span class="title class_">NaN</span>            <span class="comment">// false</span></span><br><span class="line"><span class="title class_">NaN</span> == <span class="title class_">NaN</span>          <span class="comment">// false</span></span><br><span class="line"><span class="title class_">NaN</span> != <span class="title class_">NaN</span>          <span class="comment">// true</span></span><br><span class="line"><span class="literal">false</span> == <span class="number">0</span>          <span class="comment">// true</span></span><br><span class="line"><span class="literal">true</span> == <span class="number">1</span>           <span class="comment">// true</span></span><br><span class="line"><span class="literal">true</span> == <span class="number">2</span>           <span class="comment">// false</span></span><br><span class="line"><span class="literal">undefined</span> == <span class="number">0</span>      <span class="comment">// false</span></span><br><span class="line"><span class="literal">null</span> == <span class="number">0</span>           <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;5&quot;</span> == <span class="number">5</span>            <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h6 id="运算符-1"><a href="#运算符-1" class="headerlink" title="=== !== 运算符"></a><code>===</code> <code>!==</code> 运算符</h6><p>除了在比较之前不转换操作数之外，恒等和不恒等运算符与相等和不相等运算符没有什么区别。它只在两个操作数未经转换就相等的情况下返回 <code>true</code>，如下面的例子所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result1 = (<span class="string">&quot;55&quot;</span> == <span class="number">55</span>);     <span class="comment">// true，因为转换后相等</span></span><br><span class="line"><span class="keyword">var</span> result2 = (<span class="string">&quot;55&quot;</span> === <span class="number">55</span>);    <span class="comment">// false，因为不同的数据类型不相等</span></span><br><span class="line"><span class="keyword">var</span> result3 = (<span class="literal">null</span> == <span class="literal">undefined</span>)   <span class="comment">// true，因为它们是类似的值</span></span><br><span class="line"><span class="keyword">var</span> result4 = (<span class="literal">null</span> === <span class="literal">undefined</span>)  <span class="comment">// false，因为它们是不同类型的值</span></span><br></pre></td></tr></table></figure>

<h5 id="5）关系运算符"><a href="#5）关系运算符" class="headerlink" title="5）关系运算符"></a>5）关系运算符</h5><h6 id="lt-gt-lt-gt-运算符"><a href="#lt-gt-lt-gt-运算符" class="headerlink" title="&lt; &gt; &lt;= &gt;= 运算符"></a><code>&lt;</code> <code>&gt;</code> <code>&lt;=</code> <code>&gt;=</code> 运算符</h6><p><code>&lt;</code> 小于、<code>&gt;</code> 大于、<code>&lt;=</code> 小于等于、 <code>&gt;=</code> 大于等于 这几个关系运算符用于对两个值进行比较返回一个布尔值。与 JavaScript 中的其他运算符一样，当关系运算符的操作数使用了非数值时，也要进行数据转换或完成某些奇怪的操作。以下就是相应的规则。</p>
<ul>
<li>如果两个操作数都是数值，则执行数值比较。</li>
<li>如果两个操作数都是字符串，则比较两个字符串对应的字符编码值（可以通过字符串的 <code>charCodeAt()</code> 函数获取字符编码值）。</li>
<li>如果一个操作数是数值，则将另一个操作数转换为一个数值，然后执行数值比较。</li>
<li>如果一个操作数是对象，则调用这个对象的 <code>valueOf()</code> 方法，用得到的结果按照前面的规则执行比较。如果对象没有 <code>valueOf()</code>方法，则调用 <code>toString()</code>方法，并用得到的结果根据前面的规则执行比较。</li>
<li>如果一个操作数是布尔值，则先将其转换为数值，然后再执行比较。</li>
</ul>
<p>请思考下面几个例子的结果是如何得出的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result1 = <span class="string">&quot;Brick&quot;</span> &lt; <span class="string">&quot;alphabet&quot;</span>;     <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> result2 = <span class="string">&quot;brick&quot;</span> &lt; <span class="string">&quot;alphabet&quot;</span>;     <span class="comment">// false</span></span><br><span class="line"><span class="keyword">var</span> result3 = <span class="string">&quot;23&quot;</span> &lt; <span class="string">&quot;3&quot;</span>;   <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> result4 = <span class="string">&quot;23&quot;</span> &lt; <span class="number">3</span>;     <span class="comment">// false</span></span><br><span class="line"><span class="keyword">var</span> result5 = <span class="string">&quot;a&quot;</span> &lt; <span class="number">3</span>;      <span class="comment">// false</span></span><br><span class="line"><span class="keyword">var</span> result6 = <span class="title class_">NaN</span> &lt; <span class="number">3</span>;      <span class="comment">// false</span></span><br><span class="line"><span class="keyword">var</span> result7 = <span class="title class_">NaN</span> &gt;= <span class="number">3</span>;     <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h6 id="in-运算符"><a href="#in-运算符" class="headerlink" title="in 运算符"></a><code>in</code> 运算符</h6><p><code>in</code> 运算符希望它的左操作数是一个字符串或可以转换为字符串，希望它的右操作数是一个对象。如果右侧的对象拥有一个名为左操作数值的属性名，那么表达式返回 <code>true</code>，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> point = &#123; <span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">1</span> &#125;;       <span class="comment">// 定义一个对象</span></span><br><span class="line"><span class="string">&quot;x&quot;</span> <span class="keyword">in</span> point                    <span class="comment">// true，对象有一个名为&quot;x&quot;的属性</span></span><br><span class="line"><span class="string">&quot;z&quot;</span> <span class="keyword">in</span> point                    <span class="comment">// false，对象中不存在名为&quot;z&quot;的属性</span></span><br><span class="line"><span class="string">&quot;toString&quot;</span> <span class="keyword">in</span> point             <span class="comment">// true，对象继承了toString()方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data = [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];             <span class="comment">// 拥有三个元素的数组</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> <span class="keyword">in</span> data                     <span class="comment">// true，数组包含元素&quot;0&quot;</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">in</span> data                       <span class="comment">// true，数字转换为字符串</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">in</span> data                       <span class="comment">// false，没有索引为3的元素</span></span><br></pre></td></tr></table></figure>

<h6 id="instanceof-运算符"><a href="#instanceof-运算符" class="headerlink" title="instanceof 运算符"></a><code>instanceof</code> 运算符</h6><p><code>instanceof</code> 运算符希望左操作数是一个对象，右操作数标识对象的类。如果左侧的对象是右侧类的实例，则表达式返回 <code>true</code>；否则返回 <code>false</code>。后面会讲 JavaScript 中对象的类是通过初始化它们的构造函数来定义的。这样的话，<code>instanceof</code> 的右操作数应当是一个函数。比如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="title class_">Date</span>();     <span class="comment">// 通过 Date() 构造函数来创建一个新对象</span></span><br><span class="line">d <span class="keyword">instanceof</span> <span class="title class_">Date</span>;      <span class="comment">// true，d 是由 Date() 创建的</span></span><br><span class="line">d <span class="keyword">instanceof</span> <span class="title class_">Object</span>;    <span class="comment">// true，所有的对象都是 Object 的实例</span></span><br><span class="line">d <span class="keyword">instanceof</span> <span class="title class_">Number</span>;    <span class="comment">// false，d 不是一个 Number 对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];      <span class="comment">// 通过数组字面量的写法创建一个数组</span></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="title class_">Array</span>;     <span class="comment">// true，a 是一个数组</span></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="title class_">Object</span>;    <span class="comment">// true，所有的数组都是对象</span></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="title class_">RegExp</span>;    <span class="comment">// false，数组不是正则表达式</span></span><br></pre></td></tr></table></figure>

<p>需要注意的是，所有的对象都是 <code>Object</code> 的实例。当通过 <code>instanceof</code> 判断一个对象是否是一个类的实例的时候，这个判断也会包含对「父类」的检测。如果 <code>instanceof</code> 的左操作数不是对象的话，<code>instanceof</code> 返回 <code>false</code>。如果右操作数不是函数，则抛出一个类型错误异常。</p>
<h5 id="6）逻辑运算符"><a href="#6）逻辑运算符" class="headerlink" title="6）逻辑运算符"></a>6）逻辑运算符</h5><p>逻辑运算符是对操作数进行布尔算术运算，经常和关系运算符一起配合使用，逻辑运算符将多个关系表达式组合起来组成一个更复杂的表达式。</p>
<h6 id="amp-amp-逻辑与"><a href="#amp-amp-逻辑与" class="headerlink" title="&amp;&amp; 逻辑与"></a><code>&amp;&amp;</code> 逻辑与</h6><p>逻辑与操作可以应用于任何类型的操作数，而不仅仅是布尔值。在有一个操作数不是布尔值的情况下，逻辑与操作不一定返回布尔值；此时，它遵循下列规则：</p>
<ul>
<li>如果第一个操作数是对象，则返回第二个操作数；</li>
<li>如果第二个操作数是对象，则只有在第一个操作数的求值结果为 <code>true</code> 的情况下才会返回该对象；</li>
<li>如果两个操作数都是对象，则返回第二个操作数；</li>
<li>如果有一个操作数是 <code>null</code>，则返回 <code>null</code>；</li>
<li>如果有一个操作数是 <code>NaN</code>，则返回 <code>NaN</code>；</li>
<li>如果有一个操作数是 <code>undefined</code>，则返回 <code>undefined</code>。</li>
</ul>
<p>逻辑与操作属于短路操作，即如果第一个操作数能够决定结果，那么就不会再对第二个操作数求值。对于逻辑与操作而言，如果第一个操作数是 <code>false</code>，无论第二个操作数是什么值，结果都不再可能是 <code>true</code> 了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.log(3 &gt; 5 &amp;&amp; 3 &gt; 2); // false</span><br><span class="line">console.log(3 &lt; 5 &amp;&amp; 3 &gt; 2); // true</span><br></pre></td></tr></table></figure>

<h6 id="逻辑或"><a href="#逻辑或" class="headerlink" title="|| 逻辑或"></a><code>||</code> 逻辑或</h6><p>与逻辑与操作相似，如果有一个操作数不是布尔值，逻辑或也不一定返回布尔值；此时，它遵循下列规则：</p>
<ul>
<li>如果第一个操作数是对象，则返回第一个操作数；</li>
<li>如果第一个操作数的求值结果为 <code>false</code>，则返回第二个操作数；</li>
<li>如果两个操作数都是对象，则返回第一个操作数；</li>
<li>如果两个操作数都是 <code>null</code>，则返回 <code>null</code>；</li>
<li>如果两个操作数都是 <code>NaN</code>，则返回 <code>NaN</code>；</li>
<li>如果两个操作数都是 <code>undefined</code>，则返回 <code>undefined</code>。</li>
</ul>
<p>与逻辑与运算符相似，逻辑或运算符也是短路运算符。也就是说，如果第一个操作数的求值结果为 <code>true</code>，就不会对第二个操作数求值了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.log(3 &gt; 5 || 3 &gt; 2); // true </span><br><span class="line">console.log(3 &gt; 5 || 3 &lt; 2); // false</span><br></pre></td></tr></table></figure>

<h6 id="逻辑非"><a href="#逻辑非" class="headerlink" title="!  逻辑非"></a><code>!</code>  逻辑非</h6><p>逻辑非操作可以应用于任何类型的操作数，无论这个值是什么数据类型，这个运算符都会返回一个布尔值。逻辑非运算符首先会将它的操作数转换为一个布尔值，然后再对其求反。逻辑非运算符遵循下列规则：</p>
<ul>
<li>如果操作数是一个对象，返回 <code>false</code>；</li>
<li>如果操作数是一个空字符串，返回 <code>true</code>；</li>
<li>如果操作数是一个非空字符串，返回 <code>false</code>；</li>
<li>如果操作数是数值 <code>0</code>，返回 <code>true</code>；</li>
<li>如果操作数是任意非 <code>0</code> 数值（包括 <code>Infinity</code>），返回 <code>false</code>；</li>
<li>如果操作数是 <code>null</code>，返回 <code>true</code>；</li>
<li>如果操作数是 <code>NaN</code>，返回 <code>true</code>；</li>
<li>如果操作数是 <code>undefined</code>，返回 <code>true</code>。</li>
</ul>
<p>下面几个例子展示了应用上述规则的结果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!<span class="literal">false</span>);          <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!<span class="string">&quot;blue&quot;</span>);         <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!<span class="number">0</span>);              <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!<span class="title class_">NaN</span>);            <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!<span class="string">&quot;&quot;</span>);             <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!<span class="number">12345</span>);          <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>逻辑非运算符也可以用于将一个值转换为与其对应的布尔值。而同时使用两个逻辑非运算符，实际上就会模拟 <code>Boolean()</code> 转型函数的行为。其中，第一个逻辑非操作会基于无论什么操作数返回一个布尔值，而第二个逻辑非操作则对该布尔值求反，于是就得到了这个值真正对应的布尔值。当然，最终结果与对这个值使用 <code>Boolean()</code> 函数相同，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="string">&quot;blue&quot;</span>);        <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="number">0</span>);             <span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="title class_">NaN</span>);           <span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="string">&quot;&quot;</span>);            <span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="number">12345</span>);         <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h5 id="7）位运算符"><a href="#7）位运算符" class="headerlink" title="7）位运算符"></a>7）位运算符</h5><p>在 JavaScript 中，当对数值应用位运算符时，后台会发生如下转换过程：64位的数值被转换成32位数值，然后执行位操作，最后再将32位的结果转换回64位数值。这个转换过程导致了一个严重的副效应，即在对特殊的 <code>NaN</code> 和 <code>Infinity</code> 值应用位操作时，这两个值都会被当成 <code>0</code> 来处理。如果对非数值应用位运算符，会先使用 <code>Number()</code> 函数将该值转换为一个数值，然后再应用位操作，得到的结果将是一个数值。</p>
<h6 id="按位非"><a href="#按位非" class="headerlink" title="~ 按位非"></a><code>~</code> 按位非</h6><p>简单的理解，对任一数值 <code>x</code> 进行按位非操作的结果为 <code>-(x+1)</code>。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(~<span class="literal">null</span>);         <span class="comment">// -1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(~<span class="literal">undefined</span>);    <span class="comment">// -1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(~<span class="number">0</span>);            <span class="comment">// -1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(~&#123;&#125;);           <span class="comment">// -1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(~[]);           <span class="comment">// -1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(~(<span class="number">1</span>/<span class="number">0</span>));        <span class="comment">// -1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(~<span class="literal">false</span>);        <span class="comment">// -1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(~<span class="literal">true</span>);         <span class="comment">// -2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(~<span class="number">1.2543</span>);       <span class="comment">// -2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(~<span class="number">4.9</span>);          <span class="comment">// -5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(~(-<span class="number">2.999</span>));     <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h6 id="amp-按位与"><a href="#amp-按位与" class="headerlink" title="&amp; 按位与"></a><code>&amp;</code> 按位与</h6><p>按位与操作就是将两个数值的每一位对齐，两个数值的对应位都是 <code>1</code> 时才返回 <code>1</code>，任何一位是 <code>0</code>，结果都是 <code>0</code>。如下表所示：</p>
<table>
<thead>
<tr>
<th>第一个数值的位</th>
<th>第二个数值的位</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody></table>
<h6 id="按位或"><a href="#按位或" class="headerlink" title="| 按位或"></a><code>|</code> 按位或</h6><p>按位或操作就是将两个数值的每一位对齐，两个数值只要有一个位是 <code>1</code> 就返回 <code>1</code>，只在两个位都是 <code>0</code> 的情况下才返回 <code>0</code>。如下表所示：</p>
<table>
<thead>
<tr>
<th>第一个数值的位</th>
<th>第二个数值的位</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody></table>
<h6 id="按位异或"><a href="#按位异或" class="headerlink" title="^ 按位异或"></a><code>^</code> 按位异或</h6><p>按位异或与按位或的不同之处在于，两个数值只有一个 <code>1</code> 时才返回 <code>1</code>，如果对应的两位都是 <code>1</code> 或都是 <code>0</code>，则返回 <code>0</code>。</p>
<table>
<thead>
<tr>
<th>第一个数值的位</th>
<th>第二个数值的位</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody></table>
<h6 id="lt-lt-左移"><a href="#lt-lt-左移" class="headerlink" title="&lt;&lt; 左移"></a><code>&lt;&lt;</code> 左移</h6><p>这个运算符会将数值的所有位向左移动指定的位数。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oldValue = <span class="number">2</span>;                       <span class="comment">// 等于二进制的 10</span></span><br><span class="line"><span class="keyword">var</span> newValue = oldValue &lt;&lt; <span class="number">5</span>;           <span class="comment">// 等于二进制的 1000000，十进制的 64</span></span><br></pre></td></tr></table></figure>

<p>注意，左移不会影响操作数的符号位。换句话说，如果将 <code>-2</code> 向左移动 <code>5</code> 位，结果将是 <code>-64</code>，而非 <code>64</code>。</p>
<h6 id="gt-gt-有符号的右移"><a href="#gt-gt-有符号的右移" class="headerlink" title="&gt;&gt; 有符号的右移"></a><code>&gt;&gt;</code> 有符号的右移</h6><p>这个运算符会将数值向右移动，但保留符号位（即正负号标记）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oldValue = <span class="number">64</span>;                      <span class="comment">// 等于二进制的 1000000</span></span><br><span class="line"><span class="keyword">var</span> newValue = oldValue &gt;&gt; <span class="number">5</span>;           <span class="comment">// 等于二进制的 10 ，即十进制的 2</span></span><br></pre></td></tr></table></figure>

<h6 id="gt-gt-gt-无符号的右移"><a href="#gt-gt-gt-无符号的右移" class="headerlink" title="&gt;&gt;&gt; 无符号的右移"></a><code>&gt;&gt;&gt;</code> 无符号的右移</h6><p>这个运算符会将数值的所有32位都向右移动。对正数来说，无符号右移的结果与有符号右移相同。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oldValue = <span class="number">64</span>;                      <span class="comment">// 等于二进制的 1000000</span></span><br><span class="line"><span class="keyword">var</span> newValue = oldValue &gt;&gt;&gt; <span class="number">5</span>;          <span class="comment">// 等于二进制的 10 ，即十进制的 2</span></span><br></pre></td></tr></table></figure>

<p>无符号右移运算符会把负数的二进制码当成正数的二进制码。而且，由于负数以其绝对值的二进制补码形式表示，因此就会导致无符号右移后的结果非常之大。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oldValue = -<span class="number">64</span>;                     <span class="comment">// 等于二进制的 11111111111111111111111111000000</span></span><br><span class="line"><span class="keyword">var</span> newValue = oldValue &gt;&gt;&gt; <span class="number">5</span>;          <span class="comment">// 等于十进制的 134217726</span></span><br></pre></td></tr></table></figure>

<h5 id="8）赋值运算符"><a href="#8）赋值运算符" class="headerlink" title="8）赋值运算符"></a>8）赋值运算符</h5><p>简单的赋值运算符由等于号 <code>=</code> 表示，其作用就是把右侧的值赋给左侧的变量，如下面的例子所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<p>如果在等于号 <code>=</code> 前面再添加乘性运算符、加性运算符或位运算符，就可以完成复合赋值操作。这种复合赋值操作相当于是对下面常规表达式的简写形式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">num += <span class="number">10</span>;      <span class="comment">// 等同于 num = num + 10;</span></span><br></pre></td></tr></table></figure>

<p>每个主要算术运算符（以及个别的其他运算符）都有对应的复合赋值运算符。这些运算符如下所示：</p>
<ul>
<li>乘&#x2F;赋值 <code>*=</code>；</li>
<li>除&#x2F;赋值 <code>/=</code>；</li>
<li>模&#x2F;赋值 <code>%=</code>；</li>
<li>加&#x2F;赋值 <code>+=</code>；</li>
<li>减&#x2F;赋值 <code>-=</code>；</li>
<li>左移&#x2F;赋值 <code>&lt;&lt;=</code>；</li>
<li>有符号右移&#x2F;赋值 <code>&gt;&gt;=</code>；</li>
<li>无符号右移&#x2F;赋值 <code>&gt;&gt;&gt;=</code>。</li>
</ul>
<p>设计这些运算符的主要目的就是简化赋值操作，使用它们不会带来任何性能的提升。</p>
<h5 id="9）条件运算符"><a href="#9）条件运算符" class="headerlink" title="9）条件运算符"></a>9）条件运算符</h5><p><code>? :</code> 条件运算符应该算是 JavaScript 中最灵活的一种运算符了，而且它遵循与 Java 中的条件运算符相同的语法形式，如下面的例子所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variable = boolean_expression ? true_value : false_value;</span><br></pre></td></tr></table></figure>

<h5 id="10）逗号运算符"><a href="#10）逗号运算符" class="headerlink" title="10）逗号运算符"></a>10）逗号运算符</h5><p>逗号运算符多用于声明多个变量；但除此之外，逗号运算符还可以用于赋值。在用于赋值时，逗号运算符总会返回表达式中的最后一项，如下面的例子所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = (<span class="number">5</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">0</span>); <span class="comment">// num 的值为 0</span></span><br></pre></td></tr></table></figure>

<p>由于 <code>0</code> 是表达式中的最后一项，因此 <code>num</code> 的值就是 <code>0</code>。虽然逗号的这种使用方式并不常见，但这个例子可以帮我们理解逗号的这种行为。</p>
<h4 id="11）作业"><a href="#11）作业" class="headerlink" title="11）作业"></a>11）作业</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战一</span></span><br><span class="line"><span class="keyword">var</span> x=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(!!<span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>)&#123;&#125;)&#123;</span><br><span class="line">    x+=<span class="keyword">typeof</span> f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);     <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战二</span></span><br><span class="line">(<span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">f</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="title function_">f</span>());    <span class="comment">// ???</span></span><br><span class="line">&#125;)(<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="keyword">return</span> <span class="number">1</span>;&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战三</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="number">2</span>*<span class="number">3</span>);    <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="number">2</span>+<span class="number">3</span>);    <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战四</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">0</span>,b=<span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a+++b);     <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);         <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);         <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战五</span></span><br><span class="line"><span class="keyword">var</span> a,b,c;</span><br><span class="line">a=b==c;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);     <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战六</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> &amp;&amp; <span class="number">3</span>);            <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> &amp;&amp; <span class="string">&quot;foo&quot;</span> || <span class="number">0</span>);   <span class="comment">// ???</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> || <span class="string">&quot;foo&quot;</span> &amp;&amp; <span class="number">0</span>);   <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战七</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b=(a=(<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>))+a++</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);     <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战八</span></span><br><span class="line"><span class="keyword">if</span> (!(<span class="string">&quot;a&quot;</span> <span class="keyword">in</span> <span class="variable language_">window</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);     <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战九</span></span><br><span class="line"><span class="keyword">var</span> val = <span class="string">&#x27;smtg&#x27;</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Value is &#x27;</span> + (val === <span class="string">&#x27;smtg&#x27;</span>) ? <span class="string">&#x27;Something&#x27;</span> : <span class="string">&#x27;Nothing&#x27;</span>);  <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战十</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> + - + + + - + <span class="number">1</span>);</span><br></pre></td></tr></table></figure>



<h2 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h2><p>表达式在 JavaScript 中是短语，那么语句就是整句命令。表达式用来计算出一个值，语句用来执行以使某件事发生。从本质上看，语句定义了 JavaScript 中的主要语法，语句通常使用一或多个关键字来完成给定任务。语句可以很简单，例如通知函数退出；也可以比较复杂，例如指定重复执行某个命令的次数。下表列出了 JavaScript 大部分语句的语法和用途：</p>
<table>
<thead>
<tr>
<th>语句</th>
<th>语法</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td><code>break</code></td>
<td><code>break [label];</code></td>
<td>退出最内层循环或者退出 <code>switch</code> 语句，又或者退出 <code>label</code> 指定的语句</td>
</tr>
<tr>
<td><code>case</code></td>
<td><code>case expression:</code></td>
<td>在 <code>switch</code> 语句中标记一条语句</td>
</tr>
<tr>
<td><code>continue</code></td>
<td><code>continue [label];</code></td>
<td>重新开始最内层的循环或重新开始 <code>label</code> 指定的循环</td>
</tr>
<tr>
<td><code>debugger</code></td>
<td><code>debugger;</code></td>
<td>断点器调试</td>
</tr>
<tr>
<td><code>default</code></td>
<td><code>default;</code></td>
<td>在 <code>switch</code> 中标记默认的语句</td>
</tr>
<tr>
<td><code>do-while</code></td>
<td><code>do statement while(expression);</code></td>
<td><code>while</code> 循环的一种替代形式</td>
</tr>
<tr>
<td><code>empty</code></td>
<td><code>;</code></td>
<td>什么都不做</td>
</tr>
<tr>
<td><code>for</code></td>
<td><code>for(init;expr;incr) statement</code></td>
<td>简写的循环结构</td>
</tr>
<tr>
<td><code>for-in</code></td>
<td><code>for(var in object) statement</code></td>
<td>遍历一个对象的属性</td>
</tr>
<tr>
<td><code>function</code></td>
<td><code>function name([param[],...])</code><br><code>&#123;statement&#125;</code></td>
<td>声明一个函数</td>
</tr>
<tr>
<td><code>if-else</code></td>
<td><code>if (expression) statement1</code><br><code>[else statement2]</code></td>
<td>执行 <code>statement1</code> 或者 <code>statement2</code></td>
</tr>
<tr>
<td><code>label</code></td>
<td><code>label:statement</code></td>
<td>给 <code>statement</code> 指定一个名字 <code>label</code></td>
</tr>
<tr>
<td><code>return</code></td>
<td><code>return [expression];</code></td>
<td>从函数返回一个值</td>
</tr>
<tr>
<td><code>switch</code></td>
<td><code>switch(expression)&#123;statement&#125;</code></td>
<td>用 <code>case</code> 或者 <code>default</code> 语句标记的多分支语句</td>
</tr>
<tr>
<td><code>throw</code></td>
<td><code>throw expression;</code></td>
<td>抛出异常</td>
</tr>
<tr>
<td><code>try</code></td>
<td><code>try &#123;statement&#125;</code><br><code>[catch &#123;handler statement&#125;]</code><br><code>[finally &#123;cleaup statement&#125;]</code></td>
<td>捕获异常</td>
</tr>
<tr>
<td><code>use strict</code></td>
<td><code>&quot;use strict&quot;</code></td>
<td>对脚本和函数应用严格模式</td>
</tr>
<tr>
<td><code>var</code></td>
<td><code>var name=[=expr][,...];</code></td>
<td>声明并初始化一个或多个变量</td>
</tr>
<tr>
<td><code>while</code></td>
<td><code>while(expression) statement</code></td>
<td>基本的循环结构</td>
</tr>
<tr>
<td><code>with</code></td>
<td><code>with(object) statement</code></td>
<td>扩展作用域链</td>
</tr>
</tbody></table>
<h4 id="1-条件语句"><a href="#1-条件语句" class="headerlink" title="1)条件语句"></a>1)条件语句</h4><h5 id="if-else-语句"><a href="#if-else-语句" class="headerlink" title="if-else 语句"></a><code>if-else</code> 语句</h5><p>大多数编程语言中最为常用的一个语句就是 <code>if-else</code> 语句。以下是 <code>if-else</code> 语句的语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition) statement1 [<span class="keyword">else</span> statement2]</span><br></pre></td></tr></table></figure>

<p>其中的 <code>condition</code> 可以是任意表达式；而且对这个表达式求值的结果不一定是布尔值。JavaScript 会自动调用 <code>Boolean()</code> 转换函数将这个表达式的结果转换为一个布尔值。如果对 <code>condition</code> 求值的结果是 <code>true</code>，则执行 <code>statement1</code>，如果对 <code>condition</code> 求值的结果是 <code>false</code>，则执行 <code>statement2</code>。而且这两个语句既可以是一行代码，也可以是一个代码块（以一对花括号括起来的多行代码）。请看下面的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (i &gt; <span class="number">25</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Greater than 25.&quot;</span>);              <span class="comment">// 单行语句</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Less than or equal to 25.&quot;</span>);     <span class="comment">// 代码块中的语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>业界普遍推崇的最佳实践是始终使用代码块，即使要执行的只有一行代码。因为这样可以消除人们的误解，否则可能让人分不清在不同条件下要执行哪些语句。</p>
<h5 id="switch-语句"><a href="#switch-语句" class="headerlink" title="switch 语句"></a><code>switch</code> 语句</h5><p><code>switch</code> 语句与 <code>if</code> 语句的关系最为密切，而且也是在其他语言中普遍使用的一种流控制语句。JavaScript 中 <code>switch</code> 语句的语法与其他基于 C 的语言非常接近，如下所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (expression) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="attr">value</span>: statement</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="attr">value</span>: statement</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="attr">value</span>: statement</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="attr">value</span>: statement</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="attr">default</span>: statement</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>switch</code> 语句中的每一种情形的含义是：“如果表达式等于这个值（value），则执行后面的语句（statement）”。而 <code>break</code> 关键字会导致代码执行流跳出 <code>switch</code> 语句。如果省略 <code>break</code> 关键字，就会导致执行完当前 <code>case</code> 后，继续执行下一个 <code>case</code>。最后的 <code>default</code> 关键字则用于在表达式不匹配前面任何一种情形的时候，也相当于一个 <code>else</code> 语句。从根本上讲，<code>switch</code> 语句就是为了让开发人员免于编写像下面这样的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (i === <span class="number">25</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;25&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (i === <span class="number">35</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;35&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (i === <span class="number">45</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;45&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Other&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>而与此等价的switch语句如下所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (i) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">25</span>: </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;25&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">35</span>: </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;35&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">45</span>: </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;45&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>: </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Other&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过为每个case后面都添加一个break语句，就可以避免同时执行多个case代码的情况。假如确实需要混合几种情形，不要忘了在代码中添加注释，说明你是有意省略了break关键字。</p>
<p>虽然 JavaScript 中的 <code>switch</code> 语句借鉴自其他语言，但这个语句也有自己的特色。首先，可以在 <code>switch</code> 语句中使用任何数据类型（在很多其他语言中只能使用数值），无论是字符串，还是对象都没有问题。其次，每个 <code>case</code> 的值不一定是常量，可以是变量，甚至是表达式。请看下面这两个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (<span class="string">&quot;hello world&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;hello&quot;</span> + <span class="string">&quot; world&quot;</span>: </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Greeting was found.&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;goodbye&quot;</span>: </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Closing was found.&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>: </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Unexpected message was found.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">switch</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> num &lt; <span class="number">0</span>: </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Less than 0.&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> num &gt;= <span class="number">0</span> &amp;&amp; num &lt;= <span class="number">10</span>: </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Between 0 and 10.&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> num &gt; <span class="number">10</span> &amp;&amp; num &lt;= <span class="number">20</span>: </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Between 10 and 20.&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>: </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;More than 20.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>switch</code> 语句首先计算 <code>switch</code> 关键字后的表达式，然后按照从上到下的顺序计算每个 <code>case</code> 后的表达式，直到执行到 <code>case</code> 的表达式的值与 <code>switch</code> 的表达式的值相等时为止。由于对每个 <code>case</code> 的匹配操作实际上是 <code>===</code> 恒等运算符比较，而不是 <code>==</code> 相等运算符比较，因此，表达式和 <code>case</code> 的匹配并不会做任何类型转换。</p>
<h4 id="2）循环"><a href="#2）循环" class="headerlink" title="2）循环"></a>2）循环</h4><h5 id="while-语句"><a href="#while-语句" class="headerlink" title="while 语句"></a><code>while</code> 语句</h5><p><code>while</code> 语句属于前测试循环语句，也就是说，在循环体内的代码被执行之前，就会对出口条件求值。因引，循环体内的代码有可能永远不会被执行。以下是 <code>while</code> 语句的语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(expression) statement</span><br></pre></td></tr></table></figure>

<p>下面是一个示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    i += <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="do-while-语句"><a href="#do-while-语句" class="headerlink" title="do-while 语句"></a><code>do-while</code> 语句</h5><p><code>do-while</code> 语句是一种后测试循环语句，即只有在循环体中的代码执行之后，才会测试出口条件。换句话说，在对条件表达式求值之前，循环体内的代码至少会被执行一次。以下是 <code>do-while</code> 语句的语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    statement</span><br><span class="line">&#125; <span class="keyword">while</span> (expression);</span><br></pre></td></tr></table></figure>

<p>下面是一个示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">   i += <span class="number">2</span>;</span><br><span class="line">&#125; <span class="keyword">while</span> (i &lt; <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<h5 id="for-语句"><a href="#for-语句" class="headerlink" title="for 语句"></a><code>for</code> 语句</h5><p><code>for</code> 语句也是一种前测试循环语句，但它具有在执行循环之前初始化变量和定义循环后要执行的代码的能力。以下是 <code>for</code> 语句的语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (初始化变量; 条件表达式; 操作表达式) 循环体</span><br></pre></td></tr></table></figure>

<p>下面是一个示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> count = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; count; i++)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个 <code>for</code> 循环语句与下面的 <code>while</code> 语句的功能相同：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> count = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; count)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于 JavaScript 中不存在块级作用域，因此在循环内部定义的变量也可以在外部访问到。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> count = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; count; i++)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<p>此外，<code>for</code> 语句中的初始化表达式、控制表达式和循环后表达式都是可选的。将这两个表达式全部省略，就会创建一个无限循环，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 无限循环</span></span><br><span class="line"><span class="keyword">for</span> (;;) &#123;</span><br><span class="line">    <span class="title function_">doSomething</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="for-in-语句"><a href="#for-in-语句" class="headerlink" title="for-in 语句"></a><code>for-in</code> 语句</h5><p><code>for-in</code> 语句是一种精准的迭代语句，可以用来枚举对象的属性。以下是 <code>for-in</code> 语句的语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (property <span class="keyword">in</span> object) statement</span><br></pre></td></tr></table></figure>

<p>下面是一个示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> propName <span class="keyword">in</span> <span class="variable language_">window</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(propName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，我们使用 <code>for-in</code> 循环来显示了 BOM 中 <code>window</code> 对象的所有属性。每次执行循环时，都会将 <code>window</code> 对象中存在的一个属性名赋值给变量 <code>propName</code>。这个过程会一直持续到对象中的所有属性都被枚举一遍为止。与 <code>for</code> 语句类似，这里控制语句中的 <code>var</code> 操作符也不是必需的。但是，为了保证使用局部变量，我们推荐上面例子中的这种做法。</p>
<p>JavaScript 对象的属性没有顺序。因此，通过 <code>for-in</code> 循环输出的属性名的顺序是不可预测的。具体来讲，所有属性都会被返回一次，但返回的先后次序可能会因浏览器而异。</p>
<p>如果表示要迭代的对象的变量值为 <code>null</code> 或 <code>undefined</code>，<code>for-in</code> 语句会抛出错误。虽然 ECMAScript 5 更正了这一行为；对这种情况不再抛出错误，而只是不执行循环体。为了保证最大限度的兼容性，建议在使用 <code>for-in</code> 循环之前，先检测确认该对象的值不是 <code>null</code> 或 <code>undefined</code>。</p>
<h4 id="3）跳转"><a href="#3）跳转" class="headerlink" title="3）跳转"></a>3）跳转</h4><h5 id="break-和-continue-语句"><a href="#break-和-continue-语句" class="headerlink" title="break 和 continue 语句"></a><code>break</code> 和 <code>continue</code> 语句</h5><p><code>break</code> 和 <code>continue</code> 语句用于在循环中精确地控制代码的执行。其中，<code>break</code> 语句会立即退出循环，强制继续执行循环后面的语句。而 <code>continue</code> 语句虽然也是立即退出循环，但退出循环后会从循环的顶部继续执行。请看下面的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    num++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);   <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<p>这个例子中的 <code>for</code> 循环会将变量 <code>i</code> 由1递增至 <code>10</code>。在循环体内，有一个 <code>if</code> 语句检查 <code>i</code> 的值是否可以被 <code>5</code> 整除（使用求模运算符）。如果是，则执行 <code>break</code> 语句退出循环。另一方面，变量 <code>num</code> 从 <code>0</code> 开始，用于记录循环执行的次数。在执行 <code>break</code> 语句之后，结果显示 <code>4</code>。也就是说，在变量 <code>i</code> 等于 <code>5</code> 时，循环总共执行了 <code>4</code> 次；而 <code>break</code> 语句的执行，导致了循环在 <code>num</code> 再次递增之前就退出了。如果在这里把 <code>break</code> 替换为 <code>continue</code> 的话，则可以看到另一种结果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (i % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    num++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);   <span class="comment">// 8</span></span><br></pre></td></tr></table></figure>

<p>例子的结果显示 <code>8</code>，也就是循环总共执行了 <code>8</code> 次。当变量 <code>i</code> 等于 <code>5</code> 时，循环会在 <code>num</code> 再次递增之前退出，但接下来执行的是下一次循环，即i的值等于 <code>6</code> 的循环。于是，循环又继续执行，直到 <code>i</code> 等于 <code>10</code> 时自然结束。而 <code>num</code> 的最终值之所以是 <code>8</code>，是因为 <code>continue</code> 语句导致它少递增了一次。</p>
<p><code>break</code> 和 <code>continue</code> 语句都可以与 <code>label</code> 语句联合使用，从而返回代码中特定的位置。这种联合使用的情况多发生在循环嵌套的情况下，如下面的例子所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="attr">outermost</span>:</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">5</span> &amp;&amp; j == <span class="number">5</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span> outermost;</span><br><span class="line">        &#125;</span><br><span class="line">        num++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);   <span class="comment">// 55</span></span><br></pre></td></tr></table></figure>


<p>在这个例子中，<code>outermost</code> 标签表示外部的 <code>for</code> 语句。如果每个循环正常执行 <code>10</code> 次，则 <code>num++</code> 语句就会正常执行 <code>100</code> 次。换句话说，如果两个循环都自然结束，<code>num</code> 的值应该是 <code>100</code>。但内部循环中的 <code>break</code> 语句带了一个参数：要返回到的标签。添加这个标签的结果将导致 <code>break</code> 语句不仅会退出内部的 <code>for</code> 语句（即使用变量 <code>j</code> 的循环），而且也会退出外部的 <code>for</code> 语句（即使用变量 <code>i</code> 的循环）。为此，当变量 <code>i</code> 和 <code>j</code> 都等于 <code>5</code> 时， <code>num</code>的值正好是 <code>55</code>。同样，<code>continue</code> 语句也可以像这样与 <code>label</code> 语句联用，如下面的例子所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="attr">outermost</span>:</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">5</span> &amp;&amp; j == <span class="number">5</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span> outermost;</span><br><span class="line">        &#125;</span><br><span class="line">        num++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);   <span class="comment">// 95</span></span><br></pre></td></tr></table></figure>

<p>在这种情况下，<code>continue</code> 语句会强制继续执行循环，退出内部循环，执行外部循环。当 <code>j</code> 是 <code>5</code> 时，<code>continue</code> 语句执行，而这也就意味着内部循环少执行了 <code>5</code> 次，因此 <code>num</code> 的结果是 <code>95</code>。</p>
<p>虽然联用 <code>break</code>、<code>continue</code> 和 <code>label</code> 语句能够执行复杂的操作，但如果使用过度，也会给调试带来麻烦。在此，我们建议如果使用 <code>label</code> 语句，一定要使用描述性的标签，同时不要嵌套过多的循环。</p>
<h5 id="return-语句"><a href="#return-语句" class="headerlink" title="return 语句"></a><code>return</code> 语句</h5><p><code>return</code> 语句的作用是指定函数调用后的返回值。<code>return</code> 语句的语法如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> [expression];</span><br></pre></td></tr></table></figure>

<p>下面是一个示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">square</span>(<span class="params">x</span>) &#123; <span class="keyword">return</span> x*x; &#125;  <span class="comment">// 一个包含 return 语句的函数</span></span><br><span class="line"><span class="title function_">square</span>(<span class="number">2</span>);                          <span class="comment">// 调用结果为 4</span></span><br></pre></td></tr></table></figure>

<p><code>return</code> 语句只能在函数体内出现，如果不是的话会报语法错误。当执行到 <code>return</code> 语句的时候，函数终止执行，并返回 <code>expression</code> 的值给调用程序。如果没有 <code>return</code> 语句，则函数调用仅依次执行函数体内的每一条语句直到函数结束，最后返回调用程序。这种情况下，调用表达式的结果是 <code>undefined</code>。<code>return</code> 语句经常作为函数内的最后一条语句出现，但并不是说要一定放在函数最后。<code>return</code> 语句可以单独使用而不必带有 <code>expression</code>，这样的话函数也会向调用程序返回 <code>undefined</code>。</p>
<p>由于 JavaScript 可以自动插入分号，因此在 <code>return</code> 关键字和它后面的表达式之间不能有换行。</p>
<h4 id="4）其他"><a href="#4）其他" class="headerlink" title="4）其他"></a>4）其他</h4><h5 id="with-语句"><a href="#with-语句" class="headerlink" title="with 语句"></a><code>with</code> 语句</h5><p><code>with</code> 语句的作用是将代码的作用域设置到一个特定的对象中。<code>with</code> 语句的语法如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> (expression) statement;</span><br></pre></td></tr></table></figure>

<p>定义 <code>with</code> 语句的目的主要是为了简化多次编写同一个对象的工作，如下面的例子所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> qs = location.<span class="property">search</span>.<span class="title function_">substring</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> hostName = location.<span class="property">hostname</span>;</span><br><span class="line"><span class="keyword">var</span> url = location.<span class="property">href</span>;</span><br></pre></td></tr></table></figure>

<p>上面几行代码都包含 <code>location</code> 对象。如果使用 <code>with</code> 语句，可以把上面的代码改写成如下所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">with</span>(<span class="params">location</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> qs = search.<span class="title function_">substring</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> hostName = hostname;</span><br><span class="line">    <span class="keyword">var</span> url = href;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个重写后的例子中，使用 <code>with</code> 语句关联了 <code>location</code> 对象。这意味着在 <code>with</code> 语句的代码块内部，每个变量首先被认为是一个局部变量，而如果在局部环境中找不到该变量的定义，就会查询 <code>location</code> 对象中是否有同名的属性。如果发现了同名属性，则以 <code>location</code> 对象属性的值作为变量的值。</p>
<p>由于大量使用 <code>with</code> 语句会导致性能下降，同时也会给调试代码造成困难，因此在开发大型应用程序时，不建议使用 <code>with</code> 语句。严格模式下不允许使用 <code>with</code> 语句，否则将视为语法错误。</p>
<h5 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h5><p>代码块将多个语句组合为一个复合语句。代码块其实就是一系列语句，可以放在任何期待一个语句的地方：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	x  = Math.PI</span><br><span class="line">	cx = Math.cos(x)</span><br><span class="line">	console.log(&quot;cos(n)= &quot; + cx)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意：1)它没有以分号结尾。块中的单条语句都以分号结尾，但块本身没有。2）块中的代码相对于包含它们的花括号缩进</strong></p>
<h4 id="5）课堂练习"><a href="#5）课堂练习" class="headerlink" title="5）课堂练习"></a>5）课堂练习</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战一</span></span><br><span class="line"><span class="keyword">var</span> k;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>, j=<span class="number">0</span>; i&lt;<span class="number">10</span>, j&lt;<span class="number">6</span>; i++, j++)&#123;</span><br><span class="line">    k = i + j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(k);  <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战二</span></span><br><span class="line"><span class="keyword">var</span> nums = [<span class="number">12</span>,<span class="number">32</span>,<span class="number">54</span>,<span class="number">56</span>,<span class="number">78</span>,<span class="number">89</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> n <span class="keyword">in</span> nums)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(n);  <span class="comment">// ???</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战三</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showCase</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (value) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Case A&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Case B&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="attr">undefined</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;undefined&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Do not know!&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">showCase</span>(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;A&#x27;</span>));   <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战四</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showCase</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (value) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Case A&#x27;</span>);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Case B&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="attr">undefined</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;undefined&#x27;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Do not know!&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">showCase</span>(<span class="title class_">String</span>(<span class="string">&#x27;A&#x27;</span>));   <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战五</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (;;) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i = <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i = <span class="number">20</span>) &#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i);  <span class="comment">// ???</span></span><br></pre></td></tr></table></figure>



<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><p>对象是一种复合值，它汇聚多个值并允许它们按名字存储和获取这些值。对象是一个属性的无序集合，每个属性都有名字和值。</p>
<h5 id="1）创建对象"><a href="#1）创建对象" class="headerlink" title="1）创建对象"></a>1）创建对象</h5><p>对象可以通过对象字面量、new关键字和object.create()函数来创建。</p>
<h6 id="对象字面量"><a href="#对象字面量" class="headerlink" title="对象字面量"></a>对象字面量</h6><p>创建对象最简单的方式是js代码中直接包含对象字面量。对象字面量的最简单形式是包含在一对花括号中的一组逗号分隔的“键:值”对。属性名是js标识符或字符串字面量。属性值是任何js的表达式，这个表达式的值会变成属性的值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let empty = &#123;&#125;</span><br><span class="line">let point = &#123;x:0,y:0&#125;</span><br></pre></td></tr></table></figure>

<h6 id="使用New创建对象"><a href="#使用New创建对象" class="headerlink" title="使用New创建对象"></a>使用New创建对象</h6><p>new操作符用于创建和初始化一个新对象。new关键字后面必须跟一个函数调用。以这种方式使用的函数被称为构造函数，目的是初始化新创建的对象。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let o = new Object(); //&#123;&#125;</span><br><span class="line">let a = new Array();//[]</span><br></pre></td></tr></table></figure>

<h6 id="Object-create"><a href="#Object-create" class="headerlink" title="Object.create()"></a>Object.create()</h6><p>ECMAScript 5 定义了一个名为 <code>Object.create()</code> 的方法，它创建一个新对象，其中第一个参数是这个对象的原型。<code>Object.create()</code> 提供第二个可选参数，用以对对象的属性进行进一步描述。<code>Object.create()</code> 是一个静态函数，而不是提供给某个对象调用的方法。使用它的方法很简单，只须传入所需的原型对象即可。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var person = Object.create(Object.prototype);</span><br><span class="line">person.name = &quot;stone&quot;;</span><br><span class="line">person.age = 28;</span><br></pre></td></tr></table></figure>

<p>其中 <code>var person = Object.create(Object.prototype);</code> 也等价于 <code>var person = &#123;&#125;;</code> 。</p>
<h5 id="2）原型"><a href="#2）原型" class="headerlink" title="2）原型"></a>2）原型</h5><p>所有通过对象字面量创建的对象都具有同一个原型对象，并可以通过 JavaScript 代码 <code>Object.prototype</code> 获得对原型对象的引用。通过关键字 <code>new</code> 和构造函数调用创建的对象的原型就是构造函数的 <code>prototype</code> 属性的值。因此，同使用 <code>&#123;&#125;</code> 创建对象一样，通过 <code>new Object()</code> 创建的对象也继承自 <code>Object.prototype</code>。同样，通过 <code>new Array()</code> 创建的对象的原型就是 <code>Array.prototype</code>，通过 <code>new Date()</code> 创建的对象的原型就是 <code>Date.prototype</code>。</p>
<p>没有原型的对象为数不多，<code>Object.prototype</code> 就是其中之一。它不继承任何属性。其他原型对象都是普通对象，普通对象都具有原型。所有的内置构造函数（以及大部分自定义的构造函数）都具有一个继承自 <code>Object.prototype</code> 的原型。例如，<code>Date.prototype</code> 的属性继承自 <code>Object.prototype</code>，因此由 <code>new Date()</code> 创建的 <code>Date</code> 对象的属性同时继承自 <code>Date.prototype</code> 和 <code>Object.prototype</code>。</p>
<h5 id="3）查询或设置属性"><a href="#3）查询或设置属性" class="headerlink" title="3）查询或设置属性"></a>3）查询或设置属性</h5><p>前面有提到过，可以通过点 <code>.</code> 或方括号 <code>[]</code> 运算符来获取属性的值。对于点 <code>.</code> 来说，左侧应当是一个对象，右侧必须是一个以属性名称命名的简单标识符。对于方括号来说 <code>[]</code> ，方括号内必须是一个计算结果为字符串的表达式，这个字符串就是属性的名称。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 推荐写法</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>);   <span class="comment">// &quot;stone&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">age</span>);    <span class="comment">// &quot;28&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以写成</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person[<span class="string">&quot;name&quot;</span>]);    <span class="comment">// stone</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person[<span class="string">&quot;age&quot;</span>]);     <span class="comment">// 28</span></span><br></pre></td></tr></table></figure>

<p>和获取属性的值写法一样，通过点和方括号也可以创建属性或给属性赋值，但需要将它们放在赋值表达式的左侧。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 推荐写法</span></span><br><span class="line">person.<span class="property">name</span> = <span class="string">&quot;sophie&quot;</span>; <span class="comment">// 赋值</span></span><br><span class="line">person.<span class="property">age</span> = <span class="number">30</span>;        <span class="comment">// 赋值</span></span><br><span class="line">person.<span class="property">weight</span> = <span class="number">38</span>;     <span class="comment">// 创建</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以写成</span></span><br><span class="line">person[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;sophie&quot;</span>;  <span class="comment">// 赋值</span></span><br><span class="line">person[<span class="string">&quot;age&quot;</span>] = <span class="number">30</span>;         <span class="comment">// 赋值</span></span><br><span class="line">person[<span class="string">&quot;weight&quot;</span>] = <span class="number">38</span>;      <span class="comment">// 创建</span></span><br></pre></td></tr></table></figure>

<p>当使用方括号时，方括号内的表达式必须返回字符串。更严格地讲，表达式必须返回字符串或返回一个可以转换为字符串的值。</p>
<p>查看一个对象本身的所有属性，可以使用<code>Object.keys</code>方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">  key1: 1,</span><br><span class="line">  key2: 2</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Object.keys(obj);</span><br><span class="line">// [&#x27;key1&#x27;, &#x27;key2&#x27;]</span><br></pre></td></tr></table></figure>

<h5 id="4）属性的访问错误"><a href="#4）属性的访问错误" class="headerlink" title="4）属性的访问错误"></a>4）属性的访问错误</h5><p>查询一个不存在的属性并不会报错，如果在对象 <code>o</code> 自身的属性或继承的属性中均未找到属性 <code>x</code>，属性访问表达式 <code>o.x</code> 返回 <code>undefined</code>。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line">person.<span class="property">wife</span>;    <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>但是，如果对象不存在，那么试图查询这个不存在的对象的属性就会报错。<code>null</code> 和 <code>undefined</code> 值都没有属性，因此查询这些值的属性会报错。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line">person.<span class="property">wife</span>.<span class="property">name</span>;   <span class="comment">// Uncaught TypeError: Cannot read property &#x27;name&#x27; of undefined.</span></span><br></pre></td></tr></table></figure>

<p>除非确定 <code>person</code> 和 <code>person.wife</code> 都是对象，否则不能这样写表达式 <code>person.wife.name</code>，因为会报「未捕获的错误类型」，下面提供了两种避免出错的方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 冗余但易懂的写法</span></span><br><span class="line"><span class="keyword">var</span> name;</span><br><span class="line"><span class="keyword">if</span> (person) &#123;</span><br><span class="line">    <span class="keyword">if</span> (person.<span class="property">wife</span>) </span><br><span class="line">        name = person.<span class="property">wife</span>.<span class="property">name</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简练又常用的写法（推荐写法）</span></span><br><span class="line"><span class="keyword">var</span> name = person &amp;&amp; person.<span class="property">wife</span> &amp;&amp; person.<span class="property">wife</span>.<span class="property">name</span>;</span><br></pre></td></tr></table></figure>

<h5 id="5）删除属性"><a href="#5）删除属性" class="headerlink" title="5）删除属性"></a>5）删除属性</h5><p>delete操作符用于从对象中移除属性。它唯一的操作数应该是一个属性访问表达式。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123; p: 1 &#125;;</span><br><span class="line">Object.keys(obj) // [&quot;p&quot;]</span><br><span class="line"></span><br><span class="line">delete obj.p // true</span><br><span class="line">obj.p // undefined</span><br><span class="line">Object.keys(obj) // []</span><br></pre></td></tr></table></figure>

<p>上面代码中，<code>delete</code>命令删除对象<code>obj</code>的<code>p</code>属性。删除后，再读取<code>p</code>属性就会返回<code>undefined</code>，而且<code>Object.keys</code>方法的返回值也不再包括该属性。</p>
<p><strong>注意，删除一个不存在的属性，<code>delete</code>不报错，而且返回<code>true</code>。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line">delete obj.p // true</span><br></pre></td></tr></table></figure>

<p>上面代码中，对象<code>obj</code>并没有<code>p</code>属性，但是<code>delete</code>命令照样返回<code>true</code>。因此，不能根据<code>delete</code>命令的结果，认定某个属性是存在的。</p>
<p>另外，需要注意的是，<code>delete</code>命令只能删除对象本身的属性，无法删除继承的属性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line">delete obj.toString // true</span><br><span class="line">obj.toString // function toString() &#123; [native code] &#125;</span><br></pre></td></tr></table></figure>

<p>上面代码中，<code>toString</code>是对象<code>obj</code>继承的属性，虽然<code>delete</code>命令返回<code>true</code>，但该属性并没有被删除，依然存在。这个例子还说明，即使<code>delete</code>返回<code>true</code>，该属性依然可能读取到值。</p>
<h5 id="6）检测属性"><a href="#6）检测属性" class="headerlink" title="6）检测属性"></a>6）检测属性</h5><p>JavaScript 对象可以看做属性的集合，我们经常会检测集合中成员的所属关系（判断某个属性是否存在于某个对象中）。可以通过 <code>in</code> 运算符、<code>hasOwnPreperty()</code> 和 <code>propertyIsEnumerable()</code> 来完成这个工作，甚至仅通过属性查询也可以做到这一点。</p>
<p><code>in</code> 运算符的左侧是属性名（字符串），右侧是对象。如果对象的自有属性或继承属性中包含这个属性则返回 <code>true</code>。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;x&quot;</span> <span class="keyword">in</span> o);          <span class="comment">// true，x是o的属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;y&quot;</span> <span class="keyword">in</span> o);          <span class="comment">// false，y不是o的属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;toString&quot;</span> <span class="keyword">in</span> o);   <span class="comment">// true，toString是继承属性</span></span><br></pre></td></tr></table></figure>

<p>对象的 <code>hasOwnProperty()</code> 方法用来检测给定的名字是否是对象的自有属性。对于继承属性它将返回 <code>false</code>。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;x&quot;</span>));          <span class="comment">// true，x是o的自有属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;y&quot;</span>));          <span class="comment">// false，y不是o的属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;toString&quot;</span>));   <span class="comment">// false，toString是继承属性</span></span><br></pre></td></tr></table></figure>

<p><code>propertyIsEnumerable()</code> 是 <code>hasOwnProperty()</code> 的增强版，只有检测到是自有属性且这个属性的可枚举性（enumerable attribute）为 <code>true</code> 时它才返回 <code>true</code>。某些内置属性是不可枚举的。通常由 JavaScript 代码创建的属性都是可枚举的，除非在 ECMAScript 5 中使用一个特殊的方法来改变属性的可枚举性。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = <span class="title function_">inherit</span>(&#123; <span class="attr">y</span>: <span class="number">2</span> &#125;);</span><br><span class="line">o.<span class="property">x</span> = <span class="number">1</span>;</span><br><span class="line">o.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&quot;x&quot;</span>);    <span class="comment">// true:，x是o的自有属性，可枚举</span></span><br><span class="line">o.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&quot;y&quot;</span>);    <span class="comment">// false，y是继承属性</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&quot;toString&quot;</span>);  <span class="comment">// false，不可枚举</span></span><br></pre></td></tr></table></figure>

<p>除了使用 <code>in</code> 运算符之外，另一种更简便的方法是使用 <code>!==</code> 判断一个属性是否是 <code>undefined</code>。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="property">x</span> !== <span class="literal">undefined</span>);              <span class="comment">// true，x是o的属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="property">y</span> !== <span class="literal">undefined</span>);              <span class="comment">// false，y不是o的属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="property">toString</span> !== <span class="literal">undefined</span>);       <span class="comment">// true，toString是继承属性</span></span><br></pre></td></tr></table></figure>

<p>然而有一种场景只能使用 <code>in</code> 运算符而不能使用上述属性访问的方式。<code>in</code> 可以区分不存在的属性和存在但值为 <code>undefined</code> 的属性。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">x</span>: <span class="literal">undefined</span> &#125;        <span class="comment">// 属性被显式赋值为undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="property">x</span> !== <span class="literal">undefined</span>); <span class="comment">// false，属性存在，但值为undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="property">y</span> !== <span class="literal">undefined</span>); <span class="comment">// false，属性不存在</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;x&quot;</span> <span class="keyword">in</span> o);          <span class="comment">// true，属性存在</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;y&quot;</span> <span class="keyword">in</span> o);          <span class="comment">// false，属性不存在</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">delete</span> o.<span class="property">x</span>);        <span class="comment">// true，删除了属性x</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;x&quot;</span> <span class="keyword">in</span> o);          <span class="comment">// false，属性不再存在</span></span><br></pre></td></tr></table></figure>

<h5 id="7）枚举属性"><a href="#7）枚举属性" class="headerlink" title="7）枚举属性"></a>7）枚举属性</h5><p>除了检测对象的属性是否存在，我们还会经常遍历对象的属性。通常使用 <code>for-in</code> 循环遍历，ECMAScript 5 提供了两个更好用的替代方案。</p>
<p><code>for-in</code> 循环可以在循环体中遍历对象中所有可枚举的属性（包括自有属性和继承的属性），把属性名称赋值给循环变量。对象继承的内置方法不可枚举的，但在代码中给对象添加的属性都是可枚举的。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;a: 1, b: 2, c: 3&#125;;</span><br><span class="line"></span><br><span class="line">for (var i in obj) &#123;</span><br><span class="line">  console.log(&#x27;键名：&#x27;, i);</span><br><span class="line">  console.log(&#x27;键值：&#x27;, obj[i]);</span><br><span class="line">&#125;</span><br><span class="line">// 键名： a</span><br><span class="line">// 键值： 1</span><br><span class="line">// 键名： b</span><br><span class="line">// 键值： 2</span><br><span class="line">// 键名： c</span><br><span class="line">// 键值： 3</span><br></pre></td></tr></table></figure>

<p><code>for...in</code>循环有两个使用注意点。</p>
<ul>
<li>它遍历的是对象所有可遍历（enumerable）的属性，会跳过不可遍历的属性。</li>
<li>它不仅遍历对象自身的属性，还遍历继承的属性。</li>
</ul>
<p>举例来说，对象都继承了<code>toString</code>属性，但是<code>for...in</code>循环不会遍历到这个属性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">// toString 属性是存在的</span><br><span class="line">obj.toString // toString() &#123; [native code] &#125;</span><br><span class="line"></span><br><span class="line">for (var p in obj) &#123;</span><br><span class="line">  console.log(p);</span><br><span class="line">&#125; // 没有任何输出</span><br></pre></td></tr></table></figure>

<p>上面代码中，对象<code>obj</code>继承了<code>toString</code>属性，该属性不会被<code>for...in</code>循环遍历到，因为它默认是“不可遍历”的。关于对象属性</p>
<p>的可遍历性，参见《标准库》章节中 Object 一章的介绍。</p>
<p>如果继承的属性是可遍历的，那么就会被<code>for...in</code>循环遍历到。但是，一般情况下，都是只想遍历对象自身的属性，所以使</p>
<p>用<code>for...in</code>的时候，应该结合使用<code>hasOwnProperty</code>方法，在循环内部判断一下，某个属性是否为对象自身的属性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var person = &#123; name: &#x27;老张&#x27; &#125;;</span><br><span class="line"></span><br><span class="line">for (var key in person) &#123;</span><br><span class="line">  if (person.hasOwnProperty(key)) &#123;</span><br><span class="line">    console.log(key);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// name</span><br></pre></td></tr></table></figure>

<h5 id="8）属性的-getter-和-setter"><a href="#8）属性的-getter-和-setter" class="headerlink" title="8）属性的 getter 和 setter"></a>8）属性的 <code>getter</code> 和 <code>setter</code></h5><p>我们知道，对象属性是由名字、值和一组特性（attribute）构成的。在 ECMAScript 5 中，属性值可以用一个或两个方法替代，这两个方法就是 <code>getter</code> 和 <code>setter</code>。由 <code>getter</code> 和 <code>setter</code> 定义的属性称做「存取器属性（accessor property）」，它不同于「数据属性（data property）」，数据属性只有一个简单的值。</p>
<p>当程序查询存取器属性的值时，JavaScript 调用 <code>getter</code> 方法。这个方法的返回值就是属性存取表达式的值。当程序设置一个存取器属性的值时，JavaScript 调用 <code>setter</code> 方法，将赋值表达式右侧的值当做参数传入 <code>setter</code>。从某种意义上讲，这个方法负责「设置」属性值。可以忽略 <code>setter</code> 方法的返回值。</p>
<p>和数据属性不同，存取器属性不具有可写性（writable attribute）。如果属性同时具有 <code>getter</code> 和 <code>setter</code> 方法，那么它是一个读&#x2F;写属性。如果它只有 <code>getter</code> 方法，那么它是一个只读属性。如果它只有 <code>setter</code> 方法，那么它是一个只写属性，读取只写属性总是返回 <code>undefined</code>。定义存取器属性最简单的方法是使用对象直接量语法的一种扩展写法。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    <span class="comment">// 普通的数据属性</span></span><br><span class="line">    <span class="attr">data_prop</span>: value,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 存取器属性都是成对定义的函数</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">accessor_prop</span>() &#123; <span class="comment">/*这里是函数体 */</span> &#125;,</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">accessor_prop</span>(<span class="params">value</span>) &#123; <span class="comment">/* 这里是函数体*/</span> &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>存取器属性定义为一个或两个和属性同名的函数，这个函数定义没有使用 <code>function</code> 关键字，而是使用 <code>get</code> 或 <code>set</code>。注意，这里没有使用冒号将属性名和函数体分隔开，但在函数体的结束和下一个方法或数据属性之间有逗号分隔。</p>
<h5 id="9）序列化对象（JSON）"><a href="#9）序列化对象（JSON）" class="headerlink" title="9）序列化对象（JSON）"></a>9）序列化对象（JSON）</h5><p>对象序列化（serialization）是指将对象的状态转换为字符串，也可将字符串还原为对象。ECMAScript 5 提供了内置函数 <code>JSON.stringify()</code> 和 <code>JSON.parse()</code> 用来序列化和还原 JavaScript 对象。这些方法都使用 JSON 作为数据交换格式，JSON 的全称是「JavaScript 对象表示法（JavaScript Object Notation）」，它的语法和 JavaScript 对象与数组直接量的语法非常相近。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">o = &#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:&#123;<span class="attr">z</span>:[<span class="literal">false</span>,<span class="literal">null</span>,<span class="string">&quot;&quot;</span>]&#125;&#125;;       <span class="comment">// 定义一个对象</span></span><br><span class="line">s = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(o);                  <span class="comment">// s是 &#x27;&#123;&quot;x&quot;:1,&quot;y&quot;:&#123;&quot;z&quot;:[false,null,&quot;&quot;]&#125;&#125;&#x27;</span></span><br><span class="line">p = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(s);                      <span class="comment">// p是o的深拷贝</span></span><br></pre></td></tr></table></figure>

<p>ECMAScript 5 中的这些函数的本地实现和 <a target="_blank" rel="noopener" href="https://github.com/douglascrockford/JSON-js">https://github.com/douglascrockford/JSON-js</a> 中的公共域 ECMAScript 3 版本的实现非常类似，或者说完全一样，因此可以通过引入 <code>json2.js</code> 模块在 ECMAScript 3 的环境中使用 ECMAScript 5 中的这些函数。</p>
<p>JSON 的语法是 JavaScript 语法的子集，它并不能表示 JavaScript 里的所有值。它支持对象、数组、字符串、无穷大数字、<code>true</code>、<code>false</code> 和 <code>null</code>，可以序列化和还原它们。<code>NaN</code>、<code>Infinity</code> 和 <code>-Infinity</code> 序列化的结果是 <code>null</code>，日期对象序列化的结果是 ISO 格式的日期字符串（参照 <code>Date.toJSON()</code> 函数），但 <code>JSON.parse()</code> 依然保留它们的字符串形态，而不会将它们还原为原始日期对象。函数、<code>RegExp</code>、<code>Error</code> 对象和 <code>undefined</code> 值不能序列化和还原。<code>JSON.stringify()</code> 只能序列化对象可枚举的自有属性。对于一个不能序列化的属性来说，在序列化后的输出字符串中会将这个属性省略掉。<code>JSON.stringify()</code> 和 <code>JSON.parse()</code> 都可以接收第二个可选参数，通过传入需要序列化或还原的属性列表来定制自定义的序列化或还原操作。</p>
<h5 id="10）课堂练习"><a href="#10）课堂练习" class="headerlink" title="10）课堂练习"></a>10）课堂练习</h5><p>请实现下面用来枚举属性的对象工具函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 把 p 中的可枚举属性复制到 o 中，并返回 o</span></span><br><span class="line"><span class="comment"> * 如果 o 和 p 中含有同名属性，则覆盖 o 中的属性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">extend</span>(<span class="params">o, p</span>) &#123;</span><br><span class="line">    <span class="comment">// 请实现函数体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 将 p 中的可枚举属性复制至 o 中，并返回 o</span></span><br><span class="line"><span class="comment"> * 如果 o 和 p 中有同名的属性，o 中的属性将不受影响</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge</span>(<span class="params">o, p</span>) &#123;</span><br><span class="line">    <span class="comment">// 请实现函数体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 如果 o 中的属性在 p 中没有同名属性，则从 o 中删除这个属性</span></span><br><span class="line"><span class="comment"> * 返回 o</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">restrict</span>(<span class="params">o, p</span>) &#123;</span><br><span class="line">    <span class="comment">// 请实现函数体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 如果 o 中的属性在 p 中存在同名属性，则从 o 中删除这个属性</span></span><br><span class="line"><span class="comment"> * 返回 o</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">subtract</span>(<span class="params">o, p</span>) &#123;</span><br><span class="line">    <span class="comment">// 请实现函数体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 返回一个新对象，这个对象同时拥有 o 的属性和 p 的属性</span></span><br><span class="line"><span class="comment"> * 如果 o 和 p 中有重名属性，使用 p 中的属性值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">union</span>(<span class="params">o, p</span>) &#123; </span><br><span class="line">    <span class="comment">// 请实现函数体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 返回一个新对象，这个对象拥有同时在 o 和 p 中出现的属性</span></span><br><span class="line"><span class="comment"> * 很像求 o 和 p 的交集，但 p 中属性的值被忽略</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">intersection</span>(<span class="params">o, p</span>) &#123; </span><br><span class="line">    <span class="comment">// 请实现函数体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 返回一个数组，这个数组包含的是 o 中可枚举的自有属性的名字</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">keys</span>(<span class="params">o</span>) &#123;</span><br><span class="line">    <span class="comment">// 请实现函数体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Math对象"><a href="#Math对象" class="headerlink" title="Math对象"></a>Math对象</h2><h5 id="实现小数的四舍五入"><a href="#实现小数的四舍五入" class="headerlink" title="实现小数的四舍五入"></a>实现小数的四舍五入</h5><p>使用 Number对象的toFixed()方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var num1 = 5.56789;</span><br><span class="line">console.log(num1.toFixed());</span><br><span class="line">var num2 = 5.45678;</span><br><span class="line">console.log(num2.toFixed());</span><br></pre></td></tr></table></figure>

<p>使用 Math对象的round()方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var num1 = 5.56789;</span><br><span class="line">console.log(Math.round(num1));</span><br><span class="line">var num2 = 5.45678;</span><br><span class="line">console.log(Math.round(num2));</span><br><span class="line">console.log(Math.round(num1) +  Math.round(num2));</span><br></pre></td></tr></table></figure>

<p>Math对象用于执行数学计算任务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">使用Math的属性/方法的语法：</span><br><span class="line">var x=Math.PI;               //调用Math的属性</span><br><span class="line">var y=Math.round(16);     //调用Math的方法</span><br></pre></td></tr></table></figure>

<h5 id="Math对象属性"><a href="#Math对象属性" class="headerlink" title="Math对象属性"></a>Math对象属性</h5><p><img src="/.%5Cimg%5C39.png" alt="39"></p>
<h5 id="Math对象方法"><a href="#Math对象方法" class="headerlink" title="Math对象方法"></a>Math对象方法</h5><p><img src="/.%5Cimg%5C40.png" alt="40"></p>
<p><img src="/.%5Cimg%5C41.png" alt="41"></p>
<h5 id="Math对象的floor-方法"><a href="#Math对象的floor-方法" class="headerlink" title="Math对象的floor() 方法"></a>Math对象的floor() 方法</h5><p>Math对象的floor()方法，返回小于等于传入参数的最大整数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a=Math.floor(0.60);</span><br><span class="line">var b=Math.floor(0.40);</span><br><span class="line">var c=Math.floor(5);</span><br><span class="line">var d=Math.floor(5.1);</span><br><span class="line">var e=Math.floor(-5.1);</span><br><span class="line">var f=Math.floor(-5.9);</span><br></pre></td></tr></table></figure>

<h5 id="Math对象的ceil-方法"><a href="#Math对象的ceil-方法" class="headerlink" title="Math对象的ceil() 方法"></a>Math对象的ceil() 方法</h5><p>Math对象的ceil()方法，返回大于等于传入参数的最大整数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a=Math.floor(0.60);</span><br><span class="line">var b=Math.floor(0.40);</span><br><span class="line">var c=Math.floor(5);</span><br><span class="line">var d=Math.floor(5.1);</span><br><span class="line">var e=Math.floor(-5.1);</span><br><span class="line">var f=Math.floor(-5.9);</span><br></pre></td></tr></table></figure>

<h5 id="Math对象的round-方法"><a href="#Math对象的round-方法" class="headerlink" title="Math对象的round() 方法"></a>Math对象的round() 方法</h5><p>Math 对象的round()方法，可把一个数字舍入为最接近的整数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a=Math.round(2.60);</span><br><span class="line">var b=Math.round(2.50);</span><br><span class="line">var c=Math.round(2.49);</span><br><span class="line">var d=Math.round(-2.60);</span><br><span class="line">var e=Math.round(-2.50);</span><br><span class="line">var f=Math.round(-2.49);</span><br></pre></td></tr></table></figure>

<h5 id="Math对象的min-方法"><a href="#Math对象的min-方法" class="headerlink" title="Math对象的min() 方法"></a>Math对象的min() 方法</h5><p>Math 对象的min()方法，返回指定的数字中带有最小值的数字。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a=Math.min(5,10);</span><br><span class="line">var b=Math.min(“0”,150,30,20,38);</span><br><span class="line">var c=Math.min(-5,10);</span><br><span class="line">var d=Math.min(-5,-10);</span><br><span class="line">var e=Math.min(1.5,2.5);</span><br><span class="line">var f=Math.min(1,2,“a”);</span><br></pre></td></tr></table></figure>

<h5 id="Math对象的max-方法"><a href="#Math对象的max-方法" class="headerlink" title="Math对象的max() 方法"></a>Math对象的max() 方法</h5><p>Math 对象的max()方法，返回指定的数字中带有最大值的数字。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a=Math.max(5,10);</span><br><span class="line">var b=Math.max(“0”,150,30,20,38);</span><br><span class="line">var c=Math.max(-5,10);</span><br><span class="line">var d=Math.max(-5,-10);</span><br><span class="line">var e=Math.max(1.5,2.5);</span><br><span class="line">var f=Math.max(1,2,“a”);</span><br></pre></td></tr></table></figure>

<h5 id="Math对象的abs-方法"><a href="#Math对象的abs-方法" class="headerlink" title="Math对象的abs() 方法"></a>Math对象的abs() 方法</h5><p>Math 对象的abs()方法，返回一个数的绝对值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a=Math.abs(7.25);</span><br><span class="line">var b=Math.abs(-7.25);</span><br><span class="line">var c=Math.abs(null);</span><br><span class="line">var d=Math.abs(&quot;Hello&quot;);</span><br><span class="line">var e=Math.abs(2+3);</span><br><span class="line">//参数会被转为数字，如果有某个参数不能转换成数字，则返回 NaN</span><br></pre></td></tr></table></figure>

<h5 id="Math对象的pow-方法"><a href="#Math对象的pow-方法" class="headerlink" title="Math对象的pow() 方法"></a>Math对象的pow() 方法</h5><p>Math 对象的pow(x,y)方法，返回 x 的 y 次幂。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a=Math.pow(0,1);</span><br><span class="line">var b=Math.pow(1,1);</span><br><span class="line">var c=Math.pow(1,10);</span><br><span class="line">var d=Math.pow(3,3);</span><br><span class="line">var e=Math.pow(-3,3);</span><br><span class="line">var f=Math.pow(2,4);</span><br></pre></td></tr></table></figure>

<h5 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h5><p>Math 对象的random()方法，返回介于 0（包含） ~ 1（不包含） 之间的一个随机数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//小于1的随机数</span><br><span class="line">Math.random()</span><br><span class="line">//1-10之间的随机数：Math 对象的random()方法的返回值乘以10，再把小数点舍去。</span><br><span class="line">var x = Math.random();</span><br><span class="line">console.log(x);</span><br><span class="line">var s = Math.round(x*10);</span><br><span class="line">console.log(s);</span><br><span class="line">//判断是否有0出现，有重新计算，没有的话就返回随机数。</span><br><span class="line">do&#123;</span><br><span class="line">    var x = Math.random();</span><br><span class="line">    console.log(x);</span><br><span class="line">    var s = Math.round(x*10);</span><br><span class="line">    console.log(s);</span><br><span class="line">&#125;while(s==0)</span><br><span class="line">//随机数乘以10后加1，再使用floor()将小数点舍弃。</span><br><span class="line">var x = Math.random();</span><br><span class="line">console.log(x);</span><br><span class="line">var y = x*10+1;</span><br><span class="line">console.log(y);</span><br><span class="line">var s = Math.floor(y);</span><br><span class="line">console.log(s);</span><br></pre></td></tr></table></figure>

<h2 id="String对象"><a href="#String对象" class="headerlink" title="String对象"></a>String对象</h2><p>字符串的拼接可以使用“+”操作符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let msg  = &quot;Hello&quot; + &quot;World&quot;;</span><br></pre></td></tr></table></figure>

<p>可以使用标准的全等&#x3D;&#x3D;&#x3D;和不全等!&#x3D;&#x3D;操作符进行字符串比较。</p>
<p>字符串也可以使用&lt;、&lt;&#x3D;、&gt;和&gt;&#x3D;操作符来比较，字符串比较是通过比较16位值完成的。</p>
<h5 id="1）length-字符串长度"><a href="#1）length-字符串长度" class="headerlink" title="1）length:字符串长度"></a>1）length:字符串长度</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var s = &quot;hello world&quot;;</span><br><span class="line">console.log(s.length)</span><br></pre></td></tr></table></figure>

<h5 id="2）截取字符串"><a href="#2）截取字符串" class="headerlink" title="2）截取字符串"></a>2）截取字符串</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var s = &quot;Hello World&quot;;</span><br><span class="line">s.substring(1,4);//取第2-4个字符</span><br><span class="line">s.slice(1,4);//同上</span><br><span class="line">s.slice(-3);最后3个字符</span><br></pre></td></tr></table></figure>

<h5 id="3）拆分字符串"><a href="#3）拆分字符串" class="headerlink" title="3）拆分字符串"></a>3）拆分字符串</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var s = &quot;Hello,World&quot;;</span><br><span class="line">s.split(&quot;,&quot;);//[&quot;Hello&quot;,&quot;World&quot;]从定界符处拆开</span><br></pre></td></tr></table></figure>

<h5 id="4）搜索字符串"><a href="#4）搜索字符串" class="headerlink" title="4）搜索字符串"></a>4）搜索字符串</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var s = &quot;Hello World&quot;;</span><br><span class="line">s.indexOf(&quot;l&quot;); //第一个字母l的位置</span><br><span class="line">s.indexOf(&quot;l&quot;,3);//位置3后面第一个&quot;l&quot;的位置</span><br><span class="line">s.indexOf(&quot;zz&quot;);// -1,s并不包含子串&quot;zz&quot;</span><br></pre></td></tr></table></figure>

<h5 id="5）从后向前搜索字符串。"><a href="#5）从后向前搜索字符串。" class="headerlink" title="5）从后向前搜索字符串。"></a>5）从后向前搜索字符串。</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var s = &quot;Hello World&quot;;</span><br><span class="line">s.lastIndexOf(&#x27;l&#x27;)// 9</span><br></pre></td></tr></table></figure>

<h5 id="6）字符串已那些字符开头或结尾"><a href="#6）字符串已那些字符开头或结尾" class="headerlink" title="6）字符串已那些字符开头或结尾"></a>6）字符串已那些字符开头或结尾</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var s = &quot;Hello World&quot;;</span><br><span class="line">s.startWith(&quot;Hell&quot;);=&gt;true</span><br><span class="line">s.endWith(&quot;!&quot;)=&gt;false</span><br><span class="line">s.includes(&quot;or&quot;) ;=&gt;true </span><br></pre></td></tr></table></figure>

<h5 id="7）替换与正则表达式匹配的子串"><a href="#7）替换与正则表达式匹配的子串" class="headerlink" title="7）替换与正则表达式匹配的子串"></a>7）替换与正则表达式匹配的子串</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var s = &quot;Hello World&quot;;</span><br><span class="line">s.replace(&quot;llo&quot;,&#x27;ya&#x27;) </span><br></pre></td></tr></table></figure>

<h5 id="8）把字符串转换为小写"><a href="#8）把字符串转换为小写" class="headerlink" title="8）把字符串转换为小写"></a>8）把字符串转换为小写</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var s = &quot;HELLO WORLD&quot;;</span><br><span class="line">s.toLowerCase();</span><br><span class="line">s.toLocaleLowerCase()</span><br></pre></td></tr></table></figure>

<h5 id="9）把字符串转换为大写"><a href="#9）把字符串转换为大写" class="headerlink" title="9）把字符串转换为大写"></a>9）把字符串转换为大写</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var s = &quot;hello world&quot;;</span><br><span class="line">s.toUpperCase();</span><br><span class="line">s.toLocaleUpperCase()</span><br></pre></td></tr></table></figure>

<h5 id="10）返回在指定位置的字符"><a href="#10）返回在指定位置的字符" class="headerlink" title="10）返回在指定位置的字符"></a>10）返回在指定位置的字符</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var s = &quot;Hello World&quot;;</span><br><span class="line">s.charAt(0)</span><br></pre></td></tr></table></figure>

<h5 id="11）从起始索引号提取字符串中指定数目的字符"><a href="#11）从起始索引号提取字符串中指定数目的字符" class="headerlink" title="11）从起始索引号提取字符串中指定数目的字符"></a>11）从起始索引号提取字符串中指定数目的字符</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var str=&quot;Hello world!&quot;</span><br><span class="line">document.write(str.substr(3)) =&gt;lo world!</span><br></pre></td></tr></table></figure>

<h5 id="12）去除空格"><a href="#12）去除空格" class="headerlink" title="12）去除空格"></a>12）去除空格</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var s =&quot; Hello World &quot;;</span><br><span class="line">s.trim();//删除两侧空格</span><br><span class="line">s.trimStart();//删除左侧空格</span><br><span class="line">s.trimEnd();//删除右侧空格</span><br></pre></td></tr></table></figure>

<h5 id="13-字符串填充"><a href="#13-字符串填充" class="headerlink" title="13.字符串填充"></a>13.字符串填充</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var s =&quot;Hello World&quot;;</span><br><span class="line">s.padStart(3,&#x27;*&#x27;);//左侧填充三个*</span><br><span class="line">s.padEnd(3,&#x27;*&#x27;);//右侧填充三个*</span><br></pre></td></tr></table></figure>

<h2 id="RegExp对象"><a href="#RegExp对象" class="headerlink" title="RegExp对象"></a>RegExp对象</h2><p>正则表达式（regular expression）是一个描述字符模式的对象，使用正则表达式可以进行强大的模式匹配和文本检索与替换功能。JavaScript 的正则表达式语法是 Perl5 的正则表达式语法的大型子集，所以对于有 Perl 编程经验的程序员来说，学习 JavaScript 中的正则表达式是小菜一碟。</p>
<h5 id="1）正则表达式的定义"><a href="#1）正则表达式的定义" class="headerlink" title="1）正则表达式的定义"></a>1）正则表达式的定义</h5><p>JavaScript 中的正则表达式用 <code>RegExp</code> 对象表示，可以使用 <code>RegExp()</code> 构造函数来创建 <code>RegExp</code> 对象，不过 <code>RegExp</code> 对象更多是通过字面量的语法来创建，使用下面类似 Perl 的语法，就可以创建一个正则表达式。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 推荐写法</span></span><br><span class="line"><span class="keyword">var</span> expression = <span class="regexp">/ pattern /</span> flags ;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不推荐写法</span></span><br><span class="line"><span class="keyword">var</span> expression = <span class="keyword">new</span> <span class="title class_">RegExp</span>(pattern, flags);</span><br></pre></td></tr></table></figure>

<p>其中的模式（pattern）部分，是包含在一对斜杠 <code>/</code> 之间的字符，可以是任何简单或复杂的正则表达式，可以包含字符类、限定符、分组、向前查找以及反向引用。每个正则表达式都可带有一或多个标志（flags），用以标明正则表达式的行为。正则表达式的匹配模式支持下列3个标志。</p>
<ul>
<li><code>g</code>：表示全局（global）模式，即模式将被应用于所有字符串，而非在发现第一个匹配项时立即停止；</li>
<li><code>i</code>：表示不区分大小写（case-insensitive）模式，即在确定匹配项时忽略模式与字符串的大小写；</li>
<li><code>m</code>：表示多行（multiline）模式，即在到达一行文本末尾时还会继续查找下一行中是否存在与模式匹配的项。</li>
</ul>
<p>因此，一个正则表达式就是一个模式与上述3个标志的组合体。不同组合产生不同结果，如下面的例子所示。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配字符串中所有&quot;at&quot;的实例</span></span><br><span class="line"><span class="keyword">var</span> pattern1 = <span class="regexp">/at/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 匹配第一个&quot;bat&quot;或&quot;cat&quot;，不区分大小写</span></span><br><span class="line"><span class="keyword">var</span> pattern2 = <span class="regexp">/[bc]at/i</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 匹配所有以&quot;at&quot;结尾的3个字符的组合，不区分大小写</span></span><br><span class="line"><span class="keyword">var</span> pattern3 = <span class="regexp">/.at/gi</span>;</span><br></pre></td></tr></table></figure>

<p>与其他语言中的正则表达式类似，模式中使用的所有元字符都必须转义。正则表达式中的元字符包括：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">( [ &#123; \ ^ $ | ) ? * + . ] &#125;</span><br></pre></td></tr></table></figure>

<p>这些元字符在正则表达式中都有一或多种特殊用途，因此如果想要匹配字符串中包含的这些字符，就必须对它们进行转义。下面给出几个例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配第一个&quot;bat&quot;或&quot;cat&quot;，不区分大小写</span></span><br><span class="line"><span class="keyword">var</span> pattern1 = <span class="regexp">/[bc]at/i</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 匹配第一个&quot; [bc]at&quot;，不区分大小写</span></span><br><span class="line"><span class="keyword">var</span> pattern2 = <span class="regexp">/\[bc\]at/i</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 匹配所有以&quot;at&quot;结尾的3个字符的组合，不区分大小写</span></span><br><span class="line"><span class="keyword">var</span> pattern3 = <span class="regexp">/.at/gi</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 匹配所有&quot;.at&quot;，不区分大小写</span></span><br><span class="line"><span class="keyword">var</span> pattern4 = <span class="regexp">/\.at/gi</span>;</span><br></pre></td></tr></table></figure>

<h5 id="2）RegExp-实例属性"><a href="#2）RegExp-实例属性" class="headerlink" title="2）RegExp 实例属性"></a>2）<code>RegExp</code> 实例属性</h5><p><code>RegExp</code> 的每个实例都具有下列属性，通过这些属性可以取得有关模式的各种信息。</p>
<ul>
<li><code>global</code>：布尔值，表示是否设置了 <code>g</code> 标志。</li>
<li><code>ignoreCase</code>：布尔值，表示是否设置了 <code>i</code> 标志。</li>
<li><code>lastIndex</code>：整数，表示开始搜索下一个匹配项的字符位置，从0算起。</li>
<li><code>multiline</code>：布尔值，表示是否设置了 <code>m</code> 标志。</li>
<li><code>source</code>：正则表达式的字符串表示，按照字面量形式而非传入构造函数中的字符串模式返回。</li>
</ul>
<p>通过这些属性可以获知一个正则表达式的各方面信息，但却没有多大用处，因为这些信息全都包含在模式声明中。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pattern1 = <span class="regexp">/\[bc\]at/i</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern1.<span class="property">global</span>);         <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern1.<span class="property">ignoreCase</span>);     <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern1.<span class="property">multiline</span>);      <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern1.<span class="property">lastIndex</span>);      <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern1.<span class="property">source</span>);         <span class="comment">// &quot;\[bc\]at&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pattern2 = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;\\[bc\\]at&quot;</span>, <span class="string">&quot;i&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern2.<span class="property">global</span>);         <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern2.<span class="property">ignoreCase</span>);     <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern2.<span class="property">multiline</span>);      <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern2.<span class="property">lastIndex</span>);      <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern2.<span class="property">source</span>);         <span class="comment">// &quot;\[bc\]at&quot;</span></span><br></pre></td></tr></table></figure>

<p>我们注意到，尽管第一个模式使用的是字面量，第二个模式使用了 <code>RegExp</code> 构造函数，但它们的 <code>source</code> 属性是相同的。可见，<code>source</code> 属性保存的是规范形式的字符串，即字面量形式所用的字符串。</p>
<h5 id="3）RegExp-实例方法"><a href="#3）RegExp-实例方法" class="headerlink" title="3）RegExp 实例方法"></a>3）<code>RegExp</code> 实例方法</h5><p><code>RegExp</code> 对象的主要方法是 <code>exec()</code>，该方法是专门为捕获组而设计的。<code>exec()</code> 接受一个参数，即要应用模式的字符串，然后返回包含第一个匹配项信息的数组；或者在没有匹配项的情况下返回 <code>null</code>。返回的数组虽然是 <code>Array</code> 的实例，但包含两个额外的属性：<code>index</code> 和 <code>input</code>。其中，<code>index</code> 表示匹配项在字符串中的位置，而 <code>input</code> 表示应用正则表达式的字符串。在数组中，第一项是与整个模式匹配的字符串，其他项是与模式中的捕获组匹配的字符串（如果模式中没有捕获组，则该数组只包含一项）。请看下面的例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">&quot;mom and dad and baby&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/mom( and dad( and baby)?)?/gi</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> matches = pattern.<span class="title function_">exec</span>(text);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches.<span class="property">index</span>);     <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches.<span class="property">input</span>);     <span class="comment">// &quot;mom and dad and baby&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches[<span class="number">0</span>]);        <span class="comment">// &quot;mom and dad and baby&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches[<span class="number">1</span>]);        <span class="comment">// &quot; and dad and baby&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches[<span class="number">2</span>]);        <span class="comment">// &quot; and baby&quot;</span></span><br></pre></td></tr></table></figure>

<p>这个例子中的模式包含两个捕获组。最内部的捕获组匹配 <code>&quot;and baby&quot;</code>，而包含它的捕获组匹配 <code>&quot;and dad&quot;</code> 或者 <code>&quot;and dad and baby&quot;</code>。当把字符串传入 <code>exec()</code> 方法中之后，发现了一个匹配项。因为整个字符串本身与模式匹配，所以返回的数组 <code>matchs</code> 的 <code>index</code> 属性值为 <code>0</code>。数组中的第一项是匹配的整个字符串，第二项包含与第一个捕获组匹配的内容，第三项包含与第二个捕获组匹配的内容。</p>
<p>对于 <code>exec()</code> 方法而言，即使在模式中设置了全局标志 <code>g</code>，它每次也只会返回一个匹配项。在不设置全局标志的情况下，在同一个字符串上多次调用 <code>exec()</code> 将始终返回第一个匹配项的信息。而在设置全局标志的情况下，每次调用 <code>exec()</code> 则都会在字符串中继续查找新匹配项，如下面的例子所示。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">&quot;cat, bat, sat, fat&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pattern1 = <span class="regexp">/.at/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 非全局模式，第一次匹配</span></span><br><span class="line"><span class="keyword">var</span> matches = pattern1.<span class="title function_">exec</span>(text);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches.<span class="property">index</span>);        <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches[<span class="number">0</span>]);           <span class="comment">// cat</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern1.<span class="property">lastIndex</span>);   <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 非全局模式，第二次匹配</span></span><br><span class="line">matches = pattern1.<span class="title function_">exec</span>(text);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches.<span class="property">index</span>);        <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches[<span class="number">0</span>]);           <span class="comment">// cat</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern1.<span class="property">lastIndex</span>);   <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pattern2 = <span class="regexp">/.at/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局模式，第一次匹配</span></span><br><span class="line"><span class="keyword">var</span> matches = pattern2.<span class="title function_">exec</span>(text);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches.<span class="property">index</span>);        <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches[<span class="number">0</span>]);           <span class="comment">// cat</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern2.<span class="property">lastIndex</span>);   <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局模式，第二次匹配</span></span><br><span class="line">matches = pattern2.<span class="title function_">exec</span>(text);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches.<span class="property">index</span>);        <span class="comment">// 5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(matches[<span class="number">0</span>]);           <span class="comment">// bat</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern2.<span class="property">lastIndex</span>);   <span class="comment">// 8</span></span><br></pre></td></tr></table></figure>

<p>这个例子中的第一个模式 <code>pattern1</code> 不是全局模式，因此每次调用 <code>exec()</code> 返回的都是第一个匹配项 <code>&quot;cat&quot;</code>。而第二个模式 <code>pattern2</code> 是全局模式，因此每次调用 <code>exec()</code> 都会返回字符串中的下一个匹配项，直至搜索到字符串末尾为止。此外，还应该注意模式的 <code>lastIndex</code> 属性的变化情况。在全局匹配模式下，<code>lastIndex</code> 的值在每次调用 <code>exec()</code> 后都会增加，而在非全局模式下则始终保持不变。</p>
<blockquote>
<p>IE 的 JavaScript 实现在 <code>lastIndex</code> 属性上存在偏差，即使在非全局模式下，<code>lastIndex</code> 属性每次也会变化。</p>
</blockquote>
<p>正则表达式的第二个方法是 <code>test()</code>，它接受一个字符串参数。在模式与该参数匹配的情况下返回 <code>true</code>；否则，返回 <code>false</code>。在只想知道目标字符串与某个模式是否匹配，但不需要知道其文本内容的情况下，使用这个方法非常方便。因此，<code>test()</code> 方法经常被用在 <code>if</code> 语句中，如下面的例子所示。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">&quot;000-00-0000&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/\d&#123;3&#125;-\d&#123;2&#125;-\d&#123;4&#125;/</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (pattern.<span class="title function_">test</span>(text))&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;The pattern was matched.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，我们使用正则表达式来测试了一个数字序列。如果输入的文本与模式匹配，则显示一条消息。这种用法经常出现在验证用户输入的情况下，因为我们只想知道输入是不是有效，至于它为什么无效就无关紧要了。</p>
<p><code>RegExp</code> 实例继承的 <code>toLocaleString()</code> 和 <code>toString()</code> 方法都会返回正则表达式的字面量，与创建正则表达式的方式无关。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pattern = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;\\[bc\\]at&quot;</span>, <span class="string">&quot;gi&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern.<span class="title function_">toString</span>());             <span class="comment">// /\[bc\]at/gi</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern.<span class="title function_">toLocaleString</span>());       <span class="comment">// /\[bc\]at/gi</span></span><br></pre></td></tr></table></figure>

<p>即使上例中的模式是通过调用 <code>RegExp</code> 构造函数创建的，但 <code>toLocaleString()</code> 和 <code>toString()</code> 方法仍然会像它是以字面量形式创建的一样显示其字符串表示。</p>
<h5 id="4）RegExp-构造函数属性"><a href="#4）RegExp-构造函数属性" class="headerlink" title="4）RegExp 构造函数属性"></a>4）<code>RegExp</code> 构造函数属性</h5><p><code>RegExp</code> 构造函数包含一些属性（这些属性在其他语言中被看成是静态属性）。这些属性适用于作用域中的所有正则表达式，并且基于所执行的最近一次正则表达式操作而变化。关于这些属性的另一个独特之处，就是可以通过两种方式访问它们。换句话说，这些属性分别有一个长属性名和一个短属性名（Opera是例外，它不支持短属性名）。下表列出了RegExp构造函数的属性。</p>
<table>
<thead>
<tr>
<th>长属性名</th>
<th>短属性名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>input</td>
<td>$_</td>
<td>最近一次要匹配的字符串。Opera未实现此属性。</td>
</tr>
<tr>
<td>lastMatch</td>
<td>$&amp;</td>
<td>最近一次的匹配项。Opera未实现此属性。</td>
</tr>
<tr>
<td>lastParen</td>
<td>$+</td>
<td>最近一次匹配的捕获组。Opera未实现此属性。</td>
</tr>
<tr>
<td>leftContext</td>
<td>$&#96;</td>
<td>input字符串中lastMatch之前的文本。</td>
</tr>
<tr>
<td>multiline</td>
<td>$*</td>
<td>布尔值，表示是否所有表达式都使用多行模式。IE和Opera未实现此属性。</td>
</tr>
<tr>
<td>rightContext</td>
<td>$’</td>
<td>Input字符串中lastMatch之后的文本。</td>
</tr>
</tbody></table>
<p>使用这些属性可以从 <code>exec()</code> 或 <code>test()</code> 执行的操作中提取出更具体的信息。请看下面的例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">&quot;this has been a short summer&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/(.)hort/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 注意：Internet Explorer 不支持 multiline 属性</span></span><br><span class="line"><span class="comment"> * Opera 不支持 input、lastMatch、lastParen 和 multiline 属性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">if</span> (pattern.<span class="title function_">test</span>(text))&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>.<span class="property">input</span>);          <span class="comment">// this has been a short summer</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>.<span class="property">leftContext</span>);    <span class="comment">// this has been a</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>.<span class="property">rightContext</span>);   <span class="comment">// summer</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>.<span class="property">lastMatch</span>);      <span class="comment">// short</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>.<span class="property">lastParen</span>);      <span class="comment">// s</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>.<span class="property">multiline</span>);      <span class="comment">// false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如前所述，例子使用的长属性名都可以用相应的短属性名来代替。只不过，由于这些短属性名大都不是有效的 JavaScript 标识符，因此必须通过方括号语法来访问它们，如下所示。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">&quot;this has been a short summer&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/(.)hort/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 注意：Internet Explorer 不支持 multiline 属性</span></span><br><span class="line"><span class="comment"> * Opera 不支持 input、lastMatch、lastParen 和 multiline 属性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">if</span> (pattern.<span class="title function_">test</span>(text))&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>.<span class="property">$_</span>);      <span class="comment">// this has been a short summer</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>[<span class="string">&quot;$`&quot;</span>]);   <span class="comment">// this has been a</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>[<span class="string">&quot;$&#x27;&quot;</span>]);   <span class="comment">// summer</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>[<span class="string">&quot;$&amp;&quot;</span>]);   <span class="comment">// short</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>[<span class="string">&quot;$+&quot;</span>]);   <span class="comment">// s</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>[<span class="string">&quot;$*&quot;</span>]);   <span class="comment">// false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>除了上面介绍的几个属性之外，还有多达9个用于存储捕获组的构造函数属性。访问这些属性的语法是 <code>RegExp.$1</code>、<code>RegExp.$2</code>…<code>RegExp.$9</code>，分别用于存储第一、第二…第九个匹配的捕获组。在调用 <code>exec()</code> 或 <code>test()</code> 方法时，这些属性会被自动填充。然后，我们就可以像下面这样来使用它们。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">&quot;this has been a short summer&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/(..)or(.)/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (pattern.<span class="title function_">test</span>(text))&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>);  <span class="comment">// sh</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">RegExp</span>.<span class="property">$2</span>);  <span class="comment">// t</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里创建了一个包含两个捕获组的模式，并用该模式测试了一个字符串。即使 <code>test()</code> 方法只返回一个布尔值，但 <code>RegExp</code> 构造函数的属性 <code>$1</code> 和 <code>$2</code> 也会被匹配相应捕获组的字符串自动填充。</p>
<h5 id="5）模式的局限性"><a href="#5）模式的局限性" class="headerlink" title="5）模式的局限性"></a>5）模式的局限性</h5><p>尽管 JavaScript 中的正则表达式功能还是比较完备的，但仍然缺少某些语言（特别是 Perl）所支持的高级正则表达式特性。下面列出了 JavaScript 正则表达式所不支持的特性。</p>
<ul>
<li>匹配字符串开始和结尾的\A和\Z锚</li>
<li>向后查找（lookbehind）</li>
<li>并集和交集类</li>
<li>原子组（atomic grouping）</li>
<li>Unicode支持（单个字符除外，如\uFFFF）</li>
<li>命名的捕获组</li>
<li>s（single，单行）和x（free-spacing，无间隔）匹配模式</li>
<li>条件匹配</li>
<li>正则表达式注释</li>
</ul>
<p>即使存在这些限制，JavaScript 正则表达式仍然是非常强大的，能够帮我们完成绝大多数模式匹配任务。</p>
<h5 id="6）常用的正则表达式"><a href="#6）常用的正则表达式" class="headerlink" title="6）常用的正则表达式"></a>6）常用的正则表达式</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">一、校验数字的js正则表达式</span><br><span class="line">1 数字：^[0-9]*$</span><br><span class="line">2 n位的数字：^d&#123;n&#125;$</span><br><span class="line">3 至少n位的数字：^d&#123;n,&#125;$</span><br><span class="line">4 m-n位的数字：^d&#123;m,n&#125;$</span><br><span class="line">5 零和非零开头的数字：^(0|[1-9][0-9]*)$</span><br><span class="line">6 非零开头的最多带两位小数的数字：^([1-9][0-9]*)+(.[0-9]&#123;1,2&#125;)?$</span><br><span class="line">7 带1-2位小数的正数或负数：^(-)?d+(.d&#123;1,2&#125;)?$</span><br><span class="line">8 正数、负数、和小数：^(-|+)?d+(.d+)?$</span><br><span class="line">9 有两位小数的正实数：^[0-9]+(.[0-9]&#123;2&#125;)?$</span><br><span class="line">10 有1~3位小数的正实数：^[0-9]+(.[0-9]&#123;1,3&#125;)?$</span><br><span class="line">11 非零的正整数：^[1-9]d*$ 或 ^([1-9][0-9]*)&#123;1,3&#125;$ 或 ^+?[1-9][0-9]*$</span><br><span class="line">12 非零的负整数：^-[1-9][]0-9&quot;*$ 或 ^-[1-9]d*$</span><br><span class="line">13 非负整数：^d+$ 或 ^[1-9]d*|0$</span><br><span class="line">14 非正整数：^-[1-9]d*|0$ 或 ^((-d+)|(0+))$</span><br><span class="line">15 非负浮点数：^d+(.d+)?$ 或 ^[1-9]d*.d*|0.d*[1-9]d*|0?.0+|0$</span><br><span class="line">16 非正浮点数：^((-d+(.d+)?)|(0+(.0+)?))$或 ^(-([1-9]d*.d*|0.d*[1-9]d*))|0?.0+|0$</span><br><span class="line">17正浮点数：^[1-9]d*.d*|0.d*[1-9]d*$或^(([0-9]+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*))$</span><br><span class="line">18负浮点数：^-([1-9]d*.d*|0.d*[1-9]d*)$或^(-(([0-9]+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*)))$</span><br><span class="line">19 浮点数：^(-?d+)(.d+)?$ 或 ^-?([1-9]d*.d*|0.d*[1-9]d*|0?.0+|0)$</span><br><span class="line">二、校验字符的js正则表达式</span><br><span class="line">1 汉字：^[u4e00-u9fa5]&#123;0,&#125;$</span><br><span class="line">2 英文和数字：^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]&#123;4,40&#125;$</span><br><span class="line">3 长度为3-20的所有字符：^.&#123;3,20&#125;$</span><br><span class="line">4 由26个英文字母组成的字符串：^[A-Za-z]+$</span><br><span class="line">5 由26个大写英文字母组成的字符串：^[A-Z]+$</span><br><span class="line">6 由26个小写英文字母组成的字符串：^[a-z]+$</span><br><span class="line">7 由数字和26个英文字母组成的字符串：^[A-Za-z0-9]+$</span><br><span class="line">8 由数字、26个英文字母或者下划线组成的字符串：^w+$ 或 ^w&#123;3,20&#125;$</span><br><span class="line">9 中文、英文、数字包括下划线：^[u4E00-u9FA5A-Za-z0-9_]+$</span><br><span class="line">10 中文、英文、数字但不包括下划线等符号：^[u4E00-u9FA5A-Za-z0-9]+$或 ^[u4E00-u9FA5A-Za-z0-9]&#123;2,20&#125;$</span><br><span class="line">11 可以输入含有^%&amp;&#x27;,;=?$&quot;等字符：[^%&amp;&#x27;,;=?$x22]+</span><br><span class="line">12 禁止输入含有~的字符：[^~x22]+</span><br><span class="line">三、特殊需求js正则表达式</span><br><span class="line">1Email邮箱地址：^w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*$或/^[A-Za-z0-9._%-]+@([A-Za-z0-9-]+.)+[A-Za-z]&#123;2,4&#125;$/</span><br><span class="line">2 url域名：[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;(/.[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;)+/.?</span><br><span class="line">3 InternetURL：[a-zA-z]+://[^s]* 或 ^http://([w-]+.)+[w-]+(/[w-./?%&amp;=]*)?$</span><br><span class="line">4 手机号码：^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])d&#123;8&#125;$或/^1[3|4|6|5|7|8|9]d&#123;9&#125;$/</span><br><span class="line">5 电话号码：^((d&#123;3,4&#125;-)|d&#123;3.4&#125;-)?d&#123;7,8&#125;$ </span><br><span class="line">6 国内电话号码(0511-4405222、021-87888822)：d&#123;3&#125;-d&#123;8&#125;|d&#123;4&#125;-d&#123;7&#125;   </span><br><span class="line">7 身份证号：</span><br><span class="line">　　　　　　15或18位身份证：^d&#123;15&#125;|d&#123;18&#125;$</span><br><span class="line">　　　　　　15位身份证：^[1-9]d&#123;7&#125;((0d)|(1[0-2]))(([0|1|2]d)|3[0-1])d&#123;3&#125;$</span><br><span class="line">　　　　　　18位身份证：^[1-9]d&#123;5&#125;[1-9]d&#123;3&#125;((0d)|(1[0-2]))(([0|1|2]d)|3[0-1])d&#123;4&#125;$</span><br><span class="line">8 短身份证号码(数字、字母x结尾)：^([0-9])&#123;7,18&#125;(x|X)?$或 ^d&#123;8,18&#125;|[0-9x]&#123;8,18&#125;|[0-9X]&#123;8,18&#125;?$</span><br><span class="line">9 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;$</span><br><span class="line">10 密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]w&#123;5,17&#125;$</span><br><span class="line">11强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.*d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$  </span><br><span class="line">12 日期格式：^d&#123;4&#125;-d&#123;1,2&#125;-d&#123;1,2&#125;</span><br><span class="line">13 一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$</span><br><span class="line">14 一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$ </span><br><span class="line">15 腾讯QQ号：[1-9][0-9]&#123;4,&#125;    (腾讯QQ号从10000开始)</span><br><span class="line">16 中国邮政编码：[1-9]d&#123;5&#125;(?!d)    (中国邮政编码为6位数字)</span><br><span class="line">17 IP地址：d+.d+.d+.d+    (提取IP地址时有用)</span><br><span class="line">18 不能为空：/S/</span><br><span class="line">19 匹配空行：^(s*)</span><br></pre></td></tr></table></figure>

<h5 id="7）课堂练习"><a href="#7）课堂练习" class="headerlink" title="7）课堂练习"></a>7）课堂练习</h5><p>按要求完成下列常用的正则表达式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战一：数字</span></span><br><span class="line"><span class="keyword">var</span> pattern1 = <span class="literal">null</span>;  <span class="comment">// 补全该正则表达式</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern1.<span class="title function_">test</span>(<span class="string">&#x27;123&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern1.<span class="title function_">test</span>(<span class="string">&#x27;abc&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战二：3位的数字</span></span><br><span class="line"><span class="keyword">var</span> pattern2 = <span class="literal">null</span>;  <span class="comment">// 补全该正则表达式</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern2.<span class="title function_">test</span>(<span class="string">&#x27;123&#x27;</span>));  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern2.<span class="title function_">test</span>(<span class="string">&#x27;1234&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战三：至少3位的数字</span></span><br><span class="line"><span class="keyword">var</span> pattern3 = <span class="literal">null</span>;  <span class="comment">// 补全该正则表达式</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern3.<span class="title function_">test</span>(<span class="string">&#x27;1234&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern3.<span class="title function_">test</span>(<span class="string">&#x27;12&#x27;</span>));   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战四：3-5位的数字</span></span><br><span class="line"><span class="keyword">var</span> pattern4 = <span class="literal">null</span>;  <span class="comment">// 补全该正则表达式</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern4.<span class="title function_">test</span>(<span class="string">&#x27;1234&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern4.<span class="title function_">test</span>(<span class="string">&#x27;1&#x27;</span>));    <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战五：由26个英文字母组成的字符串</span></span><br><span class="line"><span class="keyword">var</span> pattern5 = <span class="literal">null</span>;  <span class="comment">// 补全该正则表达式</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern5.<span class="title function_">test</span>(<span class="string">&#x27;abc&#x27;</span>));  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern5.<span class="title function_">test</span>(<span class="string">&#x27;1abc&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战六：由数字和26个英文字母组成的字符串</span></span><br><span class="line"><span class="keyword">var</span> pattern6 = <span class="literal">null</span>;  <span class="comment">// 补全该正则表达式</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern6.<span class="title function_">test</span>(<span class="string">&#x27;1abc&#x27;</span>));  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern6.<span class="title function_">test</span>(<span class="string">&#x27;_abc&#x27;</span>));  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战七：日期格式：年-月-日</span></span><br><span class="line"><span class="keyword">var</span> pattern7 = <span class="literal">null</span>;  <span class="comment">// 补全该正则表达式</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern7.<span class="title function_">test</span>(<span class="string">&#x27;2016-08-20&#x27;</span>));  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern7.<span class="title function_">test</span>(<span class="string">&#x27;2016/08/20&#x27;</span>));  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战八：时间格式：小时:分钟, 24小时制</span></span><br><span class="line"><span class="keyword">var</span> pattern8 = <span class="literal">null</span>;  <span class="comment">// 补全该正则表达式</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern8.<span class="title function_">test</span>(<span class="string">&#x27;13:45&#x27;</span>));  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern8.<span class="title function_">test</span>(<span class="string">&#x27;13点45&#x27;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战九：中国大陆身份证号，15位或18位</span></span><br><span class="line"><span class="keyword">var</span> pattern9 = <span class="literal">null</span>;  <span class="comment">// 补全该正则表达式</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern9.<span class="title function_">test</span>(<span class="string">&#x27;4223222199901090033&#x27;</span>));  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern9.<span class="title function_">test</span>(<span class="string">&#x27;asdfasdfasfasdf1234&#x27;</span>));  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>数组是值的有序集合。每个值叫做一个元素，而每个元素在数组中有一个位置，以数字表示，称为索引。</p>
<p>JavaScript 数组是无类型的，数组元素可以是任意类型，并且同一个数组中的不同元素也可能有不同的类型。数组的元素甚至也可能是对象或其他数组。</p>
<p>JavaScript 数组是动态的，根据需要它们会增长或缩减，并且在创建数组时无须声明一个固定的大小或者在数组大小变化时无须重新分配空间。</p>
<p>JavaScript 数组可能是稀疏的，数组元素的索引不一定要连续的，它们之间可以有空缺。每个 JavaScript 数组都有一个 <code>length</code> 属性。针对非稀疏数组，该属性就是数组元素的个数。针对稀疏数组，<code>length</code> 比所有元素的索引要大。</p>
<p>JavaScript 数组是 JavaScript 对象的特殊形式，数组索引实际上和碰巧是整数的属性名差不多。通常，数组的实现是经过优化的，用数字索引来访问数组元素一般来说比访问常规的对象属性要快很多。</p>
<p>数组继承自 <code>Array.prototype</code> 中的属性，它定义了一套丰富的数组操作方法。</p>
<h5 id="1）创建数组"><a href="#1）创建数组" class="headerlink" title="1）创建数组"></a>1）创建数组</h5><p>1）数组字面量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var empty = [];                 // 没有元素的数组</span><br><span class="line">var primes = [2, 3, 5, 7, 11];  // 有5个数值的数组</span><br><span class="line">var misc = [1.1, true, &quot;a&quot;];    // 3个不同类型的元素</span><br><span class="line"></span><br><span class="line">// 数组直接量中的值不一定要是常量，可以是任意的表达式</span><br><span class="line">var base = 1024;</span><br><span class="line">var table = [base, base+1, base+2, base+3];</span><br><span class="line"></span><br><span class="line">// 也可以包含对象直接量或其他数组直接量</span><br><span class="line">var b = [[1, &#123;x:1, y:2&#125;], [2, &#123;x:3, y:4&#125;]];</span><br></pre></td></tr></table></figure>

<p>注意，不要忽略数组字面量的最后一个元素，仅以逗号结尾。下面几个案例，在不同的浏览器下，可能会被识别成2个元素，也有可能识别成3个元素，而造成程序bug。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var nums = [,,,];               // 不好的写法</span><br><span class="line">var names = [&quot;stone&quot;,,];        // 不好的写法</span><br><span class="line">var colors = [&quot;red&quot;,&quot;green&quot;,];  // 不好的写法</span><br></pre></td></tr></table></figure>

<p>2）通过new Array()创建</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 调用时没有参数</span><br><span class="line">var a = new Array();</span><br><span class="line"></span><br><span class="line">// 调用时有一个数值参数，它指定长度</span><br><span class="line">var a = new Array(10); </span><br><span class="line"></span><br><span class="line">// 显式指定多个数组元素或者数组的一个非数值元素</span><br><span class="line">var a = new Array(5, 4, 3, 2, 1, &quot;testing&quot;);</span><br></pre></td></tr></table></figure>

<h5 id="2）数组的读写"><a href="#2）数组的读写" class="headerlink" title="2）数组的读写"></a>2）数组的读写</h5><p>使用 <code>[]</code> 操作符来访问数组中的一个元素。数组的引用位于方括号的左边。方括号中是一个返回非负整数值的任意表达式。使用该语法既可以读又可以写数组的一个元素。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">&quot;world&quot;</span>];     <span class="comment">// 从一个元素的数组开始</span></span><br><span class="line"><span class="keyword">var</span> value = a[<span class="number">0</span>];      <span class="comment">// 读第0个元素</span></span><br><span class="line">a[<span class="number">1</span>] = <span class="number">3.14</span>;           <span class="comment">// 写第1个元素</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">2</span>; </span><br><span class="line">a[i] = <span class="number">3</span>;              <span class="comment">// 写第2个元素</span></span><br><span class="line">a[i + <span class="number">1</span>] = <span class="string">&quot;hello&quot;</span>;    <span class="comment">// 写第3个元素</span></span><br><span class="line">a[a[i]] = a[<span class="number">0</span>];        <span class="comment">// 读第0个和第2个元素，写第3个元素</span></span><br></pre></td></tr></table></figure>

<p>请记住，数组是对象的特殊形式，可以为其创建任意名字的属性。但如果使用的属性是数组的索引，数组的特殊行为就是将根据需要更新它们的length属性值。</p>
<p>注意，可以使用负数或非整数来索引数组。这种情况下，数值转换为字符串，字符串作为属性名来用。既然名字不是非负整数，它就只能当做常规的对象属性，而非数组的索引。同样，如果凑巧使用了是非负整数的字符串，它就当做数组索引，而非对象属性。当使用的一个浮点数和一个整数相等时情况也是一样的。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a[-<span class="number">1.23</span>] = <span class="literal">true</span>;  <span class="comment">// 这将创建一个名为&quot;-1.23&quot;的属性</span></span><br><span class="line">a[<span class="string">&quot;1000&quot;</span>] = <span class="number">0</span>;    <span class="comment">// 这是数组的第1001个元素</span></span><br><span class="line">a[<span class="number">1.000</span>]          <span class="comment">// 和 a[1] 相等</span></span><br></pre></td></tr></table></figure>

<p>事实上数组索引仅仅是对象属性名的一种特殊类型，这意味着 JavaScript 数组没有「越界」错误的概念。当试图查询任何对象中不存在的属性时，不会报错，只会得到 <code>undefined</code> 值。</p>
<h5 id="3）稀疏数组"><a href="#3）稀疏数组" class="headerlink" title="3）稀疏数组"></a>3）稀疏数组</h5><p>稀疏数组就是包含从0开始的不连续索引的数组。通常，数组的 <code>length</code> 属性值代表数组中元素的个数。如果数组是稀疏的，<code>length</code> 属性值大于元素的个数。可以用 <code>Array()</code> 构造函数或简单地指定数组的索引值大于当前的数组长度来创建稀疏数组。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">5</span>);   <span class="comment">// 数组没有元素，但是 a.length = 5</span></span><br><span class="line">a = [];             <span class="comment">// 创建一个空数组，a.length = 0</span></span><br><span class="line">a[<span class="number">1000</span>] = <span class="number">0</span>;        <span class="comment">// 添加一个元素，a.length 被自动更新为1001</span></span><br></pre></td></tr></table></figure>

<p>足够稀疏的数组通常在实现上比稠密的数组更慢、内存利用率更高，在这样的数组中查找元素的时间与常规对象属性的查找时间一样长。</p>
<p>需要注意的是，当省略数组直接量中的值时（使用连续的逗号，比如 <code>[1,,3]</code> ），这时所得到的数组也是稀疏数组，省略掉的值是不存在的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a1 = [,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>];    <span class="comment">// 此数组长度是3 </span></span><br><span class="line"><span class="keyword">var</span> a2 = [<span class="literal">undefined</span>];   <span class="comment">// 此数组包含一个值为 undefined 的元素 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> <span class="keyword">in</span> a1);   <span class="comment">// false，a1 在索引0处没有元素</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> <span class="keyword">in</span> a2);   <span class="comment">// true，a2 在索引0处有一个值为 undefined 的元素 </span></span><br></pre></td></tr></table></figure>

<p>了解稀疏数组是了解 JavaScript 数组的真实本质的一部分。尽管如此，实际上你所碰到的绝大多数 JavaScript 数组不是稀疏数组。并且，如果你确实碰到了稀疏数组，你的代码很可能像对待非稀疏数组一样来对待它们，只不过它们包含一些 <code>undefined</code> 值。</p>
<h5 id="4）数组的长度"><a href="#4）数组的长度" class="headerlink" title="4）数组的长度"></a>4）数组的长度</h5><p>每个数组有一个 <code>length</code> 属性，就是这个属性使其区别于常规的 JavaScript 对象。针对稠密（也就是非稀疏）数组，<code>length</code> 属性值代表数组中元素的个数。其值比数组中最大的索引大1。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[].<span class="property">length</span>             <span class="comment">// 0，数组没有元素</span></span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>].<span class="property">length</span>  <span class="comment">// 3，最大的索引为2，length 为3</span></span><br></pre></td></tr></table></figure>

<p>当数组是稀疏的时，<code>length</code> 属性值大于元素的个数。而且关于此我们可以说的一切也就是数组长度保证大于它每个元素的索引值。或者，换一种说法，在数组中（无论稀疏与否）肯定找不到一个元素的索引值大于或等于它的长度。为了维持此规则不变化，数组有两个特殊的行为。</p>
<ul>
<li>第一个如同上面的描述：如果为一个数组元素赋值，它的索引 <code>i</code> 大于或等于现有数组的长度时，<code>length</code> 属性的值将设置为 <code>i+1</code>。</li>
<li>第二个特殊的行为就是设置 <code>length</code> 属性为一个小于当前长度的非负整数 <code>n</code> 时，当前数组中那些索引值大于或等于 <code>n</code> 的元素将从中删除。例如：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];     <span class="comment">// 从5个元素的数组开始</span></span><br><span class="line">a.<span class="property">length</span> = <span class="number">3</span>;        <span class="comment">// 现在 a 为[1,2,3]</span></span><br><span class="line">a.<span class="property">length</span> = <span class="number">0</span>;        <span class="comment">// 删除所有的元素。a 为[ ]</span></span><br><span class="line">a.<span class="property">length</span> = <span class="number">5</span>;        <span class="comment">// 长度为5，但是没有元素，就像 new Array(5)</span></span><br></pre></td></tr></table></figure>

<p>还可以将数组的 <code>length</code> 属性值设置为大于其当前的长度。实际上这不会向数组中添加新的元素，它只是在数组尾部创建一个空的区域。</p>
<p>在 ECMAScript 5 中，可以用 <code>Object.defineProperty()</code> 让数组的 <code>length</code> 属性变成只读的。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];                                            <span class="comment">// 从3个元素的数组开始</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(a, <span class="string">&quot;length&quot;</span>, &#123;<span class="attr">writable</span>: <span class="literal">false</span>&#125;);  <span class="comment">// 让 length 属性只读</span></span><br><span class="line">a.<span class="property">length</span> = <span class="number">0</span>;                                           <span class="comment">// a 不会改变</span></span><br></pre></td></tr></table></figure>

<h5 id="5）添加或删除数组元素"><a href="#5）添加或删除数组元素" class="headerlink" title="5）添加或删除数组元素"></a>5）添加或删除数组元素</h5><p>push():向数组末尾添加一个或多个元素</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let a = [];</span><br><span class="line">a.push(&#x27;one&#x27;);</span><br><span class="line">a.push(&#x27;two&#x27;,&#x27;three&#x27;)</span><br></pre></td></tr></table></figure>

<p>pop():删除数组最后一个元素并返回该元素。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let a = [&#x27;one&#x27;,&#x27;two&#x27;,&#x27;three&#x27;];</span><br><span class="line">a.pop();</span><br></pre></td></tr></table></figure>

<p>shift():删除并返回数组的第一个元素</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let a = [&#x27;one&#x27;,&#x27;two&#x27;,&#x27;three&#x27;];</span><br><span class="line">a.shift();</span><br></pre></td></tr></table></figure>

<p>unshift():想数组首位添加一个元素</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let a = [&#x27;one&#x27;,&#x27;two&#x27;,&#x27;three&#x27;];</span><br><span class="line">a.unshift(&#x27;four&#x27;);</span><br><span class="line">a.unshift(&#x27;five&#x27;,&#x27;six&#x27;);</span><br></pre></td></tr></table></figure>

<p>splice(index,num): 从下标index位置开始，删除num个元素</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let color = [&#x27;red&#x27;,&#x27;yellow&#x27;,&#x27;green&#x27;,&#x27;pink&#x27;];</span><br><span class="line">let b = color.splice(1,2);//从下标1的位置，删除两项，并将调用splice放的返回值存放在变量b中</span><br></pre></td></tr></table></figure>

<p>arr.splice(index,0,val1,val2..):在下标index位置，添加多个元素</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let color = [&#x27;red&#x27;,&#x27;yellow&#x27;,&#x27;green&#x27;,&#x27;pink&#x27;];</span><br><span class="line">console.log(color.splice(1,0,&#x27;#fff&#x27;,&#x27;#000&#x27;))</span><br></pre></td></tr></table></figure>

<p>arr.splice(index,num,val1,val2…):先删除后添加; 从index 位置开始，先删除num个元素，再添加多个新元素；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let color = [&#x27;red&#x27;,&#x27;yellow&#x27;,&#x27;green&#x27;,&#x27;pink&#x27;];</span><br><span class="line">let result = color.splice(2,2,&#x27;black&#x27;,&#x27;white&#x27;)</span><br></pre></td></tr></table></figure>

<h5 id="6）数组迭代"><a href="#6）数组迭代" class="headerlink" title="6）数组迭代"></a>6）数组迭代</h5><p>使用 <code>for</code> 循环是遍历数组元素最常见的方法。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(o);   <span class="comment">// 获得 o 对象属性名组成的数组</span></span><br><span class="line"><span class="keyword">var</span> values = []              <span class="comment">// 在数组中存储匹配属性的值</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; keys.<span class="property">length</span>; i++) &#123;  <span class="comment">// 对于数组中每个索引</span></span><br><span class="line">    <span class="keyword">var</span> key = keys[i];                  <span class="comment">// 获得索引处的键值</span></span><br><span class="line">    values[i] = o[key];                 <span class="comment">// 在 values 数组中保存属性值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在嵌套循环或其他性能非常重要的上下文中，可以看到这种基本的数组遍历需要优化，数组的长度应该只查询一次而非每次循环都要查询。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = keys.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">   <span class="comment">// 循环体仍然不变</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这些例子假设数组是稠密的，并且所有的元素都是合法数据。否则，使用数组元素之前应该先检测它们。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!a[i]) <span class="keyword">continue</span>;    <span class="comment">// 跳过 null、undefined 和不存在的元素</span></span><br><span class="line">    <span class="keyword">if</span> (!(i <span class="keyword">in</span> a)) <span class="keyword">continue</span> ;   <span class="comment">// 跳过不存在的元素</span></span><br><span class="line">    <span class="keyword">if</span> (a[i] === <span class="literal">undefined</span>) <span class="keyword">continue</span>;   <span class="comment">// 跳过 undefined 和不存在的元素</span></span><br><span class="line">    <span class="comment">// 循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还可以使用 <code>for-in</code> 循环处理稀疏数组。循环每次将一个可枚举的属性名（包括数组索引）赋值给循环变量，不存在的索引将不会遍历到。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> index <span class="keyword">in</span> sparseArray) &#123;</span><br><span class="line">   <span class="keyword">var</span> value = sparseArray[index];</span><br><span class="line">   <span class="comment">// 此处可以使用索引和值做一些事情</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但由于 <code>for-in</code> 循环能够枚举继承的属性名，如添加到 <code>Array.prototype</code> 中的方法。基于这个原因，在数组上不应该使用 <code>for-in</code> 循环，除非使用额外的检测方法来过滤不想要的属性。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> a) &#123;</span><br><span class="line">    <span class="comment">// 跳过继承的属性</span></span><br><span class="line">    <span class="keyword">if</span> (!a.<span class="title function_">hasOwnProperty</span>(i)) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 跳过不是非负整数的 i</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">String</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="title class_">Number</span>(i)))) !== i) <span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>JavaScript</code> 规范允许 <code>for-in</code> 循环以不同的顺序遍历对象的属性。通常数组元素的遍历实现是升序的，但不能保证一定是这样的。如果数组同时拥有对象属性和数组元素，返回的属性名很可能是按照创建的顺序而非数值的大小顺序。如何处理这个问题的实现，各个浏览器都不相同，如果算法依赖于遍历的顺序，那么最好不要使用 <code>for-in</code> 而用常规的 <code>for</code> 循环。</p>
<p>forEach():迭代数组的每个元素，并对每个元素都调用一次指定的函数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let data = [1,2,3,4,5,6,7],sum = 0;</span><br><span class="line">data.forEach(function(item)&#123;</span><br><span class="line">	sum +=item;</span><br><span class="line">&#125;)</span><br><span class="line">或</span><br><span class="line">data.forEach(item=&gt;&#123;</span><br><span class="line">	sum +=item;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>map():把调用它的数组的每个元素分别传给指定的函数，返回这个函数的返回值构成的数组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let a = [1,2,3];</span><br><span class="line">let result = a.map(x =&gt; x*x)</span><br><span class="line">console.log(result)</span><br></pre></td></tr></table></figure>

<p>filter():返回一个数组，该数组包含调用它的数组的子数组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let a = [1,2,3,4,5,6,7,8];</span><br><span class="line">let result = a.filter(x=&gt;x&lt;3)</span><br><span class="line">let res = a.filter((x,i) =&gt; i%2===0);</span><br></pre></td></tr></table></figure>

<p>some()：类似于数学上的“存在”量词，只要数组元素中有一个让断言函数返回true它就返回true,但必须数组的所有元素对断言函数都返回false才返回false.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let a = [1,2,3,4,5]</span><br><span class="line">a.some(x=&gt;x%2===0);</span><br><span class="line">a.some(isNaN)</span><br></pre></td></tr></table></figure>

<p>every():与数学上的全称量词类似，它在且只有断言函数对数组的所有元素都返回true时才返回true</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let a = [1,2,3,4,5];</span><br><span class="line">a.every(x=&gt;x&lt;10)</span><br><span class="line">a.every(x=&gt; x%2 ===0);</span><br></pre></td></tr></table></figure>

<h5 id="7）数组检测"><a href="#7）数组检测" class="headerlink" title="7）数组检测"></a>7）数组检测</h5><p>给定一个未知的对象，判定它是否为数组通常非常有用。在 ECMAScript 5 中，可以使用 <code>Array.isArray()</code> 函数来做这件事情。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="title function_">isArray</span>([])   <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">isArray</span>(&#123;&#125;)   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>但是，在 ECMAScript 5 以前，要区分数组和非数组对象很困难。<code>typeof</code> 运算符对数组返回 <code>&quot;object&quot;</code>（并且对于除了函数以外的所有对象都是如此）。<code>instanceof</code> 操作符也只能用于简单的情形。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[] <span class="keyword">instanceof</span> <span class="title class_">Array</span>     <span class="comment">// true</span></span><br><span class="line">(&#123;&#125;) <span class="keyword">instanceof</span> <span class="title class_">Array</span>   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>使用 <code>instanceof</code> 的问题是在 Web 浏览器中有可能有多个窗体存在。每个窗体都有自己的 JavaScript 环境，有自己的全局对象。并且，每个全局对象有自己的一组构造函数。因此一个窗体中的对象将不可能是另外窗体中的构造函数的实例。窗体之间的混淆不常发生，但这个问题足已证明 <code>instanceof</code> 操作符不能视为一个可靠的数组检测方法。</p>
<p>解决方案是检查对象的类属性，对数组而言该属性的值总是 <code>&quot;Array&quot;</code>，因此在 ECMAScript 3 中 <code>isArray()</code> 函数的代码可以这样书写。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isArray = <span class="title class_">Array</span>.<span class="property">isArray</span> || <span class="keyword">function</span>(<span class="params">o</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> o === <span class="string">&quot;object&quot;</span> &amp;&amp; <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(o) === <span class="string">&quot;[object Array]&quot;</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="8）反转数组"><a href="#8）反转数组" class="headerlink" title="8）反转数组"></a>8）反转数组</h5><p>reverse():数组反转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let a = [1,2,3,4,5]</span><br><span class="line">a.reverse();</span><br></pre></td></tr></table></figure>

<h5 id="9）数组排序"><a href="#9）数组排序" class="headerlink" title="9）数组排序"></a>9）数组排序</h5><p>sort():数组的排序<br>语法：arr.sort(function(a,b){return a-b});</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">升序</span><br><span class="line">var arr = [34,7,23,9,5];</span><br><span class="line">arr.sort(function(a,b)&#123;</span><br><span class="line">	return a-b;</span><br><span class="line">&#125;)</span><br><span class="line">降序</span><br><span class="line">var arr = [34,7,23,9,5];</span><br><span class="line">arr.sort(function(a,b)&#123;</span><br><span class="line">	return b-a;</span><br><span class="line">&#125;)</span><br><span class="line">不传参：按照ASCII码排序</span><br><span class="line">var arr = [34,7,23,9,5];</span><br><span class="line">arr.sort();</span><br><span class="line">console.log(arr);</span><br></pre></td></tr></table></figure>

<h5 id="10）数组合并"><a href="#10）数组合并" class="headerlink" title="10）数组合并"></a>10）数组合并</h5><p>concat()：将多个数组内容拿出来，合并成一个新数组；</p>
<p>语法：arr.concat(arr,arr1,arr2,….)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arr = [&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;];</span><br><span class="line">var arr2 = [1,2,3];</span><br><span class="line">console.log(arr.concat(arr2));</span><br></pre></td></tr></table></figure>

<h5 id="11）数组的截取"><a href="#11）数组的截取" class="headerlink" title="11）数组的截取"></a>11）数组的截取</h5><p>slice():返回截取的内容</p>
<p>1)slice的截取时，包含开始位置，不包含截取位置；</p>
<p>2)arr.slice(start,end);&#x2F;&#x2F;从开始start位置截取到end位置，不包含结束位置</p>
<p>3)arr.slice(start);&#x2F;&#x2F;从开始位置一直截取最后</p>
<p>4)arr.slice();&#x2F;&#x2F;不传参：表示，截取整个数组；</p>
<p>5)slice();支持负值；</p>
<p>6)slice()不会改变原数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">传两个参数：</span><br><span class="line">var color = [&#x27;pink&#x27;,&#x27;red&#x27;,&#x27;yellow&#x27;,&#x27;blue&#x27;,&#x27;green&#x27;];</span><br><span class="line">console.log(color.slice(1,3))//从下标1开始截取到下标3，不包含下标3</span><br><span class="line">传一个参数</span><br><span class="line">var color = [&#x27;pink&#x27;,&#x27;red&#x27;,&#x27;yellow&#x27;,&#x27;blue&#x27;,&#x27;green&#x27;];</span><br><span class="line">var a = color.slice(1);//参数1表示从下标1开始一直截取到最后</span><br><span class="line">不传参</span><br><span class="line">var color = [&#x27;pink&#x27;,&#x27;red&#x27;,&#x27;yellow&#x27;,&#x27;blue&#x27;,&#x27;green&#x27;];</span><br><span class="line">var b = color.slice();//不传参，表示全部截取，将截取结果赋值给b</span><br><span class="line">参数为负值</span><br><span class="line">var color = [&#x27;pink&#x27;,&#x27;red&#x27;,&#x27;yellow&#x27;,&#x27;blue&#x27;,&#x27;green&#x27;];</span><br><span class="line">var c = color.slice(-3,4);//坐标= 负值+数组长度 -3+5 = 2(2,4)</span><br></pre></td></tr></table></figure>

<h5 id="12）数组索引"><a href="#12）数组索引" class="headerlink" title="12）数组索引"></a>12）数组索引</h5><p>indexOf():从数组前向后中搜索指定的值并返回第一个找到的元素的索引，如果没找到则返回-1.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var color = [&#x27;pink&#x27;,&#x27;red&#x27;,&#x27;yellow&#x27;,&#x27;blue&#x27;,&#x27;green&#x27;];</span><br><span class="line">console.log(color.indexOf(&#x27;red&#x27;))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>lastIndexOf():从数组后向前中搜索指定的值并返回第一个找到的元素的索引，如果没找到则返回-1.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var color = [&#x27;pink&#x27;,&#x27;red&#x27;,&#x27;yellow&#x27;,&#x27;blue&#x27;,&#x27;green&#x27;];</span><br><span class="line">console.log(color.lastIndexOf(&#x27;red&#x27;))</span><br></pre></td></tr></table></figure>

<h5 id="13）数组转字符串"><a href="#13）数组转字符串" class="headerlink" title="13）数组转字符串"></a>13）数组转字符串</h5><p>join():将数组的每一项通过连接符，拼接为一个新字符串；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var color = [&#x27;pink&#x27;,&#x27;red&#x27;,&#x27;yellow&#x27;,&#x27;blue&#x27;,&#x27;green&#x27;];</span><br><span class="line">console.log(color.join(&#x27;,&#x27;))</span><br></pre></td></tr></table></figure>

<h5 id="14）课堂练习"><a href="#14）课堂练习" class="headerlink" title="14）课堂练习"></a>14）课堂练习</h5><p>完成下面3个数组去重方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战一，一维数组</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> unique = <span class="keyword">function</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="comment">// 待实现方法体</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr)); <span class="comment">// [2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战二，二维数组</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],<span class="number">3</span>,<span class="number">5</span>,[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>],<span class="number">4</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> unique = <span class="keyword">function</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="comment">// 待实现方法体</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr)); <span class="comment">// [2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 挑战三，三维数组或 n 维数组</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,[<span class="number">2</span>,<span class="number">3</span>,[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>],<span class="number">5</span>],<span class="number">3</span>,<span class="number">5</span>,[<span class="number">2</span>,<span class="number">3</span>,[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>],<span class="number">2</span>],<span class="number">4</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> unique = <span class="keyword">function</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="comment">// 待实现方法体</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr)); <span class="comment">// [2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>函数是一个代码块，定义之后，可以被执行或调用任意多次。Js函数是参数化的，即函数定义可以包含一组标识符，称为参数或形参。</p>
<h5 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a>定义函数</h5><p>在Js中定义函数最直观的方式就是使用function关键字，这个关键字可以用作声明或表达式。</p>
<ul>
<li><p>命名函数的标识符</p>
</li>
<li><p>一对圆括号，中间包含逗号分隔的零或多个标识符。</p>
</li>
<li><p>一对花括号，其中包含零或多个Js语句。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function 函数名(参数,参数2,......)&#123;</span><br><span class="line">	表达式</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p> 例如，这段代码定义了<code>square</code>，来引用一个函数，它产生给定数字的平方：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const square = function(x) &#123;</span><br><span class="line">  return x * x;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">console.log(square(12));</span><br><span class="line">// → 144</span><br></pre></td></tr></table></figure>

<h5 id="变量和作用域"><a href="#变量和作用域" class="headerlink" title="变量和作用域"></a>变量和作用域</h5><p>每个变量都有一个作用域，它是程序的一部分，其中变量是可见的。 对于在任何函数或块之外定义的变量，作用域是整个程</p>
<p>序 - 您可以在任何地方引用这种变量。它们被称为全局的。</p>
<p>但是为函数参数创建的，或在函数内部声明的变量，只能在该函数中引用，所以它们被称为局部变量。 每次调用该函数时，</p>
<p>都会创建这些变量的新实例。 这提供了函数之间的一些隔离 - 每个函数调用，都在它自己的小世界（它的局部环境）中运</p>
<p>行，并且通常可以在不知道全局环境中发生的事情的情况下理解。</p>
<p>用<code>let</code>和<code>const</code>声明的变量，实际上是它们的声明所在的块的局部对象，所以如果你在循环中创建了一个，那么循环之前和之</p>
<p>后的代码就不能“看见”它。JavaScript 2015 之前，只有函数创建新的作用域，因此，使用<code>var</code>关键字创建的旧式变量，在它们</p>
<p>出现的整个函数中内都可见，或者如果它们不在函数中，在全局作用域可见。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> y = <span class="number">20</span>;</span><br><span class="line">  <span class="keyword">var</span> z = <span class="number">30</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(x + y + z);</span><br><span class="line">  <span class="comment">// → 60</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// y is not visible here</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x + z);</span><br><span class="line"><span class="comment">// → 40</span></span><br></pre></td></tr></table></figure>

<p>每个作用域都可以“向外查看”它周围的作用域，所以示例中的块内可以看到<code>x</code>。 当多个变量具有相同名称时例外 - 在这种情况</p>
<p>下，代码只能看到最内层的那个。 例如，当<code>halve</code>函数中的代码引用<code>n</code>时，它看到它自己的<code>n</code>，而不是全局的<code>n</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> halve = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> n / <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> n = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">halve</span>(<span class="number">100</span>));</span><br><span class="line"><span class="comment">// → 50</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(n);</span><br><span class="line"><span class="comment">// → 10</span></span><br></pre></td></tr></table></figure>

<h5 id="嵌套作用域"><a href="#嵌套作用域" class="headerlink" title="嵌套作用域"></a>嵌套作用域</h5><p>JavaScript 不仅区分全局和局部变量。 块和函数可以在其他块和函数内部创建，产生多层局部环境。</p>
<p>例如，这个函数的内部有另一个函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hummus = <span class="keyword">function</span>(<span class="params">factor</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> ingredient = <span class="keyword">function</span>(<span class="params">amount, unit, name</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ingredientAmount = amount * factor;</span><br><span class="line">    <span class="keyword">if</span> (ingredientAmount &gt; <span class="number">1</span>) &#123;</span><br><span class="line">      unit += <span class="string">&quot;s&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;ingredientAmount&#125;</span> <span class="subst">$&#123;unit&#125;</span> <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="title function_">ingredient</span>(<span class="number">1</span>, <span class="string">&quot;can&quot;</span>, <span class="string">&quot;chickpeas&quot;</span>);</span><br><span class="line">  <span class="title function_">ingredient</span>(<span class="number">0.25</span>, <span class="string">&quot;cup&quot;</span>, <span class="string">&quot;tahini&quot;</span>);</span><br><span class="line">  <span class="title function_">ingredient</span>(<span class="number">0.25</span>, <span class="string">&quot;cup&quot;</span>, <span class="string">&quot;lemon juice&quot;</span>);</span><br><span class="line">  <span class="title function_">ingredient</span>(<span class="number">1</span>, <span class="string">&quot;clove&quot;</span>, <span class="string">&quot;garlic&quot;</span>);</span><br><span class="line">  <span class="title function_">ingredient</span>(<span class="number">2</span>, <span class="string">&quot;tablespoon&quot;</span>, <span class="string">&quot;olive oil&quot;</span>);</span><br><span class="line">  <span class="title function_">ingredient</span>(<span class="number">0.5</span>, <span class="string">&quot;teaspoon&quot;</span>, <span class="string">&quot;cumin&quot;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>ingredient</code>函数中的代码，可以从外部函数中看到<code>factor</code>变量。 但是它的局部变量，比如<code>unit</code>或<code>ingredientAmount</code>，在外层</p>
<p>函数中是不可见的。</p>
<p>简而言之，每个局部作用域也可以看到所有包含它的局部作用域。 块内可见的变量集，由这个块在程序文本中的位置决定。 </p>
<p>每个局部作用域也可以看到包含它的所有局部作用域，并且所有作用域都可以看到全局作用域。 这种变量可见性方法称为词法作用域。</p>
<h5 id="作为值的函数"><a href="#作为值的函数" class="headerlink" title="作为值的函数"></a>作为值的函数</h5><p>函数变量通常只充当程序特定部分的名称。 这样的变量被定义一次，永远不会改变。 这使得容易混淆函数和名称。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> launchMissiles = <span class="keyword">function</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  missileSystem.<span class="title function_">launch</span>(<span class="string">&quot;now&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">if</span> (safeMode) &#123;</span><br><span class="line">  launchMissiles = <span class="keyword">function</span>(<span class="params"></span>) &#123;<span class="comment">/* do nothing */</span>&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h5><p>箭头函数的一般形式是圆括号中逗号分隔的参数列表，后跟箭头&#x3D;&gt;，再跟包含在花括号中的函数体：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const sum = (x,y) =&gt;&#123;return x+y&#125;</span><br></pre></td></tr></table></figure>

<h5 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h5><p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function add(参数,参数2....)&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">调用方法：</span><br><span class="line">add(参数,参数2....)</span><br></pre></td></tr></table></figure>

<p>对象中方法调用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let calculator = &#123;</span><br><span class="line">	operand1 : 1,</span><br><span class="line">	operand2 : 2,</span><br><span class="line">	add()&#123;</span><br><span class="line">		this.result = this.operand1 + this.operand2</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">calculator.add();</span><br></pre></td></tr></table></figure>

<p>this关键字不具有变量那样的作用域机制，除了箭头函数，嵌套函数不会继承包含函数的this值。如果嵌套函数被当做方法来调用，那它的this值就是调用它的对象。</p>
<h5 id="可选参数与默认值"><a href="#可选参数与默认值" class="headerlink" title="可选参数与默认值"></a>可选参数与默认值</h5><p>当调用函数时传入的实参少于声明的形参时，额外的形参会获得默认值，通常是undefined.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//把对象o的可枚举属性名放到数组a中，返回a</span><br><span class="line">//如果不传a,则创建一个新数组</span><br><span class="line">function getPropertyNames(o,a)&#123;</span><br><span class="line">	if(a === undefined)&#123;</span><br><span class="line">		a = [];</span><br><span class="line">	&#125;</span><br><span class="line">	for(let property in o)&#123;</span><br><span class="line">		a.push(property)</span><br><span class="line">	&#125;</span><br><span class="line">	return a;</span><br><span class="line">&#125;</span><br><span class="line">let o = &#123;x:1&#125;,p=&#123;y:2,z:3&#125;</span><br><span class="line">let a = getPropertyNames(o);</span><br><span class="line">getPropertyNames(p,a);</span><br></pre></td></tr></table></figure>

<p>现在可以直接在函数形参列表中为每个参数定义默认值。语法是形参名后面加上等于号和默认值，这样在没有给该形参传值时就会使用这个默认值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function getPropertyNames(o ,a = [])&#123;</span><br><span class="line">	for(let property in o)&#123;</span><br><span class="line">		a.push(property)</span><br><span class="line">	&#125;</span><br><span class="line">	return a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h5><p>闭包（closure）就是能够读取其他函数内部变量的函数。</p>
<p>由于在Javascript语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成”定义在一个函数内部的函数”。</p>
<p>所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。</p>
<h6 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h6><p>要理解闭包，首先必须理解Javascript特殊的变量作用域。</p>
<p>变量的作用域无非就是两种：全局变量和局部变量。</p>
<p>Javascript语言的特殊之处，就在于函数内部可以直接读取全局变量。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var n=999;</span><br><span class="line">function f1()&#123;</span><br><span class="line">	alert(n);</span><br><span class="line">&#125;</span><br><span class="line">f1(); // 999</span><br></pre></td></tr></table></figure>

<p>另一方面，在函数外部自然无法读取函数内的局部变量。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function f1()&#123;</span><br><span class="line">	var n=999;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(n); // error</span><br></pre></td></tr></table></figure>

<p>这里有一个地方需要注意，函数内部声明变量的时候，一定要使用var命令。如果不用的话，你实际上声明了一个全局变量！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function f1()&#123;</span><br><span class="line">	n=999;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f1();</span><br><span class="line"></span><br><span class="line">alert(n); // 999</span><br></pre></td></tr></table></figure>

<h6 id="如何从外部获取内部变量"><a href="#如何从外部获取内部变量" class="headerlink" title="如何从外部获取内部变量"></a>如何从外部获取内部变量</h6><p>出于种种原因，我们有时候需要得到函数内的局部变量。但是，前面已经说过了，正常情况下，这是办不到的，只有通过变通方法才能实现。</p>
<p>那就是在函数的内部，再定义一个函数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function f1()&#123;</span><br><span class="line">    var n=999;</span><br><span class="line"></span><br><span class="line">    function f2()&#123;</span><br><span class="line">        alert(n); // 999</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上面的代码中，函数f2就被包括在函数f1内部，这时f1内部的所有局部变量，对f2都是可见的。但是反过来就不行，f2内部</p>
<p>的局部变量，对f1就是不可见的。这就是Javascript语言特有的”链式作用域”结构（chain scope），子对象会一级一级地向上寻</p>
<p>找所有父对象的变量。所以，父对象的所有变量，对子对象都是可见的，反之则不成立。</p>
<p>既然f2可以读取f1中的局部变量，那么只要把f2作为返回值，我们不就可以在f1外部读取它的内部变量了吗！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function f1()&#123;</span><br><span class="line"></span><br><span class="line">    var n=999;</span><br><span class="line"></span><br><span class="line">    function f2()&#123;</span><br><span class="line">    alert(n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return f2;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var result=f1();</span><br><span class="line"></span><br><span class="line">result(); // 999</span><br></pre></td></tr></table></figure>

<h6 id="闭包的用途"><a href="#闭包的用途" class="headerlink" title="闭包的用途"></a>闭包的用途</h6><p>闭包可以用在许多地方。它的最大用处有两个，一个是前面提到的可以读取函数内部的变量，另一个就是让这些变量的值始</p>
<p>终保持在内存中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function f1()&#123;</span><br><span class="line"></span><br><span class="line">　　　　var n=999;</span><br><span class="line"></span><br><span class="line">　　　　nAdd=function()&#123;n+=1&#125;</span><br><span class="line"></span><br><span class="line">　　　　function f2()&#123;</span><br><span class="line">　　　　　　alert(n);</span><br><span class="line">　　　　&#125;</span><br><span class="line"></span><br><span class="line">　　　　return f2;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var result=f1();</span><br><span class="line"></span><br><span class="line">result(); // 999</span><br><span class="line"></span><br><span class="line">nAdd();</span><br><span class="line"></span><br><span class="line">result(); // 1000</span><br></pre></td></tr></table></figure>

<p>在这段代码中，result实际上就是闭包f2函数。它一共运行了两次，第一次的值是999，第二次的值是1000。这证明了，函数f1</p>
<p>中的局部变量n一直保存在内存中，并没有在f1调用后被自动清除。</p>
<p>为什么会这样呢？原因就在于f1是f2的父函数，而f2被赋给了一个全局变量，这导致f2始终在内存中，而f2的存在依赖于f1，</p>
<p>因此f1也始终在内存中，不会在调用结束后，被垃圾回收机制（garbage collection）回收。</p>
<p>这段代码中另一个值得注意的地方，就是”nAdd&#x3D;function(){n+&#x3D;1}”这一行，首先在nAdd前面没有使用var关键字，因此nAdd是</p>
<p>一个全局变量，而不是局部变量。其次，nAdd的值是一个匿名函数（anonymous function），而这个匿名函数本身也是一个闭</p>
<p>包，所以nAdd相当于是一个setter，可以在函数外部对函数内部的局部变量进行操作。</p>
<h5 id="立即执行函数"><a href="#立即执行函数" class="headerlink" title="立即执行函数"></a>立即执行函数</h5><p>立即执行函数通常有下面两种写法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//第一种写法</span><br><span class="line">(function()&#123; </span><br><span class="line">   ...</span><br><span class="line">&#125;)();</span><br><span class="line">//第二种写法</span><br><span class="line">(function()&#123; </span><br><span class="line">    ...</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>

<p>立即执行函数的作用</p>
<p>立即执行函数只有一个作用：创建一个独立的作用域。这个作用域里面的变量，外面访问不到（即避免了「变量污染」）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var liList = ul.getElementsByTagName(&#x27;li&#x27;)</span><br><span class="line">    for(var i=0; i&lt;6; i++)&#123;</span><br><span class="line">    liList[i].onclick = function()&#123;</span><br><span class="line">    	alert(i) // 为什么 alert 出来的总是 6，而不是 0、1、2、3、4、5</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因为输出的 i 是全局作用域的，当循环结束后 i 的值是 6，所以输出的 i 就是6。</p>
<p>用立即执行函数可以解决这个问题。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var liList = document.getElementsByTagName(&#x27;li&#x27;);</span><br><span class="line">for(var i=0; i&lt;6; i++)&#123;</span><br><span class="line">   (function(j)&#123;</span><br><span class="line">      liList[j].onclick = function()&#123;</span><br><span class="line">          alert(j) // 0、1、2、3、4、5</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因为 JS 中调用函数传递参数都是值传递 ，所以当立即执行函数执行时，首先会把参数 i 的值复制一份，然后再创建函数作用</p>
<p>域来执行函数，循环5次就会创建5个作用域，所以每个 li 元素访问的都是不同作用域的 i 的值 。</p>
<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><h5 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h5><p>Document Object Model  文档对象模型</p>
<p>DOM包含了所有HTML元素的属性和方法，以及访问操作他们的方式；</p>
<h5 id="认识dom树和dom节点"><a href="#认识dom树和dom节点" class="headerlink" title="认识dom树和dom节点"></a>认识dom树和dom节点</h5><p>什么是Dom操作？</p>
<ul>
<li><p>DOM是一个使程序和脚本有能力动态地访问和更新文档的内容、结构以及样式的平台和语言中立的接口</p>
</li>
<li><p>在HTML和JavaScript的学习中，DOM操作可谓时重中之重</p>
</li>
</ul>
<h5 id="Dom树"><a href="#Dom树" class="headerlink" title="Dom树"></a>Dom树</h5><p><img src="/.%5Cimg%5C18.png" alt="18"></p>
<h5 id="DOM节点的分类："><a href="#DOM节点的分类：" class="headerlink" title="DOM节点的分类："></a>DOM节点的分类：</h5><p>DOM节点分为三大类：元素（标签）节点、属性节点、文本节点；</p>
<h5 id="节点之间的关系："><a href="#节点之间的关系：" class="headerlink" title="节点之间的关系："></a>节点之间的关系：</h5><p>由DOM树我们可以看到，文本节点、属性节点属于元素节点的子节点</p>
<p>在操作元素节点和文本节点前，一定要先获取到元素节点。</p>
<h5 id="访问节点"><a href="#访问节点" class="headerlink" title="访问节点"></a>访问节点</h5><h6 id="通过ID名查找dom元素"><a href="#通过ID名查找dom元素" class="headerlink" title="通过ID名查找dom元素"></a>通过ID名查找dom元素</h6><p>语法：document.getElementById(“id名”)</p>
<p>功能：找页面中对应id名的元素；</p>
<p>返回值：dom元素</p>
<p>返回值类型：object;</p>
<p>说明：getELementById()前面必须的document对象（即文档对象）如果页面中没有这个id元素，返回null;</p>
<p><img src="/.%5Cimg%5C19.png" alt="19"></p>
<h6 id="通过标签名找元素"><a href="#通过标签名找元素" class="headerlink" title="通过标签名找元素"></a>通过标签名找元素</h6><p>语法1：document.getElementsByTagName(“标签名”)</p>
<p>功能：获取页面中所有指定标签；</p>
<p>返回值：返回一个类数组（即一个集合）；换句话说，就是将页面中所有的指定标签放在一个方括号的集合里面。</p>
<p><img src="/.%5Cimg%5C20.png" alt="20"></p>
<p>获取具体的某个元素；</p>
<p><img src="/.%5Cimg%5C21.png" alt="21"></p>
<h6 id="通过name属性找元素"><a href="#通过name属性找元素" class="headerlink" title="通过name属性找元素"></a>通过name属性找元素</h6><p>document.getElementByName: 方法可返回带有指定名称的对象的集合</p>
<p><img src="/.%5Cimg%5C32.png" alt="32"></p>
<h6 id="通过指定的类名获取元素"><a href="#通过指定的类名获取元素" class="headerlink" title="通过指定的类名获取元素"></a>通过指定的类名获取元素</h6><p>语法：document.getElementsByClassName()</p>
<p>功能：返回文档中所有指定类名的元素集合，作为 NodeList 对象。</p>
<p>HTML 5 为 document 对象和 HTML 元素新增了 getElementsByClassName() 方法，使用该方法可以选择指定类名的元素。</p>
<p>getElementsByClassName() 方法可以接收一个字符串参数，包含一个或多个类名，类名通过空格分隔，不分先后顺序，方法返</p>
<p>回带有指定类的所有元素 NodeList。</p>
<p>浏览器支持状态：IE 9+、Firefox 3.0+、Safari 3+、Chrome 和 Opera 9.5+。</p>
<p>如果不考虑兼容早期 IE 浏览器或者怪异模式，用户可以放心使用。 </p>
<p>示例1</p>
<p>下面示例使用 getElementsByClassName(“red”) 方法选择文档中所有包含 red 类的元素。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;red&quot;&gt;红盒子&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;blue red&quot;&gt;蓝盒子&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;green red&quot;&gt;绿盒子&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var divs = document.getElementsByClassName(&quot;red&quot;);</span><br><span class="line">    for (var i = 0; i &lt; divs.length; i ++) &#123;</span><br><span class="line">        console.log(divs[i].innerHTML);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>示例2</p>
<p>下面示例使用 document.getElementById(“box”) 方法先获取 <div  id="box">，然后在它下面使用 getElementsByClassName(“blue red”) 选择同时包含 red 和  blue 类的元素。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;box&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;blue red green&quot;&gt;blue red green&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;blue red black&quot;&gt;blue red black&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var divs = document.getElementById(&quot;box&quot;).getElementsByClassName(&quot;blue red&quot;);</span><br><span class="line">    for (var i = 0; i &lt; divs.length; i ++) &#123;</span><br><span class="line">        console.log(divs[i].innerHTML);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>在 document 对象上调用 getElementsByClassName() 会返回与类名匹配的所有元素，在元素上调用该方法就只会返回后代元素中匹配的元素。</p>
<h6 id="通过样式查找单个元素"><a href="#通过样式查找单个元素" class="headerlink" title="通过样式查找单个元素"></a>通过样式查找单个元素</h6><p>语法：元素.querySelector(“css选择器”);</p>
<p>功能：返回文档中匹配指定 CSS 选择器的一个元素</p>
<p>返回值：DOM对象</p>
<p>传递一个标签选择器</p>
<p><img src="/.%5Cimg%5C33.png" alt="33"></p>
<p>传递一个类选择器</p>
<p><img src="/.%5Cimg%5C34.png" alt="34"></p>
<p>传递一个交集选择器</p>
<p><img src="/.%5Cimg%5C35.png" alt="35"></p>
<p>获取文档中有 “target” 属性的第一个 <a> 元素</p>
<p><img src="/.%5Cimg%5C36.png" alt="36"></p>
<p>并集选择器</p>
<p><img src="/.%5Cimg%5C37.png" alt="37"></p>
<h6 id="通过样式获取所有元素"><a href="#通过样式获取所有元素" class="headerlink" title="通过样式获取所有元素"></a>通过样式获取所有元素</h6><p>语法：元素.querySelectorAll(“css选择器”);语法：元素.querySelectorAll(“css选择器”);</p>
<p>功能：该方法和document.querySelector()用法类似，不同的是它会将符合条件的元素封装到一个数组中返回。即使符合条件的</p>
<p>元素只有一个，它也会返回数组.</p>
<p>返回值：类数组</p>
<p><img src="/.%5Cimg%5C38.png" alt="38"></p>
<h5 id="Document类型"><a href="#Document类型" class="headerlink" title="Document类型"></a>Document类型</h5><p>JavaScript 通过 Document 类型表示文档。在浏览器中，<code>document</code> 对象是 <code>HTMLDocument</code>（继承自 Document 类型）的一个实例，表示整个 HTML 页面。而且，<code>document</code> 对象是 <code>window</code> 对象的一个属性，因此可以将其作为全局对象来访问。<code>Document</code> 节点具有下列特征：</p>
<ul>
<li><code>nodeType</code> 的值为9；</li>
<li><code>nodeName</code> 的值为 <code>&quot;#document&quot;</code>；</li>
<li><code>nodeValue</code> 的值为 <code>null</code>；</li>
<li><code>parentNode</code> 的值为 <code>null</code>；</li>
<li><code>ownerDocument</code> 的值为 <code>null</code>；</li>
<li>其子节点可能是一个 <code>DocumentType</code>（最多一个）、<code>Element</code>（最多一个）、<code>ProcessingInstruction</code> 或 <code>Comment</code>。</li>
</ul>
<p><code>Document</code> 类型可以表示 HTML 页面或者其他基于 XML 的文档。不过，最常见的应用还是作为 <code>HTMLDocument</code> 实例的 <code>document</code> 对象。通过这个文档对象，不仅可以取得与页面有关的信息，而且还能操作页面的外观及其底层结构。</p>
<h6 id="文档的子节点"><a href="#文档的子节点" class="headerlink" title="文档的子节点"></a>文档的子节点</h6><p>虽然 DOM 标准规定 <code>Document</code> 节点的子节点可以是<code>DocumentType</code>、<code>Element</code>、<code>ProcessingInstruction</code> 或 <code>Comment</code>，但还有两个内置的访问其子节点的快捷方式。第一个就是<code>documentElement</code> 属性，该属性始终指向 HTML 页面中的 <code>html</code> 元素。另一个就是通过 <code>childNodes</code> 列表访问文档元素，但通过 <code>documentElement</code> 属性则能更快捷、更直接地访问该元素。以下面这个简单的页面为例。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这个页面在经过浏览器解析后，其文档中只包含一个子节点，即 <code>html</code> 元素。可以通过 <code>documentElement</code> 或 <code>childNodes</code> 列表来访问这个元素，如下所示。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> html = <span class="variable language_">document</span>.<span class="property">documentElement</span>;      <span class="comment">// 取得对&lt;html&gt;的引用</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(html === <span class="variable language_">document</span>.<span class="property">childNodes</span>[<span class="number">0</span>]);   <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(html === <span class="variable language_">document</span>.<span class="property">firstChild</span>);      <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>这个例子说明，<code>documentElement</code>、<code>firstChild</code> 和 <code>childNodes[0]</code> 的值相同，都指向 <code>&lt;html&gt;</code> 元素。</p>
<p>作为 <code>HTMLDocument</code> 的实例，<code>document</code> 对象还有一个 <code>body</code> 属性，直接指向 <code>&lt;body&gt;</code> 元素。因为开发人员经常要使用这个元素，所以 <code>document.body</code> 在 JavaScript 代码中出现的频率非常高，其用法如下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> body = <span class="variable language_">document</span>.<span class="property">body</span>;    <span class="comment">// 取得对&lt;body&gt;的引用</span></span><br></pre></td></tr></table></figure>

<p>所有浏览器都支持 <code>document.documentElement</code> 和 <code>document.body</code> 属性。</p>
<p><code>Document</code> 另一个可能的子节点是 <code>DocumentType</code>。通常将 <code>&lt;!DOCTYPE&gt;</code> 标签看成一个与文档其他部分不同的实体，可以通过 <code>doctype</code> 属性（在浏览器中是 <code>document.doctype</code> ）来访问它的信息。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> doctype = <span class="variable language_">document</span>.<span class="property">doctype</span>;     <span class="comment">// 取得对&lt;!DOCTYPE&gt;的引用</span></span><br></pre></td></tr></table></figure>

<p>浏览器对 <code>document.doctype</code> 的支持差别很大，可以给出如下总结。</p>
<ul>
<li>IE8 及之前版本：如果存在文档类型声明，会将其错误地解释为一个注释并把它当作 <code>Comment</code> 节点；而 <code>document.doctype</code> 的值始终为 <code>null</code>。</li>
<li>IE9+ 及 Firefox：如果存在文档类型声明，则将其作为文档的第一个子节点；<code>document.doctype</code> 是一个 <code>DocumentType</code> 节点，也可以通过 <code>document.firstChild</code> 或 <code>document.childNodes[0]</code> 访问同一个节点。</li>
<li>Safari、Chrome 和 Opera：如果存在文档类型声明，则将其解析，但不作为文档的子节点。<code>document.doctype</code> 是一个 <code>DocumentType</code> 节点，但该节点不会出现在 <code>document.childNodes</code> 中。</li>
</ul>
<p>由于浏览器对 <code>document.doctype</code> 的支持不一致，因此这个属性的用处很有限。</p>
<h6 id="文档信息"><a href="#文档信息" class="headerlink" title="文档信息"></a>文档信息</h6><p>作为 <code>HTMLDocument</code> 的一个实例，<code>document</code> 对象还有一些标准的 <code>Document</code> 对象所没有的属性。这些属性提供了 <code>document</code> 对象所表现的网页的一些信息。其中第一个属性就是 <code>title</code>，包含着 <code>&lt;title&gt;</code> 元素中的文本——显示在浏览器窗口的标题栏或标签页上。通过这个属性可以取得当前页面的标题，也可以修改当前页面的标题并反映在浏览器的标题栏中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 取得文档标题</span></span><br><span class="line"><span class="keyword">var</span> originalTitle = <span class="variable language_">document</span>.<span class="property">title</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置文档标题</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&quot;New page title&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>接下来要介绍的3个属性都与对网页的请求有关，它们是 <code>URL</code>、<code>domain</code> 和 <code>referrer</code>。<code>URL</code> 属性中包含页面完整的 URL（即地址栏中显示的URL），<code>domain</code> 属性中只包含页面的域名，而 <code>referrer</code> 属性中则保存着链接到当前页面的那个页面的 URL。在没有来源页面的情况下，<code>referrer</code> 属性中可能会包含空字符串。所有这些信息都存在于请求的 HTTP 头部，只不过是通过这些属性让我们能够在 JavaScrip 中访问它们而已，如下面的例子所示。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 取得完整的URL</span></span><br><span class="line"><span class="keyword">var</span> url = <span class="variable language_">document</span>.<span class="property">URL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取得域名</span></span><br><span class="line"><span class="keyword">var</span> domain = <span class="variable language_">document</span>.<span class="property">domain</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取得来源页面的URL</span></span><br><span class="line"><span class="keyword">var</span> referrer = <span class="variable language_">document</span>.<span class="property">referrer</span>;</span><br></pre></td></tr></table></figure>

<h6 id="更改节点内容"><a href="#更改节点内容" class="headerlink" title="更改节点内容"></a>更改节点内容</h6><p><img src="/.%5Cimg%5C22.png" alt="22"></p>
<p>获取元素的内容</p>
<p>语法：元素.innerHTML;</p>
<p>说明：获取到的内容都是string 类型；</p>
<p><img src="/.%5Cimg%5C23.png" alt="23"></p>
<p>修改设置元素的内容</p>
<p>语法：元素.innerHTML &#x3D; ‘内容’</p>
<p><img src="/.%5Cimg%5C24.png" alt="24"></p>
<p><img src="/.%5Cimg%5C25.png" alt="25"></p>
<h6 id="元素的行内样式"><a href="#元素的行内样式" class="headerlink" title="元素的行内样式"></a>元素的行内样式</h6><p>获取元素的行内样式  style</p>
<p><img src="/.%5Cimg%5C26.png" alt="26"></p>
<p>语法：元素.style.css属性；</p>
<p>注意：复合属性需要转驼峰；</p>
<p><img src="/.%5Cimg%5C27.png" alt="27"></p>
<h6 id="设置元素的行内样式"><a href="#设置元素的行内样式" class="headerlink" title="设置元素的行内样式"></a>设置元素的行内样式</h6><p>语法：元素.style.css属性 &#x3D; 属性值；</p>
<p><img src="/.%5Cimg%5C28.png" alt="28"></p>
<h6 id="获取元素的html属性"><a href="#获取元素的html属性" class="headerlink" title="获取元素的html属性"></a>获取元素的html属性</h6><p>语法：元素.html属性</p>
<p>Eg: 元素.id  元素.src    元素.alt    元素.value  等；</p>
<p><img src="/.%5Cimg%5C29.png" alt="29"></p>
<h6 id="设置修改元素的html属性"><a href="#设置修改元素的html属性" class="headerlink" title="设置修改元素的html属性"></a>设置修改元素的html属性</h6><p>语法：元素.属性 &#x3D; 属性值；</p>
<p>初始</p>
<p><img src="/.%5Cimg%5C30.png" alt="30"></p>
<p>修改后</p>
<p><img src="/.%5Cimg%5C31.png" alt="31"></p>
<h5 id="Node-属性概述"><a href="#Node-属性概述" class="headerlink" title="Node 属性概述"></a>Node 属性概述</h5><p>Node 常用属性主要有以下10个，接下来我们会着重讲解部分属性。</p>
<ul>
<li><code>nodeType</code>：显示节点的类型</li>
<li><code>nodeName</code>：显示节点的名称</li>
<li><code>nodeValue</code>：显示节点的值</li>
<li><code>attributes</code>：获取一个属性节点</li>
<li><code>firstChild</code>：表示某一节点的第一个节点</li>
<li><code>lastChild</code>：表示某一节点的最后一个子节点</li>
<li><code>childNodes</code>：表示所在节点的所有子节点</li>
<li><code>parentNode</code>：表示所在节点的父节点</li>
<li><code>nextSibling</code>：紧挨着当前节点的下一个节点</li>
<li><code>previousSibling</code>：紧挨着当前节点的上一个节点</li>
</ul>
<h6 id="nodeName-和-nodeValue-属性"><a href="#nodeName-和-nodeValue-属性" class="headerlink" title="nodeName 和 nodeValue 属性"></a><code>nodeName</code> 和 <code>nodeValue</code> 属性</h6><p>要了解节点的具体信息，可以使用  <code>nodeName</code> 和 <code>nodeValue</code> 这两个属性。这两个属性的值完全取决于节点的类型。在使用这两个值以前，最好是像下面这样先检测一下节点的类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (someNode.<span class="property">nodeType</span> == <span class="number">1</span>)&#123;</span><br><span class="line">    value = someNode.<span class="property">nodeName</span>;    <span class="comment">// nodeName的值是元素的标签名</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，首先检查节点类型，看它是不是一个元素。如果是，则取得并保存 <code>nodeName</code> 的值。对于元素节点，<code>nodeName</code> 中保存的始终都是元素的标签名，而 <code>nodeValue</code> 的值则始终为 <code>null</code>。</p>
<p>属性节点的主要特征值：nodeType 等于 2、nodeName 等于属性的名称、nodeValue 等于属性的值、parentNode 等于 null，在 </p>
<p>HTML 中不包含子节点。属性节点继承于 Node 类型，包含以下 3 个专用属性。</p>
<p>name：表示属性名称，等效于 nodeName。</p>
<p>value：表示属性值，可读可写，等效于 nodeValue。</p>
<p>specified：如果属性值是在代码中设置的，则返回 true；如果为默认值，则返回 false。</p>
<h6 id="创建属性节点"><a href="#创建属性节点" class="headerlink" title="创建属性节点"></a>创建属性节点</h6><p>使用 document 对象的 createAttribute() 方法可以创建属性节点，具体用法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.createAttribute(name)</span><br></pre></td></tr></table></figure>

<p>参数 name 表示新创建的属性的名称。</p>
<p>示例1</p>
<p>下面示例创建一个属性节点，名称为 align，值为 center，然后为标签 <div id="box"> 设置属性 align，最后分别使用 3 种方法</p>
<p>读取属性 align 的值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;box&quot;&gt;document.createAttribute(name)&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var element = document.getElementById(&quot;box&quot;);</span><br><span class="line">    var attr = document.createAttribute(&quot;align&quot;);</span><br><span class="line">    attr.value = &quot;center&quot;;</span><br><span class="line">    element.setAttributeNode(attr);</span><br><span class="line">    console.log(element.attributes[&quot;align&quot;].value);  //&quot;center&quot;</span><br><span class="line">    console.log(element.getAttributeNode(&quot;align&quot;).value);  //&quot;center&quot;</span><br><span class="line">    console.log(element.getAttribute(&quot;align&quot;));  //&quot;center&quot;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>属性节点一般位于元素的头部标签中。元素的属性列表会随着元素信息预先加载，并被存储在关联数组中。例如，针对下面 </p>
<p>HTML 结构。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;div1&quot; class=&quot;style1&quot; lang=&quot;en&quot; title=&quot;div&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>当 DOM 加载后，表示 HTML div 元素的变量 divElement 就会自动生成一个关联集合，它以名值对形式检索这些属性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">divElement.attributes = &#123;</span><br><span class="line">    id : &quot;div1&quot;,</span><br><span class="line">    class : &quot;style1&quot;,</span><br><span class="line">    lang : &quot;en&quot;,</span><br><span class="line">    title : &quot;div&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在传统 DOM 中，常用点语法通过元素直接访问 HTML 属性，如 img.src、a.href 等，这种方式虽然不标准，但是获得了所有</p>
<p>浏览器的支持。</p>
<p>示例2</p>
<p>img 元素拥有 src 属性，所有图像对象都拥有一个 src 脚本属性，它与 HTML 的 src 特性关联在一起。下面两种用法都可以很</p>
<p>好地工作在不同浏览器中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;img id=&quot;img1&quot; src=&quot;&quot; /&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var img = document.getElementById(&quot;img1&quot;);</span><br><span class="line">    img.setAttribute(&quot;src&quot;, &quot;http://www.w3.org&quot;);  //HTML 属性</span><br><span class="line">    img.src = &quot;http://www.w3.org&quot;;  //JavaScript 属性</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>类似的还有 onclick、style 和 href 等。为了保证 <a target="_blank" rel="noopener" href="http://c.biancheng.net/java/">Java</a>Script 脚本在不同浏览器中都能很好地工作，建议采用标准用法，而且很</p>
<p>多 HTML 属性并没有被 JavaScript 映射，所以也就无法直接通过脚本属性进行读写。</p>
<h6 id="读取属性值"><a href="#读取属性值" class="headerlink" title="读取属性值"></a>读取属性值</h6><p>使用元素的 getAttribute() 方法可以读取指定属性的值。用法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getAttribute(name)</span><br></pre></td></tr></table></figure>

<p>参数 name 表示属性名称。</p>
<p>使用元素的 attributes 属性、getAttributeNode() 方法可以返回对应属性节点。</p>
<p>示例1</p>
<p>下面示例访问红色盒子和蓝色盒子，然后读取这些元素所包含的 id 属性值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;red&quot;&gt;红盒子&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;blue&quot;&gt;蓝盒子&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var red = document.getElementById(&quot;red&quot;);  //获取红色盒子</span><br><span class="line">    console.log(red.getAttribute(&quot;id&quot;));  //显示红色盒子的id属性值</span><br><span class="line">    var blue = document.getElementById(&quot;blue&quot;);  //获取蓝色盒子</span><br><span class="line">    console.log(blue.getAttribute(&quot;id&quot;));  //显示蓝色盒子的id属性值</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>示例2</p>
<p>HTML DOM 也支持使用点语法读取属性值，使用比较简便，也获得了所有浏览器的支持。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var red = document.getElementById(&quot;red&quot;);</span><br><span class="line">console.log(red.id);</span><br><span class="line">var blue = document.getElementById(&quot;blue&quot;);</span><br><span class="line">console.log(blue.id);</span><br></pre></td></tr></table></figure>

<p>对于 class 属性，则必须使用 className 属性名，因为 class 是 JavaScript 的保留字；对于 for  属性，则必须使用 htmlFor 属性</p>
<p>名，这与 CSS 脚本中 float 和 text 属性被改名为 cssFloat 和 cssText  是一个道理。</p>
<p>示例3</p>
<p>使用 className 读写样式类。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;label id=&quot;label1&quot; class=&quot;class1&quot; for=&quot;textfield&quot;&gt;文本框：</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;textfield&quot; id=&quot;textfield&quot; /&gt;</span><br><span class="line">&lt;/label&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var label = document.getElementById(&quot;label1&quot;);</span><br><span class="line">    console.log(label.className);</span><br><span class="line">    console.log(label.htmlFor);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>示例4</p>
<p>对于复合类样式，需要使用 split() 方法劈开返回的字符串，然后遍历读取类样式。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;red&quot; class=&quot;red blue&quot;&gt;红盒子&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    //所有类名生成的数组</span><br><span class="line">    var classNameArray = document.getElementById(&quot;red&quot;).className.split(&quot; &quot;);</span><br><span class="line">    for (var i in classNameArray) &#123;  //遍历数组</span><br><span class="line">        console.log(classNameArray[i]);  //当前class名</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h6 id="设置属性值"><a href="#设置属性值" class="headerlink" title="设置属性值"></a>设置属性值</h6><p>使用元素的 setAttribute() 方法可以设置元素的属性值。用法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setAttribute(name) </span><br></pre></td></tr></table></figure>

<p>参数 name 和 value 分别表示属性名称和属性值。属性名和属性值必须以字符串的形式进行传递。如果元素中存在指定的属</p>
<p>性，它的值将被刷新；如果不存在，则 setAttribute() 方法将为元素创建该属性并赋值。</p>
<p>示例1</p>
<p>下面示例分别为页面中 div 元素设置 title 属性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;red&quot;&gt;红盒子&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;blue&quot;&gt;蓝盒子&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var red = document.getElementById(&quot;red&quot;);  //获取红盒子的引用</span><br><span class="line">    var blue= document.getElementById(&quot;blue&quot;);  //获取蓝盒子的引用</span><br><span class="line">    red.setAttribute(&quot;title&quot;, &quot;这是红盒子&quot;);  //为红盒子对象设置title属性和值</span><br><span class="line">    blue.setAttribute(&quot;title&quot;, &quot;这是蓝盒子&quot;);  //为蓝盒子对象设置title属性和值</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>示例2</p>
<p>下面示例定义了一个文本节点和元素节点，并为一级标题元素设置 title 属性，最后把它们添加到文档结构中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var hello = document.createTextNode(&quot;Hello World!&quot;);  //创建一个文本节点</span><br><span class="line">var h1 = document.createElement(&quot;h1&quot;);  //创建一个一级标题</span><br><span class="line">h1.setAttribute(&quot;title&quot;, &quot;你好，欢迎光临！&quot;);  //为以及标题定义title 属性</span><br><span class="line">h1.appendChild(hello);  //把文本节点增加到一级标题中</span><br><span class="line">document.body.appendChild(h1);  //把一级标题增加到文档</span><br></pre></td></tr></table></figure>

<p>示例3</p>
<p>也可以使用快捷方法设置 HTML DOM 文档中元素的属性值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;label id=&quot;label1&quot;&gt;文本框：</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;textfield&quot; id=&quot;textfield&quot; /&gt;</span><br><span class="line">&lt;/label&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var label1 = document.getElementById(&quot;label1&quot;);</span><br><span class="line">    label.className = &quot;class1&quot;;</span><br><span class="line">    label.htmlFor = &quot;textfield&quot;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>DOM 支持使用 getAttribute() 和 setAttribute() 方法读写自定义属性，不过 IE 6.0 及其以下版本浏览器对其的支持不是很完善。</p>
<p>示例4</p>
<p>直接使用 className 添加类样式，会覆盖掉元素原来的类样式。这时可以采用叠加的方式添加类。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;red&quot;&gt;红盒子&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var red = document.getElementById(&quot;red&quot;);</span><br><span class="line">    red.className = &quot;red&quot;;</span><br><span class="line">    red.className += &quot;blue&quot;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>示例5</p>
<p>使用叠加的方式添加类也存在问题，这样容易添加大量重复的类。为此，定义一个检测函数，判断元素是否包含指定的类，</p>
<p>然后再决定是否添加类。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    function hasClass (element, className) &#123;  //检测类名函数</span><br><span class="line">        var reg = new RegExp(&#x27;(\\s|^)&#x27; + className + &#x27;(\\s|$)&#x27;);</span><br><span class="line">        return reg.test(element.className);  //使用正则检测是否有相同的样式</span><br><span class="line">    &#125;</span><br><span class="line">    function addClass (element, className) &#123;  //添加类名函数</span><br><span class="line">        if (! hasClass (element, className))</span><br><span class="line">            element.className += &#x27; &#x27; + className;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;div id=&quot;red&quot;&gt;红盒子&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var red = document.getElementById(&quot;red&quot;);</span><br><span class="line">    addClass(red, &#x27;red&#x27;);</span><br><span class="line">    addClass(red, &#x27;blue&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h6 id="删除属性"><a href="#删除属性" class="headerlink" title="删除属性"></a>删除属性</h6><p>使用元素的 removeAttribute() 方法可以删除指定的属性。用法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">removeAttribute(name)</span><br></pre></td></tr></table></figure>

<p>参数 name 表示元素的属性名。</p>
<p>示例1</p>
<p>下面示例演示了如何动态设置表格的边框</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    window.onload = function () &#123;  //绑定页面加载完毕时的事件处理函数</span><br><span class="line">        var table = document.getElementByTagName(&quot;table&quot;)[0];  //获取表格外框的引用</span><br><span class="line">        var del = document.getElementById(&quot;del&quot;);</span><br><span class="line">        var reset = document.getElementById(&quot;reset&quot;);</span><br><span class="line">        del.onclick = function () &#123;</span><br><span class="line">            table.removeAttribute(&quot;border&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        reset.onclick = function () &#123;</span><br><span class="line">            table.setAttribute(&quot;border&quot;, &quot;2&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;table width=&quot;100%&quot; border=&quot;2&quot;&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;数据表格&lt;/td&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;button id=&quot;del&quot;&gt;删除&lt;/button&gt;&lt;button id=&quot;reset&quot;&gt;恢复&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>在上面示例中设计了两个按钮，并分别绑定了不同的事件处理函数。单击“删除”按钮即可调用表格的 removeAttribute() 方法清</p>
<p>除表格边框，单击“恢复”按钮即可调用表格的 setAttribute() 方法重新设置表哥便可的粗细。</p>
<p>示例2</p>
<p>下面示例演示了如何自定义删除类函数，并调用该函数删除指定类名。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    function hasClass (element, className) &#123;  //类名检测函数</span><br><span class="line">        var reg = new RegExp (&#x27;(\\s|^)&#x27; + className + &#x27;(\\s|$)&#x27;);</span><br><span class="line">        return reg.test (element, className);  //使用正则检测是否有相同的样式</span><br><span class="line">    &#125;</span><br><span class="line">    function deleteClass (element, className) &#123;</span><br><span class="line">        if (hasClass (element, className)) &#123;</span><br><span class="line">            element.className.replace (reg, &#x27; &#x27;);  //捕获要删除样式，然后替换为空白字符串</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;div id=&quot;red&quot; class=&quot;red blue bold&quot;&gt;盒子&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var red = document.getElementById (&quot;red&quot;);</span><br><span class="line">    deleteClass (red, &#x27;blue&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>上面代码使用正则表达式检测 className 属性值字符串中是否包含指定的类名，如果存在，则使用空字符串替换掉匹配到的</p>
<p>子字符串，从而实现删除类名的目的。</p>
<h6 id="创建节点"><a href="#创建节点" class="headerlink" title="创建节点"></a>创建节点</h6><p>createElement() 方法创建新的元素节点。</p>
<p>document.createElement()是在对象中创建一个对象，要与appendChild()或insertBefore()方法联合使用。其中，appendChild()方</p>
<p>法在节点的子节点列表末添加新的子节点。insertBefore()方法在节点的子节点列表任意位置插入新的节点。</p>
<h6 id="添加节点"><a href="#添加节点" class="headerlink" title="添加节点"></a>添加节点</h6><p>appendChild() 方法向已存在的节点添加子节点。</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;board&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var board = document.getElementById(&quot;board&quot;);</span><br><span class="line">var e = document.createElement(&quot;input&quot;);</span><br><span class="line">e.type = &quot;button&quot;;</span><br><span class="line">e.value = &quot;这是测试加载的小例子&quot;;</span><br><span class="line">var object = board.appendChild(e);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    var board = document.getElementById(&quot;board&quot;);</span><br><span class="line">    var e2 = document.createElement(&quot;select&quot;);</span><br><span class="line">    e2.options[0] = new Option(&quot;加载项1&quot;, &quot;&quot;);</span><br><span class="line">    e2.options[1] = new Option(&quot;加载项2&quot;, &quot;&quot;);</span><br><span class="line">    e2.size = &quot;2&quot;;</span><br><span class="line">    var object = board.appendChild(e2);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>示例3：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    var board = document.getElementById(&quot;board&quot;);           </span><br><span class="line">    var e3 = document.createElement(&quot;input&quot;);</span><br><span class="line">    e4.setAttribute(&quot;type&quot;, &quot;text&quot;);</span><br><span class="line">    e4.setAttribute(&quot;name&quot;, &quot;q&quot;);</span><br><span class="line">    e4.setAttribute(&quot;value&quot;, &quot;使用setAttribute&quot;);</span><br><span class="line">    e4.setAttribute(&quot;onclick&quot;, &quot;javascript:alert(&#x27;This is a test!&#x27;);&quot;);           </span><br><span class="line">    var object = board.appendChild(e3);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h6 id="替换节点"><a href="#替换节点" class="headerlink" title="替换节点"></a>替换节点</h6><p>replaceChild() 方法可以将某个子节点替换为另一个。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nodeObject.replaceChild(new_node, old_node)</span><br></pre></td></tr></table></figure>

<p>其中参数 new_node 为指定新的节点，old_node 为被替换的节点。如果替换成功，则返回被替换的节点；如果替换失败，则返</p>
<p>回 null。</p>
<p>示例1：</p>
<p>以上示例为基础重写脚本，新建一个二级标题元素并替换掉红色盒子中的一级标题元素。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var ok = document.getElementById(&quot;ok&quot;);  //获取按钮元素的引用</span><br><span class="line">ok.onclick = function () &#123;  //为按钮注册一个鼠标单击事件处理函数</span><br><span class="line">    var red = document.getElementById(&quot;red&quot;);  //获取红色盒子的引用</span><br><span class="line">    var h1 = document.getElementsByTagName(&quot;h1&quot;)[0];  //获取一级标题的引用</span><br><span class="line">    var h2 = documeng.createElement(&quot;h2&quot;);  //创建二级标题元素并引用</span><br><span class="line">    red.replaceChild(h2, h1);  //把一级标题替换为二级标题</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<p>在下面示例中使用蓝盒子替换掉红盒子中包含的一级标题元素。此时可以看到，蓝盒子原来显示的位置已经被删除显示，同</p>
<p>时被替换元素 h1 也被删除。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var ok = document.getElementById(&quot;ok&quot;);  //获取按钮元素的引用</span><br><span class="line">ok.onclick = function () &#123;  //为按钮注册一个鼠标单击事件处理函数</span><br><span class="line">    var red = document.getElementById(&quot;red&quot;);  //获取红色盒子的引用</span><br><span class="line">    var blue= document.getElementById(&quot;blue&quot;);  //获取蓝色盒子的引用</span><br><span class="line">    var h1 = document.getElementsByTagName(&quot;h1&quot;)[0];  //获取一级标题的引用</span><br><span class="line">    red.replaceChild(blue, h1);  //把红盒子中包含的一级标题替换为蓝盒子</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例3：</p>
<p>replaceChild() 方法能够返回被替换掉的节点引用，因此还可以把被替换掉的元素给找回来，并增加到文档中的指定节点中。</p>
<p>针对上面示例，使用一个变量 del_h1 存储被替换掉的一级标题，然后再把它插入到红色盒子前面。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var ok = document.getElementById(&quot;ok&quot;);  //获取按钮元素的引用</span><br><span class="line">ok.onclick = function () &#123;  //为按钮注册一个鼠标单击事件处理函数</span><br><span class="line">    var red = document.getElementById(&quot;red&quot;);  //获取红色盒子的引用</span><br><span class="line">    var blue= document.getElementById(&quot;blue&quot;);  //获取蓝色盒子的引用</span><br><span class="line">    var h1 = document.getElementsByTagName(&quot;h1&quot;)[0];  //获取一级标题的引用</span><br><span class="line">    var del_h1 = red,replaceChild(blue, h1);  //把红盒子中包含的一级标题替换为蓝盒子</span><br><span class="line">    red.parentNode.insertBefore(del_h1, red);  //把替换掉的一级标题插入到红盒子前面</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="自定义属性"><a href="#自定义属性" class="headerlink" title="自定义属性"></a>自定义属性</h6><p>HTML 5 允许用户为元素自定义属性，但要求添加 data- 前缀，目的是为元素提供与渲染无关的附加信息，或者提供语义信</p>
<p>息。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;box&quot; data-myid=&quot;12345&quot; data-myname=&quot;zhangsan&quot; data-mypass=&quot;zhang123&quot;&gt;自定义数据属性&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>添加自定义属性之后，可以通过元素的 dataset 属性访问自定义属性。dataset 属性的值是一个 DOMStringMap  实例，也就是一</p>
<p>个名值对的映射。在这个映射中，每个 data-name 形式的属性都会有一个对应的属性，只不过属性名没有 data- 前缀。</p>
<p>浏览器支持状态：Firefox 6+ 和 Chrome。</p>
<p>示例</p>
<p>下面代码演示了如何自定义属性，以及如何读取这些附加信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var div = document.getElementById(&quot;box&quot;);</span><br><span class="line">//访问自定义属性值</span><br><span class="line">var id = div.dataset.myid;</span><br><span class="line">var name = div.dataset.myname;</span><br><span class="line">var pass = div.dataset.mypass;</span><br><span class="line">//重置自定义属性值</span><br><span class="line">div.dataset.myid = &quot;66666&quot;;</span><br><span class="line">div.dataset.myname = &quot;zhangsan&quot;;</span><br><span class="line">div.dataset.mypass = &quot;zhangsan666&quot;;</span><br><span class="line">//检测自定义属性</span><br><span class="line">if (div.dataset.myname) &#123;</span><br><span class="line">    console.log(div.dataset.myname);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>虽然上述用法未获得所有浏览器支持，但是我们仍然可以使用这种方式为元素添加自定义属性，然后使用 getAttribute() 方法</p>
<p>读取元素附加的信息。</p>
<h5 id="节点关系"><a href="#节点关系" class="headerlink" title="节点关系"></a>节点关系</h5><h6 id="识别空白文本"><a href="#识别空白文本" class="headerlink" title="识别空白文本"></a>识别空白文本</h6><p>元素.firstChild  第一个子节点</p>
<p><img src="/.%5Cimg%5C51.png" alt="51"></p>
<p>元素.lastChild  最后一个子节点</p>
<p><img src="/.%5Cimg%5C52.png" alt="52"></p>
<p>元素.childNodes  获取所有的子节点</p>
<p><img src="/.%5Cimg%5C53.png" alt="53"></p>
<p>元素.attributes  获取某个元素的所有属性节点</p>
<p><img src="/.%5Cimg%5C54.png" alt="54"></p>
<p>元素.nextSibling  获取下一个兄弟节点</p>
<p><img src="/.%5Cimg%5C55.png" alt="55"></p>
<p>元素.previousSibling  获取上一个兄弟节点</p>
<p><img src="/.%5Cimg%5C56.png" alt="56"></p>
<h6 id="不识别空白文本"><a href="#不识别空白文本" class="headerlink" title="不识别空白文本"></a>不识别空白文本</h6><p>元素.children 获取所有的元素子节点</p>
<p><img src="/.%5Cimg%5C57.png" alt="57"></p>
<p>元素.firstElementChild   获取第一个元素子节点</p>
<p><img src="/.%5Cimg%5C58.png" alt="58"></p>
<p>元素.lastElementChild   获取最后一个元素子节点</p>
<p>元素.nextElementSibling  获取下一个元素兄弟节点</p>
<p>元素.previousElementSibling  获取上一个元素兄弟节点</p>
<p>元素.parentNode  父节点</p>
<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><h5 id="DOM事件的定义"><a href="#DOM事件的定义" class="headerlink" title="DOM事件的定义"></a>DOM事件的定义</h5><p>定义:DOM事件是由DOM中的事件源触发，可以引发事件响应的操作。</p>
<h5 id="DOM事件流"><a href="#DOM事件流" class="headerlink" title="DOM事件流"></a>DOM事件流</h5><p>事件发生时会在元素节点与根节点之间按照特定的顺序传播，路径经过的所有节点都会收到该事件，这个传播过程即DOM事件流。</p>
<h5 id="DOM标准规定事件流包括三个阶段："><a href="#DOM标准规定事件流包括三个阶段：" class="headerlink" title="DOM标准规定事件流包括三个阶段："></a>DOM标准规定事件流包括三个阶段：</h5><ul>
<li>捕获阶段：</li>
</ul>
<p>事件自上而下传播，从Document根节点到<html>再到<body></p>
<ul>
<li>处理阶段：</li>
</ul>
<p>目标节点（<div>）处理事件的阶段</p>
<ul>
<li>冒泡阶段：</li>
</ul>
<p>事件自下而上传播，依次传播回Document根节点。</p>
<p><img src="/.%5Cimg%5C4.png" alt="4"></p>
<p>案例—–DOM事件流</p>
<p>三个逐层嵌套的圆，最里层的圆被点击，事件逐层传播。</p>
<p><img src="/.%5Cimg%5C5.png" alt="5"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;outer&quot;&gt;</span><br><span class="line">	&lt;div id=&quot;middle&quot;&gt;</span><br><span class="line">		&lt;div id=&quot;inner&quot;&gt;</span><br><span class="line">			Click me!</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	var innerCircle = document.getElementById(&#x27;inner&#x27;);</span><br><span class="line">	innerCircle.onclick = function()&#123;</span><br><span class="line">		alert(&quot;最内层的圆&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	var middleCircle = document.getElementById(&#x27;middle&#x27;);</span><br><span class="line">	middleCircle.onclick = function()&#123;</span><br><span class="line">		alert(&quot;中间层的圆&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	var outerCircle = document.getElementById(&#x27;outer&#x27;);</span><br><span class="line">	outerCircle.onclick = function()&#123;</span><br><span class="line">		alert(&quot;最外层的圆&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>备注：触发一个DOM事件，会产生一个事件对象；JavaScript通过事件对象获取事件的信息。</strong></p>
<h5 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h5><p>触发DOM事件时，在事件处理函数中产生一个对应的事件对象</p>
<ul>
<li><p>事件对象是在触发DOM事件时，在事件处理函数中产生并代表该事件状态的对象。</p>
</li>
<li><p>事件对象包含所有与事件有关的信息，包括导致事件被触发的元素、事件的类型，以及与特定事件相关的其他信息。</p>
</li>
<li><p>事件对象通常用event表示，可以作为参数传递给事件处理函数。</p>
</li>
</ul>
<h6 id="1）标准属性："><a href="#1）标准属性：" class="headerlink" title="1）标准属性："></a>1）标准属性：</h6><p>type ：返回当前 Event 对象表示的事件的名称；</p>
<p>bubbles ：返回布尔值，指示事件是否是起泡事件类型；</p>
<p>cancelable ：返回布尔值，指示事件是否可拥可取消的默认动作；</p>
<p>currentTarget ：返回其事件监听器触发该事件的元素；</p>
<p>eventPhase ：返回事件传播的当前阶段；</p>
<p>target ：返回触发此事件的元素（事件的目标节点）；</p>
<p>timeStamp ：返回事件生成的日期和时间；</p>
<h6 id="2）鼠标-x2F-键盘属性"><a href="#2）鼠标-x2F-键盘属性" class="headerlink" title="2）鼠标&#x2F;键盘属性"></a>2）鼠标&#x2F;键盘属性</h6><p>altKey ：返回当事件被触发时，”ALT” 是否被按下；</p>
<p>button ：返回当事件被触发时，哪个鼠标按钮被点击；</p>
<p>clientX ：返回当事件被触发时，鼠标指针的水平坐标；</p>
<p>clientY ：返回当事件被触发时，鼠标指针的垂直坐标；</p>
<p>ctrlKey ：返回当事件被触发时，”CTRL” 键是否被按下；</p>
<p>metaKey ：返回当事件被触发时，”meta” 键是否被按下；</p>
<p>relatedTarget ：返回与事件的目标节点相关的节点；</p>
<p>screenX ：返回当某个事件被触发时，鼠标指针的水平坐标；</p>
<p>screenY ：返回当某个事件被触发时，鼠标指针的垂直坐标；</p>
<p>shiftKey ：返回当事件被触发时，”SHIFT” 键是否被按下；</p>
<p><img src="/.%5Cimg%5C6.png" alt="6"></p>
<h5 id="内联模式"><a href="#内联模式" class="headerlink" title="内联模式"></a>内联模式</h5><p>事件绑定直接写在html上</p>
<p><img src="/.%5Cimg%5C7.png" alt="7"></p>
<p>这里button的click事件的绑定直接写在html中</p>
<h5 id="脚本模型"><a href="#脚本模型" class="headerlink" title="脚本模型"></a>脚本模型</h5><p>脚本模型是通过DOM选择器选中操作元素，单独封装事件操作在Js中，把事件操作与HTML代码分离的一种事件操作形式。</p>
<p>上一节咱们讲了内联模式,内联模式的缺点：函数违反了标记&#x2F;行为展现&#x2F;Javascript分离的层次分离原则。</p>
<p>案例：灯泡点亮</p>
<p>创建html页面，页面内如图有一图片；编写JS代码，给图片增加鼠标移过事件，触发函数；编写JS函数，实现给页面元素属性赋值。</p>
<p><img src="/.%5Cimg%5C8.png" alt="8"></p>
<h5 id="事件函数"><a href="#事件函数" class="headerlink" title="事件函数"></a>事件函数</h5><h6 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h6><ul>
<li>鼠标点击</li>
</ul>
<p>鼠标点击事件包括 4 个：click（单击）、dblclick（双击）、mousedown（按下）和 mouseup（松开）。其中 click 事件类型比较常用，而 mousedown 和 mouseup 事件类型多用在鼠标拖放、拉伸操作中。当这些事件处理函数的返回值为 false 时，会禁止绑定对象的默认行为。</p>
<p>示例</p>
<p>在下面示例中，当定义超链接指向自身时（多在设计过程中 href 属性值暂时使用 “#”或“?”表示），可以取消超链接被单击时的默认行为，即刷新页面。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;a name=&quot;tag&quot; id=&quot;tag&quot; href=&quot;#&quot;&gt;a&lt;/a&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var a = document.getElementsByTagName(&quot;a&quot;);  //获取页面中所有超链接元素</span><br><span class="line">for (var i = 0; i &lt; a.length; i ++) &#123;  //遍历所有a元素</span><br><span class="line">    if ((new RegExp(window.location.href)).test(a[i].href)) &#123;</span><br><span class="line">        //如果当前超链接href属性中包含本页面的URL信息</span><br><span class="line">        a[i].onclick = function () &#123;  //则为超链接注册鼠标单击事件</span><br><span class="line">        	return false;  //将禁止超链接的默认行为</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>鼠标移动</li>
</ul>
<p>mousemove 事件类型是一个实时响应的事件，当鼠标指针的位置发生变化时（至少移动一个像素），就会触发 mousemove 事件。该事件响应的灵敏度主要参考鼠标指针移动速度的快慢以及浏览器跟踪更新的速度。 </p>
<p>示例<br>下面示例演示了如何综合应用各种鼠标事件实现页面元素拖放操作的设计过程。实现拖放操作设计需要解决以下几个问题。<br>定义拖放元素为绝对定位以及设计事件的响应过程，这个比较容易实现。</p>
<p>清楚几个坐标概念：按下鼠标时的指针坐标，移动中当前鼠标指针坐标，松开鼠标时的指针坐标，拖放元素的原始坐标，拖动中的元素坐标。</p>
<p>算法设计：按下鼠标时，获取被拖放元素和鼠标指针的位置，在移动中实时计算鼠标偏移的距离，并利用该偏移距离加上被拖放元素的原坐标位置，获得拖放元素的实时坐标。</p>
<p>如下图所示，其中变量 ox 和 oy 分别记录按下鼠标时被拖放元素的纵横坐标值，它们可以通过事件对象的 offsetLeft 和 offsetTop 属性获取。变量 mx 和 my 分别表示按下鼠标时，鼠标指针的坐标位置。而 event.mx 和 event.my 是事件对象的自定义属性，用它们来存储当鼠标移动时鼠标指针的实时位置。</p>
<p>当获取了上面 3 对坐标值之后，就可以动态计算拖动中元素的实时坐标位置，即 x 轴值为 ox+event.mx-mx，y 轴为 oy+event.my-my。当释放鼠标按钮时，就可以释放事件类型，并记下松开鼠标指针时拖动元素的坐标值，以及鼠标指针的位置，留待下一次拖放操作时调用。</p>
<p><img src="/.%5Cimg%5C12.gif" alt="12"></p>
<p>整个拖放操作的示例代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;box&quot; &gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">        // 初始化拖放对象</span><br><span class="line">        var box = document.getElementById(&quot;box&quot;);</span><br><span class="line">        // 获取页面中被拖放元素的引用指针</span><br><span class="line">        box.style.position = &quot;absolute&quot;;  // 绝对定位</span><br><span class="line">        box.style.width = &quot;160px&quot;;  // 定义宽度</span><br><span class="line">        box.style.height = &quot;120px&quot;;  // 定义高度</span><br><span class="line">        box.style.backgroundColor = &quot;red&quot;;  // 定义背景色</span><br><span class="line">        // 初始化变量，标准化事件对象</span><br><span class="line">        var mx, my, ox, oy;  // 定义备用变量</span><br><span class="line">        function e(event)&#123;  // 定义事件对象标准化函数</span><br><span class="line">            if( ! event)&#123;  // 兼容IE浏览器</span><br><span class="line">                event = window.event;</span><br><span class="line">                event.target = event.srcElement;</span><br><span class="line">                event.layerX = event.offsetX;</span><br><span class="line">                event.layerY = event.offsetY;</span><br><span class="line">            &#125;</span><br><span class="line">            event.mx = event.pageX || event.clientX + document.body.scrollLeft;</span><br><span class="line">            // 计算鼠标指针的x轴距离</span><br><span class="line">            event.my = event.pageY || event.clientY + document.body.scrollTop;</span><br><span class="line">            // 计算鼠标指针的y轴距离</span><br><span class="line">            return event;  // 返回标准化的事件对象</span><br><span class="line">        &#125;</span><br><span class="line">         // 定义鼠标事件处理函数</span><br><span class="line">        document.onmousedown = function(event)&#123;  // 按下鼠标时，初始化处理</span><br><span class="line">            event = e(event);  // 获取标准事件对象</span><br><span class="line">            o = event.target;  // 获取当前拖放的元素</span><br><span class="line">            ox = parseInt(o.offsetLeft);  // 拖放元素的x轴坐标</span><br><span class="line">            oy = parseInt(o.offsetTop);  // 拖放元素的y轴坐标</span><br><span class="line">            mx = event.mx;  // 按下鼠标指针的x轴坐标</span><br><span class="line">            my = event.my;  // 按下鼠标指针的y轴坐标</span><br><span class="line">            document.onmousemove = move;  // 注册鼠标移动事件处理函数</span><br><span class="line">            document.onmouseup = stop;  // 注册松开鼠标事件处理函数</span><br><span class="line">        &#125;</span><br><span class="line">        function move(event)&#123;  // 鼠标移动处理函数</span><br><span class="line">            event = e(event);</span><br><span class="line">            o.style.left = ox + event.mx - mx  + &quot;px&quot;;  // 定义拖动元素的x轴距离</span><br><span class="line">            o.style.top = oy + event.my - my + &quot;px&quot;;  // 定义拖动元素的y轴距离</span><br><span class="line">        &#125;</span><br><span class="line">        function stop(event)&#123;  // 松开鼠标处理函数</span><br><span class="line">           event = e(event);</span><br><span class="line">           ox = parseInt(o.offsetLeft);  // 记录拖放元素的x轴坐标</span><br><span class="line">           oy = parseInt(o.offsetTop);  // 记录拖放元素的y轴坐标</span><br><span class="line">           mx = event.mx ;  // 记录鼠标指针的x轴坐标</span><br><span class="line">           my = event.my ;  // 记录鼠标指针的y轴坐标</span><br><span class="line">           o = document.onmousemove = document.onmouseup = null;</span><br><span class="line">           // 释放所有操作对象</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>鼠标经过</li>
</ul>
<p>鼠标经过包括移过和移出两种事件类型。当移动鼠标指针到某个元素上时，将触发 mouseover 事件；而当把鼠标指针移出某个元素时，将触发 mouseout 事件。如果从父元素中移到子元素中时，也会触发父元素的 mouseover 事件类型。</p>
<p>示例</p>
<p>在下面示例中，分别为3个嵌套的div元素定义了mouseover和mouseout事件处理函数，这样当从外层的父元素中移动到内部的子元素中时，将会触发父元素的 mouseover 事件类型，但是不会触发 mouseout 事件类型。 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div&gt;盒子&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var div = document.getElementsByTagName(&quot;div&quot;);</span><br><span class="line">    // 获取3个嵌套的div元素</span><br><span class="line">    for(var i=0;i&lt;div.length;i++)&#123;    // 遍历嵌套的div元素</span><br><span class="line">        div[i].onmouseover = function(e)&#123;   // 注册移过事件处理函数</span><br><span class="line">            this.style.border = &quot;solid blue&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        div[i].onmouseout = function()&#123;   // 注册移出事件处理函数</span><br><span class="line">            this.style.border = &quot;solid red&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>鼠标来源</p>
<p>当一个事件发生后，可以使用事件对象的 target 属性获取发生事件的节点元素。如果在 IE 事件模型中实现相同的目标，可以使用 srcElement 属性。</p>
<p>示例：</p>
<p>在下面示例中，当鼠标移过页面中的 div 元素时，会弹出提示对话框，提示当前元素的节名称。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;div元素&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var div = document.getElementsByTagName(&quot;div&quot;)[0];</span><br><span class="line">    div.onmouseover = function(e)&#123; // 注册mouseover事件处理函数</span><br><span class="line">        var e = e || window.event;  // 标准化事件对象，兼容DOM和IE事件模型</span><br><span class="line">        var o = e.target || e.srcElement;  // 标准化事件属性，获取当前事件的节点</span><br><span class="line">        alert(o.tagName);      // 返回字符串“DIV”</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>在 DOM 事件模型中还定义了 currentTarget 属性，当事件在传播过程中（如捕获和冒泡阶段）时，该属性值与 target 属性值不同。因此，一般在事件处理函数中，有你哥哥使用该属性而不是 this 关键词获取当前对象。</p>
<p>除了使用上面提到的通用事件属性外，如果想获取鼠标指针来移动某个元素，在 DOM 事件模型中可以使用 relatedTarget  属性获取当前事件对象的相关节点元素；而在 IE 事件模型中，可以使用 fromElement 获取 mouseover  事件中鼠标移到过的元素，使用 toElement 属性获取在 mouseout 事件中鼠标移到的文档元素。</p>
<p>示例2：</p>
<p>在下面示例中，当鼠标移到 div 元素上时，会弹出“BODY”字符提示信息，说明鼠标指针是从 body 元素过来的；而移开鼠标指针时，又弹出“BODY”字符提示信息，说明离开 div 元素将要移到的元素。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;div元素&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var div = document.getElementsByTagName(&quot;div&quot;)[0];</span><br><span class="line">    div.onmouseover = function(e)&#123;</span><br><span class="line">        var e = e || window.event;</span><br><span class="line">        var o = e.relatedTarget || e.fromElement;  //标准化事件属性，获取与当前事件相关的节点</span><br><span class="line">        alert(o.tagName);</span><br><span class="line">    &#125;</span><br><span class="line">    div.onmouseout = function(e)&#123;</span><br><span class="line">        var e = e || window.event;</span><br><span class="line">        var o = e.relatedTarget || e.toElement;  // 标准化事件属性，获取与当前事件相关的节点</span><br><span class="line">        alert(o.tagName);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt; </span><br></pre></td></tr></table></figure>

<h6 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h6><p>在JavaScript中，当用户操作键盘时，会触发键盘事件，键盘事件主要包括下面3种类型：</p>
<p>keydown：在键盘上按下某个键时触发。如果按住某个键，会不断触发该事件，但是Opera浏览器不支持这种连续操作。该事件处理函数返回false时，会取消默认的动作（如输入的键盘字符，在IE和Safari浏览器下还会禁止keypress事件响应）。</p>
<p>keypress：按下某个键盘键并释放时触发。如果按住某个键，会不断触发该事件。该事件处理函数返回false时，会取消默认的动作（如输入的键盘字符）。</p>
<p>keyup：释放某个键盘键时触发。该事件仅在松开键盘时触发一次，不是一个持续的响应状态。</p>
<p>当获取用户正按下键码时，可以使用keydown、keypress和keyup事件获取这些信息。其中keydown和keypress事件基本上是同义事件，它们的表现也完全一致，不过一些浏览器不允许使用keypress事件获取按键信息。所有元素都支持键盘事件，但键盘事件多被应用在表单输入中。</p>
<p>示例</p>
<p>下面示例实时捕获键盘操作的各种细节，即键盘响应事件类型及对应的键值。 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;textarea id=&quot;key&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var key = document.getElementById(&quot;key&quot;);</span><br><span class="line">    key.onkeydown =f;  //注册keydown事件处理函数</span><br><span class="line">    key.onkeyup = f;  //注册keyup事件处理函数</span><br><span class="line">    key.onkeypress = f;  //注册keypress事件处理函数</span><br><span class="line">    function f (e) &#123;</span><br><span class="line">        var e = e || window.event;  //标准化事件处理</span><br><span class="line">        var s = e.type + &quot; &quot; + e.keyCode;  //获取键盘事件类型和按下的值</span><br><span class="line">        key.value = s;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>键盘事件属性</li>
</ul>
<p>键盘定义了很多属性，如下表所示。利用这些属性可以精确控制键盘操作。键盘事件属性一般只在键盘相关事件发生时才会存在于事件对象中，但是  ctrlKey 和 shiftKey 属性除外，因为它们可以在水保事件中存在。例如，当按下 Ctrl 或Shift 键时单击鼠标操作。</p>
<p>keyCode ：该属性包含键盘中对应键位的键值</p>
<p>charCode ：该属性包含键盘中对应键位的 Unicode 编码，仅 DOM 支持</p>
<p>target：发生事件的节点（包含元素），仅 DOM 支持</p>
<p>srcElement ：发生事件的元素，仅 IE 支持</p>
<p>shiftKey：是否按下 Shift 键，如果按下返回 true，否则为false</p>
<p>ctrlKey：是否按下 Ctrl 键，如果按下返回 true，否则为false</p>
<p>altKey：是否按下 Alt 键，如果按下返回 true，否则为false</p>
<p>metaKey：是否按下 Mtea 键，如果按下返回 true，否则为false，仅 DOM 支持</p>
<p>示例：</p>
<p>ctrlKey和shiftKey属性可存在于键盘和鼠标事件中，表示键盘上的Ctrl和Shift键是否被按住。下面示例能够监测Ctrl 和Shift键是否被同时按下。如果同时按下，且鼠标单击某个页面元素，则会把该元素从页面中删除。 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">document.onclick = function (e) &#123;</span><br><span class="line">    var e = e || window.event;  //标准化事件对象</span><br><span class="line">    var t = e.target || e.srcElement;  //获取发生事件的元素，兼容IE和DOM</span><br><span class="line">    if (e.ctrlKey &amp;&amp; e.shiftKey) &#123;  //如果同时按下Ctrl和Shift键</span><br><span class="line">        t.parentNode.removeChild(t);  //移出当前元素</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>0<del>9（数字键）：48</del>57 	</p>
<p>A<del>Z（字母键）：65</del>90</p>
<p>Backspace（退格键）：8 </p>
<p>Tab（制表键）：9</p>
<p>Enter（回车键）：13 	</p>
<p>Space（空格键）：32</p>
<p>Left arrow（左箭头键）：37 </p>
<p>Top arrow（上箭头键）：38</p>
<p>Right arrow（右箭头键）：39 </p>
<p>Down arrow（下箭头键）：40</p>
<p>示例2：</p>
<p>下面示例演示了如何使用方向键控制页面元素的移动效果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;box&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var box = document.getElementById(&quot;box&quot;);  // 获取页面元素的引用指针</span><br><span class="line">    box.style.position = &quot;absolute&quot;;  // 色块绝对定位</span><br><span class="line">    box.style.width = &quot;20px&quot;;  // 色块宽度</span><br><span class="line">    box.style.height = &quot;20px&quot;;  // 色块高度</span><br><span class="line">    box.style.backgroundColor = &quot;red&quot;;  // 色块背景</span><br><span class="line">    document.onkeydown = keyDown;</span><br><span class="line">    //在Document对象中注册keyDown事件处理函数</span><br><span class="line">    function keyDown(event)&#123;  // 方向键控制元素移动函数</span><br><span class="line">        var event = event || window.event;  // 标准化事件对象</span><br><span class="line">        switch(event.keyCode)&#123;  // 获取当前按下键盘键的编码</span><br><span class="line">            case 37 :  // 按下左箭头键，向左移动5个像素</span><br><span class="line">                box.style.left = box.offsetLeft - 5  + &quot;px&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 39 :  // 按下右箭头键，向右移动5个像素</span><br><span class="line">                box.style.left = box.offsetLeft + 5 + &quot;px&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 38 :  // 按下上箭头键，向上移动5个像素</span><br><span class="line">                box.style.top = box.offsetTop  - 5 + &quot;px&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 40 :  // 按下下箭头键，向下移动5个像素</span><br><span class="line">                box.style.top = box.offsetTop  + 5 + &quot;px&quot;;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>在上面示例中，首先获取页面元素，通过 CSS 脚本控制元素绝对定位、大小和背景色。然后在 document  对象上注册鼠标按下事件类型处理函数，在事件回调函数 keyDown() 中侦测当前按下的方向键，并决定定位元素在窗口中的位置。其中元素的  offsetLeft 和 offsetTop 属性可以存取它在页面中的位置。</p>
<ul>
<li>键盘响应顺序</li>
</ul>
<p>当按下键盘时，会连续触发多个事件，它们将按如下顺序发生。</p>
<p>对于字符键来说，键盘事件的响应顺序：keydown → keypress → keyup。</p>
<p>对于非字符键（如功能键或特殊键）来说，键盘事件的相应顺序：keydown → keyup。</p>
<p>如果按下字符键不放，则 keydown 和 keypress 事件将逐个持续发生，直至松开按键。</p>
<p>如果按下非字符键不放，则只有 keydown 事件持续发生，直至松开按键。</p>
<p>示例</p>
<p>下面设计一个简单示例，以获取键盘事件相应顺序。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;textarea id=&quot;text&quot; cols=&quot;26&quot; rows=&quot;16&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var n = 1;  // 定义编号变量</span><br><span class="line">    var text = document.getElementById(&quot;text&quot;);  // 获取文本区域的引用指针</span><br><span class="line">    text.onkeydown = f;  // 注册keydown事件处理函数</span><br><span class="line">    text.onkeyup = f;  // 注册keyup事件处理函数</span><br><span class="line">    text.onkeypress = f;  // 注册keypress事件处理函数</span><br><span class="line">    function f(e)&#123;  // 事件调用函数</span><br><span class="line">        var e = e || window.event;  // 标准化事件对象</span><br><span class="line">        text.value += (n++) + &quot;=&quot; + e.type +&quot;  (keyCode=&quot; + e.keyCode + &quot;)\n&quot;;</span><br><span class="line">        //捕获事件响应信息</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h6 id="表单事件"><a href="#表单事件" class="headerlink" title="表单事件"></a>表单事件</h6><p>onblur:元素失去焦点时触发</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">function upperCase()</span><br><span class="line">&#123;</span><br><span class="line">	var x=document.getElementById(&quot;fname&quot;).value</span><br><span class="line">	document.getElementById(&quot;fname&quot;).value=x.toUpperCase()</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">输入您的姓名：</span><br><span class="line">&lt;input type=&quot;text&quot; id=&quot;fname&quot; onblur=&quot;upperCase()&quot; /&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>onfocus:元素获取焦点时触发</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">function setStyle(x)</span><br><span class="line">&#123;</span><br><span class="line">	document.getElementById(x).style.background=&quot;yellow&quot;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">First name: &lt;input type=&quot;text&quot; onfocus=&quot;setStyle(this.id)&quot; id=&quot;fname&quot; /&gt;</span><br><span class="line">&lt;br /&gt;</span><br><span class="line">Last name: &lt;input type=&quot;text&quot; onfocus=&quot;setStyle(this.id)&quot; id=&quot;lname&quot; /&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>onsubmit:表单提交时触发</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;title&gt;onsubmit用户提交,submit属性,事件&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">	function test()&#123;</span><br><span class="line">		var s1 =document.mianform.user.value;</span><br><span class="line">		var s2 = document.mianform.pwd.value ;</span><br><span class="line">		if(s1 == &quot;&quot;||s2 ==&quot;&quot;)&#123;</span><br><span class="line">			alert(&#x27;请将内容填写完整&#x27;);</span><br><span class="line">			return false ;//false不提交</span><br><span class="line">		&#125;</span><br><span class="line">		return true ; // true提交</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;form name=&quot;mianform&quot; onsubmit=&quot;return test()&quot;&gt;</span><br><span class="line">		&lt;label&gt;姓名:&lt;/label&gt;</span><br><span class="line">		&lt;input type=&quot;text&quot; name=&quot;user&quot; onfocus=&quot;console.log(&#x27;点击这里输入用户名&#x27;);&quot; onblur=&quot;console.log(&#x27;文本失去焦点&#x27;);&quot;&gt;</span><br><span class="line">		&lt;br&gt;</span><br><span class="line">		&lt;label&gt;密码:&lt;/label&gt;</span><br><span class="line">		&lt;input type=&quot;password&quot; name=&quot;pwd&quot; &gt;</span><br><span class="line">		&lt;br&gt;</span><br><span class="line">		&lt;input type=&quot;submit&quot; value=&quot;提交&quot; &gt;</span><br><span class="line">	&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>onreset:表单重置时触发</p>
<p>onchange:表单域里的内容改变时触发</p>
<p><img src="/.%5Cimg%5C11.png" alt="11"></p>
<p>onselect:用户选取表单域里的文本时触发</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt; 内容选中事件 &lt;/title&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">  function message()&#123;</span><br><span class="line">    alert(&quot;您触发了选中事件！&quot;); &#125;</span><br><span class="line">&lt;/script&gt;    </span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;form&gt;</span><br><span class="line">  个人简介：&lt;br&gt;</span><br><span class="line">   &lt;textarea name=&quot;summary&quot; cols=&quot;60&quot; rows=&quot;5&quot; onselect=&quot;message()&quot;&gt;请写入个人简介，不少于200字！&lt;/textarea&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h5 id="绑定和删除事件"><a href="#绑定和删除事件" class="headerlink" title="绑定和删除事件"></a>绑定和删除事件</h5><p>addEventListener()方法用于向指定元素添加事件句柄</p>
<p><img src="/.%5Cimg%5C9.png" alt="9"></p>
<p>removeEventListener()方法用于移除由addEventLister()方法添加的事件句柄</p>
<p><img src="/.%5Cimg%5C10.png" alt="10"></p>
<h5 id="其他事件"><a href="#其他事件" class="headerlink" title="其他事件"></a>其他事件</h5><p>1）页面事件	</p>
<p>onload	页面载入完毕时触发</p>
<p>onunload	用户退出页面时触发</p>
<p><img src="/.%5Cimg%5C12.png" alt="12"></p>
<p>2）窗口事件	</p>
<p>onresize	窗口被调整大小时触发</p>
<p>onscroll	元素滚动条在滚动时触发</p>
<p><img src="/.%5Cimg%5C13.png" alt="13"></p>
<h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><h5 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h5><p>BOM（Browser Object Model）即浏览器对象模型。</p>
<p>BOM提供了独立于内容而与浏览器窗口进行交互的对象；</p>
<p>由于BOM主要用于管理窗口与窗口之间的通讯，因此其核心对象是window；</p>
<p>BOM由一系列相关的对象构成，并且每个对象都提供了很多方法与属性；</p>
<h5 id="BOM组成"><a href="#BOM组成" class="headerlink" title="BOM组成"></a>BOM组成</h5><p><img src="/.%5Cimg%5C14.jpg" alt="14"></p>
<p>window：代表整个浏览器窗口）</p>
<p>Navigator：代表浏览器当前的信息；</p>
<p>Location：代表浏览器当前的地址信息</p>
<p>History：代表浏览器的历史信息</p>
<p>Screen：代表用户的屏幕信息</p>
<h5 id="Window对象"><a href="#Window对象" class="headerlink" title="Window对象"></a>Window对象</h5><p>BOM的核心是window对象,表示浏览器的实例。window对象在浏览器中有两重身份，一个是ECMAScript中的Global对象，另</p>
<p>一个就是浏览器窗口的JavaScript接口。这意味着网页中定义的所有对象、变量和函数都以window作为其Global对象，都可以</p>
<p>访问其上定义的parseInt()等全局方法。</p>
<h6 id="Global作用域"><a href="#Global作用域" class="headerlink" title="Global作用域"></a>Global作用域</h6><p>因为window对象被复用为ECMAScript的Global对象，所以通过var声明的所有全局变量和函数都会变成window对象的属性和方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var age = 29;</span><br><span class="line">var sayAge = () =&gt;alert(this.age);</span><br><span class="line">alert(window.age);</span><br><span class="line">sayAge();</span><br><span class="line">window.sayAge();</span><br></pre></td></tr></table></figure>

<p>这里，变量age和函数sayAge()被定义在全局作用域中，它们自动成为了window对象的成员。因此，变量age可以通过window.age来访问，而函数sayAge()也可以通过window.sayAge()来访问。因为sayAge()存在于全局作用域，this.age映射到window.age，所以就可以显示正确的结果了。</p>
<p>如果在这里使用let或const替代var，则不会把变量添加给全局对象:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let age = 29;</span><br><span class="line">const sayAge = () =&gt; alert(this.age);</span><br><span class="line">alert(window.age); // undefined</span><br><span class="line">sayAge(); // undefined</span><br><span class="line">window.sayAge(); // TypeError: window.sayAge is not a function</span><br></pre></td></tr></table></figure>

<h6 id="导航与打开新窗口"><a href="#导航与打开新窗口" class="headerlink" title="导航与打开新窗口"></a>导航与打开新窗口</h6><p>window.open()方法可以用于导航到指定URL，也可以用于打开新浏览器窗口。这个方法接收4个参数：要加载的URL、目标窗</p>
<p>口、特性字符串和表示新窗口在浏览器历史记录中是否替代当前加载页面的布尔值。通常，调用这个方法时只传前3个参数，</p>
<p>最后一个参数只有在不打开新窗口时才会使用。</p>
<p>如果window.open()的第二个参数是一个已经存在的窗口或窗格（frame）的名字，则会在对应的窗口或窗格中打开URL。下面</p>
<p>是一个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.open(&quot;http://www.wrox.com/&quot;, &quot;topFrame&quot;);</span><br></pre></td></tr></table></figure>

<p>执行这行代码的结果就如同用户点击了一个href属性为”<a target="_blank" rel="noopener" href="http://www.wrox.com&quot;,target属性为&quot;topframe&quot;的链接.如果有一个窗/">http://www.wrox.com&quot;，target属性为&quot;topFrame&quot;的链接。如果有一个窗</a></p>
<p>口名叫”topFrame”，则这个窗口就会打开这个URL；否则就会打开一个新窗口并将其命名为”topFrame”。第二个参数也可以是</p>
<p>一个特殊的窗口名，比如_self、_parent、_top或_blank。</p>
<ul>
<li>弹出窗口</li>
</ul>
<p>如果window.open()的第二个参数不是已有窗口，则会打开一个新窗口或标签页。第三个参数，即特性字符串，用于指定新窗</p>
<p>口的配置。如果没有传第三个参数，则新窗口（或标签页）会带有所有默认的浏览器特性（工具栏、地址栏、状态栏等都是</p>
<p>默认配置）。如果打开的不是新窗口，则忽略第三个参数。</p>
<p>特性字符串是一个逗号分隔的设置字符串，用于指定新窗口包含的特性。下表列出了一些选项。</p>
<p><img src="/.%5Cimg%5C16.png" alt="16"></p>
<p><img src="/.%5Cimg%5C17.png" alt="17"></p>
<p>这些设置需要以逗号分隔的名值对形式出现，其中名值对以等号连接。</p>
<p>来看下面的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.open(&quot;http://www.wrox.com/&quot;,&quot;wroxWindow&quot;,&quot;height=400,width=400,top=10,left=10,resizable=yes&quot;);</span><br></pre></td></tr></table></figure>

<p>这行代码会打开一个可缩放的新窗口，大小为400像素×400像素，位于离屏幕左边及顶边各10像素的位置。</p>
<p>window.open()方法返回一个对新建窗口的引用。这个对象与普通window对象没有区别，只是为控制新窗口提供了方便。例</p>
<p>如，某些浏览器默认不允许缩放或移动主窗口，但可能允许缩放或移动通过window.open()创建的窗口。跟使用任何window对</p>
<p>象一样，可以使用这个对象操纵新打开的窗口。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let wroxWin = window.open(&quot;http://www.wrox.com/&quot;,&quot;wroxWindow&quot;,&quot;height=400,width=400,top=10,left=10,resizable=yes&quot;);</span><br><span class="line">// 缩放</span><br><span class="line">wroxWin.resizeTo(500, 500);</span><br><span class="line">// 移动</span><br><span class="line">wroxWin.moveTo(100, 100);</span><br><span class="line">wroxWin.close();//关闭新打开的窗口</span><br></pre></td></tr></table></figure>

<h5 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h5><p>setTimeout()的参数</p>
<p>code&#x2F;function：必需。要调用一个代码串，也可以是一个函数，或者函数名。</p>
<p>milliseconds：可选。执行或调用 code&#x2F;function 需要等待的时间，以毫秒计。默认为 0。</p>
<p>param1, …：可选，多个。 传给执行函数的其他参数（IE9 及其更早版本不支持该参数）。</p>
<ul>
<li>使用函数名称</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function myFunction() &#123;</span><br><span class="line">    myVar = setTimeout(alertFunc, 3000);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">function alertFunc() &#123;</span><br><span class="line">    alert(&quot;Hello!&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>使用匿名函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var myWindow = window.open(&quot;&quot;, &quot;&quot;, &quot;width=200, height=100&quot;);</span><br><span class="line"></span><br><span class="line">myWindow.document.write(&quot;&lt;p&gt;新窗口&#x27;&lt;/p&gt;&quot;);</span><br><span class="line"></span><br><span class="line">setTimeout(function()&#123; myWindow.close() &#125;, 3000);</span><br></pre></td></tr></table></figure>

<ul>
<li>给函数传参</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function alertFunc(r, g)&#123; </span><br><span class="line">	alert(r + g); </span><br><span class="line">&#125;</span><br><span class="line">function myStartFunction() &#123;</span><br><span class="line">	myVar = setTimeout(alertFunc, 2000, &quot;Runoob&quot;, &quot;Google&quot;);</span><br><span class="line">&#125;</span><br><span class="line">//使用匿名函数</span><br><span class="line">function myStartFunction() &#123;</span><br><span class="line">	myVar = setTimeout(function()&#123; alertFunc(&quot;Runoob&quot;, &quot;Google&quot;); &#125;, 2000);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>setTimeout的特点</li>
</ul>
<p>setTimeout() 方法用于在指定的毫秒数后调用函数或计算表达式。</p>
<p>方法只会被调用一次</p>
<p>1000的单位是毫秒，1000毫秒&#x3D;1秒</p>
<ul>
<li>setInterval()的特点</li>
</ul>
<p>setInterval() 方法可按照指定的周期来调用函数或计算表达式。</p>
<p>setInterval() 方法会不停地调用函数</p>
<p>1000的单位是毫秒，1000毫秒&#x3D;1秒</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var myVar;</span><br><span class="line">function myFunction() &#123;</span><br><span class="line">    myVar = setTimeout(function()&#123; alert(&quot;Hello&quot;); &#125;, 3000);</span><br><span class="line">&#125;</span><br><span class="line">function myStopFunction() &#123;</span><br><span class="line">    clearTimeout(myVar);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var myVar;</span><br><span class="line">function myFunction() &#123;</span><br><span class="line">    myVar = setInterval(function()&#123; alert(&quot;Hello&quot;); &#125;, 3000);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">function myStopFunction() &#123;</span><br><span class="line">    clearInterval(myVar);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>clearTimeout():可取消由 setTimeout() 方法设置的定时操作</p>
<p>clearInterval():可取消由 setInterval() 函数设定的定时执行操作</p>
<p>看到了<code>setTimeout</code>函数。 它会在给定的毫秒数之后，调度另一个函数在稍后调用。</p>
<p>有时需要取消调度的函数。可以存储<code>setTimeout</code>的返回值，并将作为参数调用<code>clearTimeout</code>。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let bombTimer = setTimeout(() =&gt; &#123;</span><br><span class="line">  console.log(&quot;BOOM!&quot;);</span><br><span class="line">&#125;, 500);</span><br><span class="line"></span><br><span class="line">if (Math.random() &lt; 0.5) &#123; // 50% chance</span><br><span class="line">  console.log(&quot;Defused.&quot;);</span><br><span class="line">  clearTimeout(bombTimer);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数<code>cancelAnimationFrame</code>作用与<code>clearTimeout</code>相同，使用<code>requestAnimationFrame</code>的返回值调用该函数，可以取消帧（假定函数还没有被调用）。</p>
<p>还有<code>setInterval</code>和<code>clearInterval</code>这种相似的函数，用于设置计时器，每隔一定毫秒数重复执行一次。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let ticks = 0;</span><br><span class="line">let clock = setInterval(() =&gt; &#123;</span><br><span class="line">  console.log(&quot;tick&quot;, ticks++);</span><br><span class="line">  if (ticks == 10) &#123;</span><br><span class="line">    clearInterval(clock);</span><br><span class="line">    console.log(&quot;stop.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, 200);</span><br></pre></td></tr></table></figure>

<h5 id="降频"><a href="#降频" class="headerlink" title="降频"></a>降频</h5><p>某些类型的事件可能会连续、迅速触发多次（例如<code>mousemove</code>和<code>scroll</code>事件）。处理这类事件时，你必须小心谨慎，防止处理任务耗时过长，否则处理器会占据过多事件，导致用户与文档交互变得非常慢。</p>
<p>若你需要在这类处理器中编写一些重要任务，可以使用<code>setTimeout</code>来确保不会频繁进行这些任务。我们通常称之为“事件降频（Debounce）”。有许多方法可以完成该任务。</p>
<p>在第一个示例中，当用户输入某些字符时，我们想要有所反应，但我们不想在每个按键事件中立即处理该任务。当用户输入过快时，我们希望暂停一下然后进行处理。我们不是立即在事件处理器中执行动作，而是设置一个定时器。我们也会清除上一次的定时器（如果有），因此当两个事件触发间隔过短（比定时器延时短），就会取消上一次事件设置的定时器。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span>&gt;</span>Type something here...<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> textarea = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;textarea&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> timeout;</span></span><br><span class="line"><span class="language-javascript">  textarea.<span class="title function_">addEventListener</span>(<span class="string">&quot;input&quot;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="built_in">clearTimeout</span>(timeout);</span></span><br><span class="line"><span class="language-javascript">    timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Typed!&quot;</span>), <span class="number">500</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>将<code>undefined</code>传递给<code>clearTimeout</code>或在一个已结束的定时器上调用<code>clearTimeout</code>是没有效果的。因此，我们不需要关心何时调用该方法，只需要每个事件中都这样做即可。</p>
<p>如果我们想要保证每次响应之间至少间隔一段时间，但不希望每次事件发生时都重置定时器，而是在一连串事件连续发生时能够定时触发响应，那么我们可以使用一个略有区别的方法来解决问题。例如，我们想要响应<code>&quot;mousemove&quot;</code>事件来显示当前鼠标坐标，但频率只有 250ms。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> scheduled = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;mousemove&quot;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (!scheduled) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">textContent</span> =</span></span><br><span class="line"><span class="language-javascript">          <span class="string">`Mouse at <span class="subst">$&#123;scheduled.pageX&#125;</span>, <span class="subst">$&#123;scheduled.pageY&#125;</span>`</span>;</span></span><br><span class="line"><span class="language-javascript">        scheduled = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">      &#125;, <span class="number">250</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    scheduled = event;</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="location对象"><a href="#location对象" class="headerlink" title="location对象"></a>location对象</h5><p>location是最有用的BOM对象之一，提供了当前窗口中加载文档的信息，以及通常的导航功能。这个对象独特的地方在于，它</p>
<p>既是window的属性，也是document的属性。也就是说，window.location和document.location指向同一个对象。location对象不仅</p>
<p>保存着当前加载文档的信息，也保存着把URL解析为离散片段后能够通过属性访问的信息。</p>
<p>假设浏览器当前加载的URL是<a target="_blank" rel="noopener" href="http://foouser:barpassword@www.wrox.com/WileyCDA/?q=javascript#contents%EF%BC%8Clocation%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%85%E5%AE%B9%E5%A6%82%E4%B8%8B%E8%A1%A8%E6%89%80%E7%A4%BA%E3%80%82">http://foouser:barpassword@www.wrox.com:80/WileyCDA/?q=javascript#contents，location对象的内容如下表所示。</a></p>
<p><img src="/.%5Cimg%5C15.png" alt="15"></p>
<h6 id="查找字符串"><a href="#查找字符串" class="headerlink" title="查找字符串"></a>查找字符串</h6><p>location的多数信息都可以通过上面的属性获取。但是URL中的查询字符串并不容易使用。虽然location.search返回了从问号开</p>
<p>始直到URL末尾的所有内容，但没有办法逐个访问每个查询参数。下面的函数解析了查询字符串，并返回一个以每个查询参</p>
<p>数为属性的对象：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">let getQueryStringArgs = function() &#123;</span><br><span class="line">    // 取得没有开头问号的查询字符串</span><br><span class="line">    let qs = (location.search.length &gt; 0 ? location.search.substring(1) : &quot;&quot;),</span><br><span class="line">    // 保存数据的对象</span><br><span class="line">    args = &#123;&#125;;</span><br><span class="line">    // 把每个参数添加到 args 对象</span><br><span class="line">    for (let item of qs.split(&quot;&amp;&quot;).map(kv =&gt; kv.split(&quot;=&quot;))) &#123;</span><br><span class="line">        let name = decodeURIComponent(item[0]),</span><br><span class="line">        value = decodeURIComponent(item[1]);</span><br><span class="line">        if (name.length) &#123;</span><br><span class="line">        	args[name] = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return args;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个函数首先删除了查询字符串开头的问号，当然前提是location.search必须有内容。解析后的参数将被保存到args对象，这个</p>
<p>对象以字面量形式创建。接着，先把查询字符串按照&amp;分割成数组，每个元素的形式为name&#x3D;value。for循环迭代这个数组，</p>
<p>将每一个元素按照&#x3D;分割成数组，这个数组第一项是参数名，第二项是参数值。参数名和参数值在使用decodeURIComponent()</p>
<p>解码后（这是因为查询字符串通常是被编码后的格式）分别保存在name和value变量中。最后，name作为属性而value作为该属</p>
<p>性的值被添加到args对象。这个函数可以像下面这样使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 假设查询字符串为?q=javascript&amp;num=10</span><br><span class="line">let args = getQueryStringArgs();</span><br><span class="line">alert(args[&quot;q&quot;]); // &quot;javas</span><br><span class="line">alert(args[&quot;num&quot;]); // &quot;10&quot;</span><br></pre></td></tr></table></figure>

<h6 id="操作地址"><a href="#操作地址" class="headerlink" title="操作地址"></a>操作地址</h6><p>可以通过修改location对象修改浏览器的地址。首先，最常见的是使用assign()方法并传入一个URL，如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location.assign(&quot;http://www.wrox.com&quot;)</span><br></pre></td></tr></table></figure>

<p>这行代码会立即启动导航到新URL的操作，同时在浏览器历史记录中增加一条记录。如果给location.href或window.location设置</p>
<p>一个URL，也会以同一个URL值调用assign()方法。比如，下面两行代码都会执行与显式调用assign()一样的操作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.location=&quot;http://www.wrox.com&quot;;</span><br><span class="line">location.href=&quot;http://www.wrox.com&quot;;</span><br></pre></td></tr></table></figure>

<p>在这3种修改浏览器地址的方法中，设置location.href是最常见的。</p>
<p>修改location对象的属性也会修改当前加载的页面。其中，hash、search、hostname、pathname和port属性被设置为新值之后都</p>
<p>会修改当前URL，如下面的例子所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//假设当前URL为http://www.wrox.com/WileyCDA/</span><br><span class="line">//把URL修改为http://www.wrox.com/WileyCDA/#section1</span><br><span class="line">location.hash=&quot;#section1&quot;;</span><br><span class="line">//把URL修改为http://www.wrox.com/WileyCDA/?q=javascript</span><br><span class="line">location.search=&quot;?q=javascript&quot;;</span><br><span class="line">//把URL修改为http://www.somewhere.com/WileyCDA/</span><br><span class="line">location.hostname=&quot;www.somewhere.com&quot;;</span><br><span class="line">//把URL修改为http://www.somewhere.com/mydir/</span><br><span class="line">location.pathname=&quot;mydir&quot;;</span><br><span class="line">//把URL修改为http://www.somewhere.com:8080/WileyCDA/</span><br><span class="line">location.port=8080;</span><br></pre></td></tr></table></figure>

<p>除了hash之外，只要修改location的一个属性，就会导致页面重新加载新URL。</p>
<p>注意修改hash的值会在浏览器历史中增加一条新记录。在早期的IE中，点击“后退”和“前进”按钮不会更新hash属性，只有点击</p>
<p>包含散列的URL才会更新hash的值。</p>
<p>在以前面提到的方式修改URL之后，浏览器历史记录中就会增加相应的记录。当用户单击“后退”按钮时，就会导航到前一个</p>
<p>页面。如果不希望增加历史记录，可以使用replace()方法。这个方法接收一个URL参数，但重新加载后不会增加历史记录。调</p>
<p>用replace()之后，用户不能回到前一页。比如下面的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;You won&#x27;t be able to get back here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;Enjoy this page for a second, because you won&#x27;t be coming back here.&lt;/p&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	setTimeout(() =&gt; location.replace(&quot;http://www.wrox.com/&quot;), 1000);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>浏览器加载这个页面1秒之后会重定向到<a target="_blank" rel="noopener" href="http://www.wrox.com.此时,“后退”按钮是禁用状态,即不能返回这个示例页面,除非手/">www.wrox.com。此时，“后退”按钮是禁用状态，即不能返回这个示例页面，除非手</a></p>
<p>动输入完整的URL。</p>
<p>最后一个修改地址的方法是reload()，它能重新加载当前显示的页面。调用reload()而不传参数，页面会以最有效的方式重新加</p>
<p>载。也就是说，如果页面自上次请求以来没有修改过，浏览器可能会从缓存中加载页面。如果想强制从服务器重新加载，可</p>
<p>以像下面这样给reload()传个true：</p>
<p>location.reload();&#x2F;&#x2F;重新加载，可能是从缓存加载</p>
<p>location.reload(true);&#x2F;&#x2F;重新加载，从服务器加载</p>
<p>脚本中位于reload()调用之后的代码可能执行也可能不执行，这取决于网络延迟和系统资源等因素。为此，最好把reload()作为</p>
<p>最后一行代码。</p>
<h5 id="navigator对象"><a href="#navigator对象" class="headerlink" title="navigator对象"></a>navigator对象</h5><p>navigator是由NetscapeNavigator2最早引入浏览器的，现在已经成为客户端标识浏览器的标准。只要浏览器启用JavaScript，</p>
<p>navigator对象就一定存在。但是与其他BOM对象一样，每个浏览器都支持自己的属性。</p>
<p>navigator属性如下表：</p>
<p>appCodeName ：返回浏览器的代码名。</p>
<p>appMinorVersion：返回浏览器的次级版本。</p>
<p>appName：返回浏览器的名称。</p>
<p>appVersion ：返回浏览器的平台和版本信息。</p>
<p>browserLanguage ：返回当前浏览器的语言。</p>
<p>cookieEnabled：返回指明浏览器中是否启用 cookie 的布尔值。</p>
<p>cpuClass ：返回浏览器系统的 CPU 等级。</p>
<p>onLine：返回指明系统是否处于脱机模式的布尔值。</p>
<p>platform：返回运行浏览器的操作系统平台。</p>
<p>systemLanguage：返回 OS 使用的默认语言。</p>
<p>userAgent ：返回由客户机发送服务器的 user-agent 头部的值。</p>
<p>userLanguage ：返回 OS 的自然语言设置。</p>
<p>我们使用的比较多的是他的userAgent，经常需要判断的情况有：</p>
<p>（1）PC还是移动端</p>
<p>（2）安卓还是IOS</p>
<p>（3）浏览器的类型</p>
<p>示例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var browser=&#123;</span><br><span class="line">	versions:function()&#123;</span><br><span class="line">	var u = navigator.userAgent, app = navigator.appVersion;</span><br><span class="line">		return &#123;         //移动终端浏览器版本信息</span><br><span class="line">			trident: u.indexOf(&#x27;Trident&#x27;) &gt; -1, //IE内核</span><br><span class="line">			presto: u.indexOf(&#x27;Presto&#x27;) &gt; -1, //opera内核</span><br><span class="line">			webKit: u.indexOf(&#x27;AppleWebKit&#x27;) &gt; -1, //苹果、谷歌内核</span><br><span class="line">			gecko: u.indexOf(&#x27;Gecko&#x27;) &gt; -1 &amp;&amp; u.indexOf(&#x27;KHTML&#x27;) == -1, //火狐内核</span><br><span class="line">			mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端</span><br><span class="line">			ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端</span><br><span class="line">			android: u.indexOf(&#x27;Android&#x27;) &gt; -1 || u.indexOf(&#x27;Linux&#x27;) &gt; -1, //android终端或uc浏览器</span><br><span class="line">			iPhone: u.indexOf(&#x27;iPhone&#x27;) &gt; -1 , //是否为iPhone或者QQHD浏览器</span><br><span class="line">			iPad: u.indexOf(&#x27;iPad&#x27;) &gt; -1, //是否iPad</span><br><span class="line">			webApp: u.indexOf(&#x27;Safari&#x27;) == -1 //是否web应该程序，没有头部与底部</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;(),</span><br><span class="line">	language:(navigator.browserLanguage || navigator.language).toLowerCase()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="screen对象"><a href="#screen对象" class="headerlink" title="screen对象"></a>screen对象</h5><p>window的另一个属性screen对象，是为数不多的几个在编程中很少用的JavaScript对象。这个对象中保存的纯粹是客户端能力</p>
<p>信息，也就是浏览器窗口外面的客户端显示器的信息，比如像素宽度和像素高度。每个浏览器都会在screen对象上暴露不同的</p>
<p>属性。</p>
<p>下表总结了这些属性:</p>
<p>availHeight 屏幕像素高度减去系统组件高度（只读）</p>
<p>availLeft 没有被系统组件占用的屏幕的最左侧像素（只读）</p>
<p>availTop 没有被系统组件占用的屏幕的最顶端像素（只读）</p>
<p>availWidth 屏幕像素宽度减去系统组件宽度（只读）</p>
<p>colorDepth 表示屏幕颜色的位数；多数系统是 32（只读）</p>
<p>height 屏幕像素高度</p>
<p>left 当前屏幕左边的像素距离</p>
<p>pixelDepth 屏幕的位深（只读）</p>
<p>top 当前屏幕顶端的像素距离</p>
<p>width 屏幕像素宽度</p>
<p>orientation 返回 Screen Orientation API中屏幕的朝向</p>
<h5 id="history对象"><a href="#history对象" class="headerlink" title="history对象"></a>history对象</h5><p>history对象表示当前窗口首次使用以来用户的导航历史记录。因为history是window的属性，所以每个window都有自己的</p>
<p>history对象。出于安全考虑，这个对象不会暴露用户访问过的 URL，但可以通过它在不知道实际URL的情况下前进和后退。</p>
<h6 id="导航"><a href="#导航" class="headerlink" title="导航"></a>导航</h6><p>go()方法可以在用户历史记录中沿任何方向导航，可以前进也可以后退。这个方法只接收一个参数，这个参数可以是一个整</p>
<p>数，表示前进或后退多少步。负值表示在历史记录中后退，而正值表示在历史记录中前进。</p>
<p>下面来看几个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 后退一页</span><br><span class="line">history.go(-1);</span><br><span class="line">// 前进一页</span><br><span class="line">history.go(1);</span><br><span class="line">// 前进两页</span><br><span class="line">history.go(2);</span><br></pre></td></tr></table></figure>

<p>go()有两个简写方法：back()和forward()。顾名思义，这两个方法模拟了浏览器的后退按钮和前进按钮：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//后退一页</span><br><span class="line">history.back();</span><br><span class="line">//前进一页</span><br><span class="line">history.forward();</span><br></pre></td></tr></table></figure>

<p>history对象还有一个length属性，表示历史记录中有多个条目。这个属性反映了历史记录的数量，包括可以前进和后退的页</p>
<p>面。对于窗口或标签页中加载的第一个页面，history.length等于1。</p>
<p>通过以下方法测试这个值，可以确定用户浏览器的起点是不是你的页面：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (history.length == 1)&#123;</span><br><span class="line">// 这是用户窗口中的第一个页面</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>history对象通常被用于创建“后退”和“前进”按钮，以及确定页面是不是用户历史记录中的第一条记录。</p>
<h2 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h2><h5 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h5><p>ajax全称“Asynchronous Javascript And XML”，是由javascript、xml、XMLHttpRequest组合在一起、能实现异步提交的功能，是</p>
<p>一种创建交互式网页应用的网页开发技术。</p>
<h5 id="前后台分离的项目架构"><a href="#前后台分离的项目架构" class="headerlink" title="前后台分离的项目架构"></a>前后台分离的项目架构</h5><p><img src="/.%5Cimg%5C42.png" alt="42"></p>
<h5 id="ajax包含哪些技术"><a href="#ajax包含哪些技术" class="headerlink" title="ajax包含哪些技术"></a>ajax包含哪些技术</h5><p>AJAX:(Asynchronous JavaScript and XML)并不是一项新技术,其实是多种技术的综合，包括Javascript、XHTML和CSS、</p>
<p>DOM、XML和XMLHttpRequest.</p>
<p>服务器端语言：服务器需要具备向浏览器发送特定信息的能力。Ajax与服务器端语言无关。</p>
<p>XML (eXtensible Markup Language，可扩展标记语言) 是一种描述数据的格式。AJAX程序需要某种格式化的格式来在服务器</p>
<p>和客户端之间传递信息，XML 是其中的一种选择。</p>
<h6 id="XHTML"><a href="#XHTML" class="headerlink" title="XHTML"></a>XHTML</h6><p>XHTML（eXtended Hypertext Markup Language,使用扩展超媒体标记语言）和 CSS（Cascading Style Sheet,级联样式单）标准化</p>
<p>呈现；</p>
<ul>
<li><p>DOM（Document Object Model,文档对象模型）实现动态显示和交互；</p>
</li>
<li><p>使用XMLHTTP组件XMLHttpRequest对象进行异步数据读取</p>
</li>
<li><p>使用JavaScript绑定和处理所有数据。</p>
</li>
</ul>
<h6 id="同步和异步"><a href="#同步和异步" class="headerlink" title="同步和异步"></a>同步和异步</h6><p>同步处理：我们通过实践触发ajax，请求服务器，在这个期间等待服务器处理请求，在这个期间客户端不能做任何处理。当 </p>
<p>ajax 执行完毕才会继续执行其他代码。</p>
<p>异步处理：就是我们通过事件触发到ajax，请求服务器，在这个期间无论服务器有没有响应，客户端的其他代码一样可以运</p>
<p>行。</p>
<h6 id="同步机制流程图"><a href="#同步机制流程图" class="headerlink" title="同步机制流程图"></a>同步机制流程图</h6><p><img src="/.%5Cimg%5C43.png" alt="43"></p>
<h6 id="Ajax异步交互原理"><a href="#Ajax异步交互原理" class="headerlink" title="Ajax异步交互原理"></a>Ajax异步交互原理</h6><p>AJAX采用异步交互过程。AJAX在用户与服务器之间引入一个中间媒介，从而消除了网络交互过程中的处理—等待—处理—</p>
<p>等待缺点。</p>
<p>用户的浏览器在执行任务时即装载了AJAX引擎。AJAX引擎用JavaScript语言编写，通常藏在一个隐藏的框架中。它负责编译</p>
<p>用户界面及与服务器之间的交互。</p>
<p>AJAX引擎允许用户与应用软件之间的交互过程异步进行，独立于用户与网络服务器间的交流。现在，可以用Javascript调用</p>
<p>AJAX引擎来代替产生一个HTTP的用户动作，内存中的数据编辑、页面导航、数据校验这些不需要重新载入整个页面的需求</p>
<p>可以交给AJAX来执行。 </p>
<p>使用AJAX，可以为开发人员、终端用户带来可见的便捷： </p>
<p><img src="/.%5Cimg%5C44.png" alt="44"></p>
<h5 id="XMLHttpRequst对象"><a href="#XMLHttpRequst对象" class="headerlink" title="XMLHttpRequst对象"></a>XMLHttpRequst对象</h5><p>XMLHttpRequest是XMLHTTP组件的对象，通过这个对象，AJAX可以像桌面应用程序一样只同服务器进行数据层面的交换，</p>
<p>而不用每次都刷新界面，也不用每次将数据处理的工作都交给服务器来做；这样既减轻了服务器负担又加快了响应速度、缩</p>
<p>短了用户等待的时间。 </p>
<p>XMLHttpRequest最早是在IE5中以ActiveX组件的形式实现的。非W3C标准。</p>
<p>创建XMLHttpRequest对象（由于非标准所以实现方法不统一）</p>
<ul>
<li><p>Internet Explorer把XMLHttpRequest实现为一个ActiveX对象</p>
</li>
<li><p>其他浏览器（Firefox、Safari、Opera…）把它实现为一个本地的JavaScript对象。</p>
</li>
</ul>
<p>XMLHttpRequest在不同浏览器上的实现是兼容的，所以可以用同样的方式访问XMLHttpRequest实例的属性和方法，而不论这</p>
<p>个实例创建的方法是什么。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//兼容性写法</span><br><span class="line">function   createXmlHttpRequest()&#123;</span><br><span class="line">   var xmlHttp;</span><br><span class="line">   try&#123;    //Firefox, Opera 8.0+, Safari</span><br><span class="line">           xmlHttp=new XMLHttpRequest();</span><br><span class="line">    &#125;catch (e)&#123;</span><br><span class="line">           try&#123;    //Internet Explorer</span><br><span class="line">                  xmlHttp=new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);</span><br><span class="line">            &#125;catch (e)&#123;</span><br><span class="line">                  try&#123;</span><br><span class="line">                          xmlHttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">                  &#125;catch (e)&#123;&#125;  </span><br><span class="line">           &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   return xmlHttp;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h5 id="XMLHttpRequest方法"><a href="#XMLHttpRequest方法" class="headerlink" title="XMLHttpRequest方法"></a>XMLHttpRequest方法</h5><p><img src="/.%5Cimg%5C45.png" alt="45"></p>
<h5 id="XMLHttpRequst对象属性"><a href="#XMLHttpRequst对象属性" class="headerlink" title="XMLHttpRequst对象属性"></a>XMLHttpRequst对象属性</h5><p><img src="/.%5Cimg%5C46.png" alt="46"></p>
<h5 id="发送请求"><a href="#发送请求" class="headerlink" title="发送请求"></a>发送请求</h5><p>利用XMLHttpRequest 实例与服务器进行异步通信包含以下3个关键部分：</p>
<ul>
<li><p>onreadystatechange 事件处理函数</p>
</li>
<li><p>open 方法</p>
</li>
<li><p>send 方法</p>
</li>
</ul>
<h6 id="open-method-url-asynch"><a href="#open-method-url-asynch" class="headerlink" title="open(method, url, asynch)"></a>open(method, url, asynch)</h6><ul>
<li><p>XMLHttpRequest 对象的 open 方法允许程序员用一个Ajax调用向服务器发送请求。</p>
</li>
<li><p>method：请求类型，类似 “GET”或”POST”的字符串。若只想从服务器检索一个文件，而不需要发送任何数据，使用</p>
<p>GET(可以在GET请求里通过附加在URL上的查询字符串来发送数据，不过数据大小限制为2000个字符)。若需要向服务器</p>
<p>发送数据，用POST。</p>
</li>
<li><p>在某些情况下，有些浏览器会把多个XMLHttpRequest请求的结果缓存在同一个URL。如果对每个请求的响应不同，这就会来不好的结果。把当前时间戳追加到URL的最后，就能确保URL的惟一性，从而避免浏览器缓存结果。</p>
</li>
</ul>
<h6 id="onreadystatechange"><a href="#onreadystatechange" class="headerlink" title="onreadystatechange:"></a>onreadystatechange:</h6><ul>
<li><p>该事件处理函数由服务器触发，而不是用户</p>
</li>
<li><p>在 Ajax 执行过程中，服务器会通知客户端当前的通信状态。这依靠更新 XMLHttpRequest 对象的 readyState 来实现。改变 readyState 属性是服务器对客户端连接操作的一种方式。</p>
</li>
<li><p>每次 readyState 属性的改变都会触发 readystatechange事件</p>
</li>
</ul>
<h6 id="参数设置"><a href="#参数设置" class="headerlink" title="参数设置"></a>参数设置</h6><ul>
<li><p>url：路径字符串，指向你所请求的服务器上的那个文件。可以是绝对路径或相对路径。</p>
</li>
<li><p>async：表示请求是否要异步传输，默认值为true(异步)。指定true，在读取后面的脚本之前，不需要等待服务器的相应。指定false，当脚本处理过程经过这点时，会停下来，一直等到Ajax请求执行完毕再继续执行。</p>
</li>
</ul>
<h5 id="send方法"><a href="#send方法" class="headerlink" title="send方法"></a>send方法</h5><p>send(data)：</p>
<ul>
<li><p>open 方法定义了 Ajax 请求的一些细节。send 方法可为已经待命的请求发送指令</p>
</li>
<li><p>data：将要传递给服务器的字符串。</p>
</li>
<li><p>若选用的是 GET 请求，则不会发送任何数据， 给 send 方法传递 null 即可：request.send(null);</p>
</li>
<li><p>当向send()方法提供参数时，要确保open()中指定的方法是POST，如果没有数据作为请求体的一部分发送，则使用null.</p>
</li>
</ul>
<p>完整的 Ajax 的 GET 请求示例：</p>
<p><img src="/.%5Cimg%5C47.png" alt="47"></p>
<p><strong>注意：使用get请求时send方法参数时null,如果传值的话，服务器也接收不到</strong></p>
<h5 id="发送Post请求"><a href="#发送Post请求" class="headerlink" title="发送Post请求"></a>发送Post请求</h5><p>setRequestHeader(header,value)</p>
<p>当浏览器向服务器请求页面时，它会伴随这个请求发送一组首部信息。这些首部信息是一系列描述请求的元数据(metadata)。</p>
<p>首部信息用来声明一个请求是 GET 还是 POST。</p>
<p>Ajax 请求中，发送首部信息的工作可以由 setRequestHeader完成</p>
<p>参数header： 首部的名字;  参数value：首部的值。</p>
<p>如果用 POST 请求向服务器发送数据，需要将 “Content-type” 的首部设置为 “application&#x2F;x-www-form-urlencoded”.它会告知服务</p>
<p>器正在发送数据，并且数据已经符合URL编码了。</p>
<p>该方法必须在open()之后才能调用</p>
<p>完整的 Ajax 的 POST 请求示例：</p>
<p><img src="/.%5Cimg%5C48.png" alt="48"></p>
<h5 id="接收数据的方法和属性"><a href="#接收数据的方法和属性" class="headerlink" title="接收数据的方法和属性"></a>接收数据的方法和属性</h5><p>用XMLHttpRequest的方法可向服务器发送请求。在Ajax处理过程中，XMLHttpRequest的如下属性可被服务器更改：</p>
<ul>
<li><p>readyState</p>
</li>
<li><p>status</p>
</li>
<li><p>responseText</p>
</li>
<li><p>responseXML</p>
</li>
</ul>
<h6 id="readyState（请求状态）"><a href="#readyState（请求状态）" class="headerlink" title="readyState（请求状态）"></a>readyState（请求状态）</h6><p>readyState 属性表示Ajax请求的当前状态。它的值用数字代表。</p>
<p>1）0 代表未初始化。 还没有调用 open 方法</p>
<p>2）1 代表正在加载。 open 方法已被调用，但 send 方法还没有被调用</p>
<p>3）2 代表已加载完毕。send 已被调用。请求已经开始</p>
<p>4）3 代表交互中。服务器正在发送响应</p>
<p>5）4 代表完成。响应发送完毕</p>
<p>每次 readyState 值的改变，都会触发 readystatechange 事件。如果把 onreadystatechange 事件处理函数赋给一个函数，那么每次 </p>
<p>readyState 值的改变都会引发该函数的执行。</p>
<p>readyState 值的变化会因浏览器的不同而有所差异。但是，当请求结束的时候，每个浏览器都会把 readyState 的值统一设为 4</p>
<h6 id="status（服务器状态码）"><a href="#status（服务器状态码）" class="headerlink" title="status（服务器状态码）"></a>status（服务器状态码）</h6><p>服务器发送的每一个响应也都带有首部信息。三位数的状态码是服务器发送的响应中最重要的首部信息，并且属于超文本传</p>
<p>输协议中的一部分。</p>
<p>在 XMLHttpRequest 对象中，服务器发送的状态码都保存在 status 属性里。通过把这个值和 200 或 304 比较，可以确保服务器</p>
<p>是否已发送了一个成功的响应。</p>
<p>常用状态码及其含义：</p>
<p>1）404 没找到页面(not found)</p>
<p>2）403 禁止访问(forbidden)</p>
<p>3）500 内部服务器出错(internal service error)</p>
<p>4）200 一切正常(ok)</p>
<p>5）304 没有被修改(not modified)(服务器返回304状态，表示源文件没有被修改 )</p>
<h6 id="responseText"><a href="#responseText" class="headerlink" title="responseText"></a>responseText</h6><p>XMLHttpRequest 的 responseText 属性包含了从服务器发送的数据。它是一个HTML,XML或普通文本，这取决于服务器发送的</p>
<p>内容。</p>
<p>当 readyState 属性值变成 4 时, responseText 属性才可用，表明 Ajax 请求已经结束。</p>
<p><img src="/.%5Cimg%5C49.png" alt="49"></p>
<h6 id="两种数据格式"><a href="#两种数据格式" class="headerlink" title="两种数据格式"></a>两种数据格式</h6><p>XMLHttpRequest对成功返回的信息有两种处理方式：</p>
<p>1）responseText：将传回的信息当字符串使用；</p>
<p>2）responseXML：将传回的信息当XML文档使用，可以用DOM处理。</p>
<p>如果服务器返回的是 XML， 那么数据将储存在 responseXML 属性中</p>
<p>只用服务器发送了带有正确首部信息的数据时， responseXML 属性才是可用的。 MIME 类型必须为 text&#x2F;xml </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//处理返回信息的函数</span><br><span class="line">function processResponse()&#123;</span><br><span class="line">   if(XMLHttpReq.readyState==4)&#123; //判断对象状态 4代表完成</span><br><span class="line">           if(XMLHttpReq.status==200)&#123; //信息已经成功返回，开始处理信息</span><br><span class="line">                  document.getElementById(&quot;chatArea&quot;).value=XMLHttpReq.responseText;</span><br><span class="line">          &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="get和post区别"><a href="#get和post区别" class="headerlink" title="get和post区别"></a>get和post区别</h5><p><img src="/.%5Cimg%5C50.png" alt="50"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">小米</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2019/05/25/JavaScript%E8%AE%B2%E4%B9%89/">http://example.com/2019/05/25/JavaScript%E8%AE%B2%E4%B9%89/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">xiaomi♊blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a></div><div class="post_share"><div class="social-share" data-image="https://img2.baidu.com/it/u=544283419,3814727158&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=477&amp;h=307" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/05/25/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/"><img class="prev-cover" src="https://img2.baidu.com/it/u=3084699896,2898485829&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=650&amp;h=366" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">数据分析</div></div></a></div><div class="next-post pull-right"><a href="/2016/05/25/test/"><img class="next-cover" src="https://img2.baidu.com/it/u=3959051088,2292928182&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=866&amp;h=500" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">test</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2019/05/27/JavaScript%E9%9D%A2%E8%AF%95%E9%A2%98/" title="javascript面试题"><img class="cover" src="https://img2.baidu.com/it/u=544283419,3814727158&fm=253&fmt=auto&app=120&f=JPEG?w=477&h=307" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-05-27</div><div class="title">javascript面试题</div></div></a></div><div><a href="/2019/06/07/JavaScript%E7%BB%A7%E6%89%BF/" title="JavaScript继承"><img class="cover" src="https://img2.baidu.com/it/u=544283419,3814727158&fm=253&fmt=auto&app=120&f=JPEG?w=477&h=307" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-06-07</div><div class="title">JavaScript继承</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/portraits.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">小米</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">54</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A2%E7%B4%A2JavaScript"><span class="toc-number">1.</span> <span class="toc-text">探索JavaScript</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#JavaScript%E7%AE%80%E4%BB%8B"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">JavaScript简介</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JavaScript%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-number">1.0.0.2.</span> <span class="toc-text">JavaScript组成部分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JavaScript%E4%B8%A4%E7%A7%8D%E5%BC%95%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="toc-number">1.0.0.3.</span> <span class="toc-text">JavaScript两种引入方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JavaScript%E7%9A%84%E4%B8%A4%E7%A7%8D%E8%B0%83%E8%AF%95%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.0.0.4.</span> <span class="toc-text">JavaScript的两种调试模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JavaScript%E4%B8%89%E7%A7%8D%E8%BE%93%E5%87%BA%E6%96%B9%E5%BC%8F"><span class="toc-number">1.0.0.5.</span> <span class="toc-text">JavaScript三种输出方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JavaScript%E4%B8%A4%E7%A7%8D%E4%BA%A4%E4%BA%92%E6%96%B9%E5%BC%8F"><span class="toc-number">1.0.0.6.</span> <span class="toc-text">JavaScript两种交互方式</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%8D%E6%B3%95%E7%BB%93%E6%9E%84"><span class="toc-number">2.</span> <span class="toc-text">词法结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%89%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99"><span class="toc-number">2.0.0.1.</span> <span class="toc-text">1）区分大小写</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%89%E6%B3%A8%E9%87%8A"><span class="toc-number">2.0.0.2.</span> <span class="toc-text">2）注释</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%89%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="toc-number">2.0.0.3.</span> <span class="toc-text">3）字面量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%EF%BC%89%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-number">2.0.0.4.</span> <span class="toc-text">4）标识符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%EF%BC%89%E5%85%B3%E9%94%AE%E5%AD%97%E5%92%8C%E4%BF%9D%E7%95%99%E5%AD%97"><span class="toc-number">2.0.0.5.</span> <span class="toc-text">5）关键字和保留字</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%EF%BC%89%E5%8F%AF%E9%80%89%E7%9A%84%E5%88%86%E5%8F%B7"><span class="toc-number">2.0.0.6.</span> <span class="toc-text">6）可选的分号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%EF%BC%89%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.0.0.7.</span> <span class="toc-text">7）严格模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%EF%BC%89%E8%AF%BE%E5%A0%82%E7%BB%83%E4%B9%A0"><span class="toc-number">2.0.0.8.</span> <span class="toc-text">8）课堂练习</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E3%80%81%E5%80%BC%E5%92%8C%E5%8F%98%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">类型、值和变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%89%E6%95%B0%E5%80%BC"><span class="toc-number">3.0.0.1.</span> <span class="toc-text">1）数值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%89%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.0.0.2.</span> <span class="toc-text">2）字符串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%89%E5%B8%83%E5%B0%94%E5%80%BC"><span class="toc-number">3.0.0.3.</span> <span class="toc-text">3）布尔值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%EF%BC%89null%E5%92%8Cundefined"><span class="toc-number">3.0.0.4.</span> <span class="toc-text">4）null和undefined</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%EF%BC%89%E5%85%A8%E5%B1%80%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.0.0.5.</span> <span class="toc-text">5）全局对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%EF%BC%89%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%95%B0%E7%BB%84"><span class="toc-number">3.0.0.6.</span> <span class="toc-text">6）对象和数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%EF%BC%89%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E4%B8%8E%E8%B5%8B%E5%80%BC"><span class="toc-number">3.0.0.7.</span> <span class="toc-text">7）变量声明与赋值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%EF%BC%89%E8%AF%BE%E5%A0%82%E7%BB%83%E4%B9%A0-1"><span class="toc-number">3.0.0.8.</span> <span class="toc-text">8）课堂练习</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8E%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">4.</span> <span class="toc-text">表达式与操作符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">4.0.1.</span> <span class="toc-text">1）表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%89%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">4.0.1.1.</span> <span class="toc-text">1）函数定义表达式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%89%E5%B1%9E%E6%80%A7%E8%AE%BF%E9%97%AE%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">4.0.1.2.</span> <span class="toc-text">2）属性访问表达式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.</span> <span class="toc-text">2）运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%89%E4%B8%80%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.1.</span> <span class="toc-text">1）一元运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%881%EF%BC%89delete-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.1.1.</span> <span class="toc-text">（1）delete 运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%882%EF%BC%89void-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.1.2.</span> <span class="toc-text">（2）void 运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%883%EF%BC%89typeof-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.1.3.</span> <span class="toc-text">（3）typeof 运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%884%EF%BC%89-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.1.4.</span> <span class="toc-text">（4）++ -- 运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%885%EF%BC%89-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.1.5.</span> <span class="toc-text">（5）+ - 运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%886%EF%BC%89-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.1.6.</span> <span class="toc-text">（6）~ ! 运算符</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%89%E4%B9%98%E6%80%A7%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.2.</span> <span class="toc-text">2）乘性运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%881%EF%BC%89-%E4%B9%98%E6%B3%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.2.1.</span> <span class="toc-text">（1）* 乘法运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%882%EF%BC%89-%E9%99%A4%E6%B3%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.2.2.</span> <span class="toc-text">（2）&#x2F; 除法运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%883%EF%BC%89-%E6%B1%82%E6%A8%A1%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.2.3.</span> <span class="toc-text">（3）% 求模运算符</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%89%E5%8A%A0%E6%80%A7%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.3.</span> <span class="toc-text">3）加性运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8A%A0%E6%B3%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.3.1.</span> <span class="toc-text">+ 加法运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%87%8F%E6%B3%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.3.2.</span> <span class="toc-text">- 减法运算符</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%EF%BC%89%E7%AD%89%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.4.</span> <span class="toc-text">4）等值运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.4.1.</span> <span class="toc-text">&#x3D;&#x3D; !&#x3D; 运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6-1"><span class="toc-number">4.0.2.4.2.</span> <span class="toc-text">&#x3D;&#x3D;&#x3D; !&#x3D;&#x3D; 运算符</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%EF%BC%89%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.5.</span> <span class="toc-text">5）关系运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#lt-gt-lt-gt-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.5.1.</span> <span class="toc-text">&lt; &gt; &lt;&#x3D; &gt;&#x3D; 运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#in-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.5.2.</span> <span class="toc-text">in 运算符</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#instanceof-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.5.3.</span> <span class="toc-text">instanceof 运算符</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%EF%BC%89%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.6.</span> <span class="toc-text">6）逻辑运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#amp-amp-%E9%80%BB%E8%BE%91%E4%B8%8E"><span class="toc-number">4.0.2.6.1.</span> <span class="toc-text">&amp;&amp; 逻辑与</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E6%88%96"><span class="toc-number">4.0.2.6.2.</span> <span class="toc-text">|| 逻辑或</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E9%9D%9E"><span class="toc-number">4.0.2.6.3.</span> <span class="toc-text">!  逻辑非</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%EF%BC%89%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.7.</span> <span class="toc-text">7）位运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%8C%89%E4%BD%8D%E9%9D%9E"><span class="toc-number">4.0.2.7.1.</span> <span class="toc-text">~ 按位非</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#amp-%E6%8C%89%E4%BD%8D%E4%B8%8E"><span class="toc-number">4.0.2.7.2.</span> <span class="toc-text">&amp; 按位与</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%8C%89%E4%BD%8D%E6%88%96"><span class="toc-number">4.0.2.7.3.</span> <span class="toc-text">| 按位或</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%8C%89%E4%BD%8D%E5%BC%82%E6%88%96"><span class="toc-number">4.0.2.7.4.</span> <span class="toc-text">^ 按位异或</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#lt-lt-%E5%B7%A6%E7%A7%BB"><span class="toc-number">4.0.2.7.5.</span> <span class="toc-text">&lt;&lt; 左移</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#gt-gt-%E6%9C%89%E7%AC%A6%E5%8F%B7%E7%9A%84%E5%8F%B3%E7%A7%BB"><span class="toc-number">4.0.2.7.6.</span> <span class="toc-text">&gt;&gt; 有符号的右移</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#gt-gt-gt-%E6%97%A0%E7%AC%A6%E5%8F%B7%E7%9A%84%E5%8F%B3%E7%A7%BB"><span class="toc-number">4.0.2.7.7.</span> <span class="toc-text">&gt;&gt;&gt; 无符号的右移</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%EF%BC%89%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.8.</span> <span class="toc-text">8）赋值运算符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%EF%BC%89%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.9.</span> <span class="toc-text">9）条件运算符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%EF%BC%89%E9%80%97%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.0.2.10.</span> <span class="toc-text">10）逗号运算符</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11%EF%BC%89%E4%BD%9C%E4%B8%9A"><span class="toc-number">4.0.3.</span> <span class="toc-text">11）作业</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.</span> <span class="toc-text">语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.0.1.</span> <span class="toc-text">1)条件语句</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#if-else-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.0.1.1.</span> <span class="toc-text">if-else 语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#switch-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.0.1.2.</span> <span class="toc-text">switch 语句</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E5%BE%AA%E7%8E%AF"><span class="toc-number">5.0.2.</span> <span class="toc-text">2）循环</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#while-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.0.2.1.</span> <span class="toc-text">while 语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#do-while-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.0.2.2.</span> <span class="toc-text">do-while 语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#for-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.0.2.3.</span> <span class="toc-text">for 语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#for-in-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.0.2.4.</span> <span class="toc-text">for-in 语句</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E8%B7%B3%E8%BD%AC"><span class="toc-number">5.0.3.</span> <span class="toc-text">3）跳转</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#break-%E5%92%8C-continue-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.0.3.1.</span> <span class="toc-text">break 和 continue 语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#return-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.0.3.2.</span> <span class="toc-text">return 语句</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%BC%89%E5%85%B6%E4%BB%96"><span class="toc-number">5.0.4.</span> <span class="toc-text">4）其他</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#with-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.0.4.1.</span> <span class="toc-text">with 语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="toc-number">5.0.4.2.</span> <span class="toc-text">代码块</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%EF%BC%89%E8%AF%BE%E5%A0%82%E7%BB%83%E4%B9%A0"><span class="toc-number">5.0.5.</span> <span class="toc-text">5）课堂练习</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.</span> <span class="toc-text">对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%89%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.0.0.1.</span> <span class="toc-text">1）创建对象</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="toc-number">6.0.0.1.1.</span> <span class="toc-text">对象字面量</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8New%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.0.0.1.2.</span> <span class="toc-text">使用New创建对象</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Object-create"><span class="toc-number">6.0.0.1.3.</span> <span class="toc-text">Object.create()</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%89%E5%8E%9F%E5%9E%8B"><span class="toc-number">6.0.0.2.</span> <span class="toc-text">2）原型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%89%E6%9F%A5%E8%AF%A2%E6%88%96%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="toc-number">6.0.0.3.</span> <span class="toc-text">3）查询或设置属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%EF%BC%89%E5%B1%9E%E6%80%A7%E7%9A%84%E8%AE%BF%E9%97%AE%E9%94%99%E8%AF%AF"><span class="toc-number">6.0.0.4.</span> <span class="toc-text">4）属性的访问错误</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%EF%BC%89%E5%88%A0%E9%99%A4%E5%B1%9E%E6%80%A7"><span class="toc-number">6.0.0.5.</span> <span class="toc-text">5）删除属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%EF%BC%89%E6%A3%80%E6%B5%8B%E5%B1%9E%E6%80%A7"><span class="toc-number">6.0.0.6.</span> <span class="toc-text">6）检测属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%EF%BC%89%E6%9E%9A%E4%B8%BE%E5%B1%9E%E6%80%A7"><span class="toc-number">6.0.0.7.</span> <span class="toc-text">7）枚举属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%EF%BC%89%E5%B1%9E%E6%80%A7%E7%9A%84-getter-%E5%92%8C-setter"><span class="toc-number">6.0.0.8.</span> <span class="toc-text">8）属性的 getter 和 setter</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%EF%BC%89%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%B9%E8%B1%A1%EF%BC%88JSON%EF%BC%89"><span class="toc-number">6.0.0.9.</span> <span class="toc-text">9）序列化对象（JSON）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%EF%BC%89%E8%AF%BE%E5%A0%82%E7%BB%83%E4%B9%A0"><span class="toc-number">6.0.0.10.</span> <span class="toc-text">10）课堂练习</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.</span> <span class="toc-text">Math对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%B0%8F%E6%95%B0%E7%9A%84%E5%9B%9B%E8%88%8D%E4%BA%94%E5%85%A5"><span class="toc-number">7.0.0.1.</span> <span class="toc-text">实现小数的四舍五入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-number">7.0.0.2.</span> <span class="toc-text">Math对象属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-number">7.0.0.3.</span> <span class="toc-text">Math对象方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1%E7%9A%84floor-%E6%96%B9%E6%B3%95"><span class="toc-number">7.0.0.4.</span> <span class="toc-text">Math对象的floor() 方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1%E7%9A%84ceil-%E6%96%B9%E6%B3%95"><span class="toc-number">7.0.0.5.</span> <span class="toc-text">Math对象的ceil() 方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1%E7%9A%84round-%E6%96%B9%E6%B3%95"><span class="toc-number">7.0.0.6.</span> <span class="toc-text">Math对象的round() 方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1%E7%9A%84min-%E6%96%B9%E6%B3%95"><span class="toc-number">7.0.0.7.</span> <span class="toc-text">Math对象的min() 方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1%E7%9A%84max-%E6%96%B9%E6%B3%95"><span class="toc-number">7.0.0.8.</span> <span class="toc-text">Math对象的max() 方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1%E7%9A%84abs-%E6%96%B9%E6%B3%95"><span class="toc-number">7.0.0.9.</span> <span class="toc-text">Math对象的abs() 方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1%E7%9A%84pow-%E6%96%B9%E6%B3%95"><span class="toc-number">7.0.0.10.</span> <span class="toc-text">Math对象的pow() 方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">7.0.0.11.</span> <span class="toc-text">随机数</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#String%E5%AF%B9%E8%B1%A1"><span class="toc-number">8.</span> <span class="toc-text">String对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%89length-%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6"><span class="toc-number">8.0.0.1.</span> <span class="toc-text">1）length:字符串长度</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%89%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">8.0.0.2.</span> <span class="toc-text">2）截取字符串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%89%E6%8B%86%E5%88%86%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">8.0.0.3.</span> <span class="toc-text">3）拆分字符串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%EF%BC%89%E6%90%9C%E7%B4%A2%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">8.0.0.4.</span> <span class="toc-text">4）搜索字符串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%EF%BC%89%E4%BB%8E%E5%90%8E%E5%90%91%E5%89%8D%E6%90%9C%E7%B4%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%82"><span class="toc-number">8.0.0.5.</span> <span class="toc-text">5）从后向前搜索字符串。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%EF%BC%89%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B7%B2%E9%82%A3%E4%BA%9B%E5%AD%97%E7%AC%A6%E5%BC%80%E5%A4%B4%E6%88%96%E7%BB%93%E5%B0%BE"><span class="toc-number">8.0.0.6.</span> <span class="toc-text">6）字符串已那些字符开头或结尾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%EF%BC%89%E6%9B%BF%E6%8D%A2%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D%E7%9A%84%E5%AD%90%E4%B8%B2"><span class="toc-number">8.0.0.7.</span> <span class="toc-text">7）替换与正则表达式匹配的子串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%EF%BC%89%E6%8A%8A%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%B0%8F%E5%86%99"><span class="toc-number">8.0.0.8.</span> <span class="toc-text">8）把字符串转换为小写</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%EF%BC%89%E6%8A%8A%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%A4%A7%E5%86%99"><span class="toc-number">8.0.0.9.</span> <span class="toc-text">9）把字符串转换为大写</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%EF%BC%89%E8%BF%94%E5%9B%9E%E5%9C%A8%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE%E7%9A%84%E5%AD%97%E7%AC%A6"><span class="toc-number">8.0.0.10.</span> <span class="toc-text">10）返回在指定位置的字符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11%EF%BC%89%E4%BB%8E%E8%B5%B7%E5%A7%8B%E7%B4%A2%E5%BC%95%E5%8F%B7%E6%8F%90%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E6%8C%87%E5%AE%9A%E6%95%B0%E7%9B%AE%E7%9A%84%E5%AD%97%E7%AC%A6"><span class="toc-number">8.0.0.11.</span> <span class="toc-text">11）从起始索引号提取字符串中指定数目的字符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12%EF%BC%89%E5%8E%BB%E9%99%A4%E7%A9%BA%E6%A0%BC"><span class="toc-number">8.0.0.12.</span> <span class="toc-text">12）去除空格</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#13-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A1%AB%E5%85%85"><span class="toc-number">8.0.0.13.</span> <span class="toc-text">13.字符串填充</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RegExp%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.</span> <span class="toc-text">RegExp对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%89%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">9.0.0.1.</span> <span class="toc-text">1）正则表达式的定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%89RegExp-%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7"><span class="toc-number">9.0.0.2.</span> <span class="toc-text">2）RegExp 实例属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%89RegExp-%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="toc-number">9.0.0.3.</span> <span class="toc-text">3）RegExp 实例方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%EF%BC%89RegExp-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%B1%9E%E6%80%A7"><span class="toc-number">9.0.0.4.</span> <span class="toc-text">4）RegExp 构造函数属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%EF%BC%89%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-number">9.0.0.5.</span> <span class="toc-text">5）模式的局限性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%EF%BC%89%E5%B8%B8%E7%94%A8%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">9.0.0.6.</span> <span class="toc-text">6）常用的正则表达式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%EF%BC%89%E8%AF%BE%E5%A0%82%E7%BB%83%E4%B9%A0"><span class="toc-number">9.0.0.7.</span> <span class="toc-text">7）课堂练习</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">10.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%89%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="toc-number">10.0.0.1.</span> <span class="toc-text">1）创建数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%89%E6%95%B0%E7%BB%84%E7%9A%84%E8%AF%BB%E5%86%99"><span class="toc-number">10.0.0.2.</span> <span class="toc-text">2）数组的读写</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%89%E7%A8%80%E7%96%8F%E6%95%B0%E7%BB%84"><span class="toc-number">10.0.0.3.</span> <span class="toc-text">3）稀疏数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%EF%BC%89%E6%95%B0%E7%BB%84%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="toc-number">10.0.0.4.</span> <span class="toc-text">4）数组的长度</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%EF%BC%89%E6%B7%BB%E5%8A%A0%E6%88%96%E5%88%A0%E9%99%A4%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-number">10.0.0.5.</span> <span class="toc-text">5）添加或删除数组元素</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%EF%BC%89%E6%95%B0%E7%BB%84%E8%BF%AD%E4%BB%A3"><span class="toc-number">10.0.0.6.</span> <span class="toc-text">6）数组迭代</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%EF%BC%89%E6%95%B0%E7%BB%84%E6%A3%80%E6%B5%8B"><span class="toc-number">10.0.0.7.</span> <span class="toc-text">7）数组检测</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%EF%BC%89%E5%8F%8D%E8%BD%AC%E6%95%B0%E7%BB%84"><span class="toc-number">10.0.0.8.</span> <span class="toc-text">8）反转数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%EF%BC%89%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F"><span class="toc-number">10.0.0.9.</span> <span class="toc-text">9）数组排序</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%EF%BC%89%E6%95%B0%E7%BB%84%E5%90%88%E5%B9%B6"><span class="toc-number">10.0.0.10.</span> <span class="toc-text">10）数组合并</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11%EF%BC%89%E6%95%B0%E7%BB%84%E7%9A%84%E6%88%AA%E5%8F%96"><span class="toc-number">10.0.0.11.</span> <span class="toc-text">11）数组的截取</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12%EF%BC%89%E6%95%B0%E7%BB%84%E7%B4%A2%E5%BC%95"><span class="toc-number">10.0.0.12.</span> <span class="toc-text">12）数组索引</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#13%EF%BC%89%E6%95%B0%E7%BB%84%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">10.0.0.13.</span> <span class="toc-text">13）数组转字符串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#14%EF%BC%89%E8%AF%BE%E5%A0%82%E7%BB%83%E4%B9%A0"><span class="toc-number">10.0.0.14.</span> <span class="toc-text">14）课堂练习</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">11.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">11.0.0.1.</span> <span class="toc-text">定义函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">11.0.0.2.</span> <span class="toc-text">变量和作用域</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">11.0.0.3.</span> <span class="toc-text">嵌套作用域</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%9C%E4%B8%BA%E5%80%BC%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">11.0.0.4.</span> <span class="toc-text">作为值的函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">11.0.0.5.</span> <span class="toc-text">箭头函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">11.0.0.6.</span> <span class="toc-text">调用函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E5%8F%82%E6%95%B0%E4%B8%8E%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">11.0.0.7.</span> <span class="toc-text">可选参数与默认值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">11.0.0.8.</span> <span class="toc-text">闭包</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">11.0.0.8.1.</span> <span class="toc-text">变量作用域</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BB%8E%E5%A4%96%E9%83%A8%E8%8E%B7%E5%8F%96%E5%86%85%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">11.0.0.8.2.</span> <span class="toc-text">如何从外部获取内部变量</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E7%9A%84%E7%94%A8%E9%80%94"><span class="toc-number">11.0.0.8.3.</span> <span class="toc-text">闭包的用途</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="toc-number">11.0.0.9.</span> <span class="toc-text">立即执行函数</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM"><span class="toc-number">12.</span> <span class="toc-text">DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">12.0.0.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86dom%E6%A0%91%E5%92%8Cdom%E8%8A%82%E7%82%B9"><span class="toc-number">12.0.0.2.</span> <span class="toc-text">认识dom树和dom节点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Dom%E6%A0%91"><span class="toc-number">12.0.0.3.</span> <span class="toc-text">Dom树</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DOM%E8%8A%82%E7%82%B9%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="toc-number">12.0.0.4.</span> <span class="toc-text">DOM节点的分类：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%9A"><span class="toc-number">12.0.0.5.</span> <span class="toc-text">节点之间的关系：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E8%8A%82%E7%82%B9"><span class="toc-number">12.0.0.6.</span> <span class="toc-text">访问节点</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%9A%E8%BF%87ID%E5%90%8D%E6%9F%A5%E6%89%BEdom%E5%85%83%E7%B4%A0"><span class="toc-number">12.0.0.6.1.</span> <span class="toc-text">通过ID名查找dom元素</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%A0%87%E7%AD%BE%E5%90%8D%E6%89%BE%E5%85%83%E7%B4%A0"><span class="toc-number">12.0.0.6.2.</span> <span class="toc-text">通过标签名找元素</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%9A%E8%BF%87name%E5%B1%9E%E6%80%A7%E6%89%BE%E5%85%83%E7%B4%A0"><span class="toc-number">12.0.0.6.3.</span> <span class="toc-text">通过name属性找元素</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%8C%87%E5%AE%9A%E7%9A%84%E7%B1%BB%E5%90%8D%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0"><span class="toc-number">12.0.0.6.4.</span> <span class="toc-text">通过指定的类名获取元素</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%A0%B7%E5%BC%8F%E6%9F%A5%E6%89%BE%E5%8D%95%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="toc-number">12.0.0.6.5.</span> <span class="toc-text">通过样式查找单个元素</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%A0%B7%E5%BC%8F%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E5%85%83%E7%B4%A0"><span class="toc-number">12.0.0.6.6.</span> <span class="toc-text">通过样式获取所有元素</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Document%E7%B1%BB%E5%9E%8B"><span class="toc-number">12.0.0.7.</span> <span class="toc-text">Document类型</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E7%9A%84%E5%AD%90%E8%8A%82%E7%82%B9"><span class="toc-number">12.0.0.7.1.</span> <span class="toc-text">文档的子节点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E4%BF%A1%E6%81%AF"><span class="toc-number">12.0.0.7.2.</span> <span class="toc-text">文档信息</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E8%8A%82%E7%82%B9%E5%86%85%E5%AE%B9"><span class="toc-number">12.0.0.7.3.</span> <span class="toc-text">更改节点内容</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E7%9A%84%E8%A1%8C%E5%86%85%E6%A0%B7%E5%BC%8F"><span class="toc-number">12.0.0.7.4.</span> <span class="toc-text">元素的行内样式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%85%83%E7%B4%A0%E7%9A%84%E8%A1%8C%E5%86%85%E6%A0%B7%E5%BC%8F"><span class="toc-number">12.0.0.7.5.</span> <span class="toc-text">设置元素的行内样式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84html%E5%B1%9E%E6%80%A7"><span class="toc-number">12.0.0.7.6.</span> <span class="toc-text">获取元素的html属性</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%BF%AE%E6%94%B9%E5%85%83%E7%B4%A0%E7%9A%84html%E5%B1%9E%E6%80%A7"><span class="toc-number">12.0.0.7.7.</span> <span class="toc-text">设置修改元素的html属性</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Node-%E5%B1%9E%E6%80%A7%E6%A6%82%E8%BF%B0"><span class="toc-number">12.0.0.8.</span> <span class="toc-text">Node 属性概述</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#nodeName-%E5%92%8C-nodeValue-%E5%B1%9E%E6%80%A7"><span class="toc-number">12.0.0.8.1.</span> <span class="toc-text">nodeName 和 nodeValue 属性</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%B1%9E%E6%80%A7%E8%8A%82%E7%82%B9"><span class="toc-number">12.0.0.8.2.</span> <span class="toc-text">创建属性节点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E5%B1%9E%E6%80%A7%E5%80%BC"><span class="toc-number">12.0.0.8.3.</span> <span class="toc-text">读取属性值</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7%E5%80%BC"><span class="toc-number">12.0.0.8.4.</span> <span class="toc-text">设置属性值</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%B1%9E%E6%80%A7"><span class="toc-number">12.0.0.8.5.</span> <span class="toc-text">删除属性</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%8A%82%E7%82%B9"><span class="toc-number">12.0.0.8.6.</span> <span class="toc-text">创建节点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E8%8A%82%E7%82%B9"><span class="toc-number">12.0.0.8.7.</span> <span class="toc-text">添加节点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2%E8%8A%82%E7%82%B9"><span class="toc-number">12.0.0.8.8.</span> <span class="toc-text">替换节点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="toc-number">12.0.0.8.9.</span> <span class="toc-text">自定义属性</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E5%85%B3%E7%B3%BB"><span class="toc-number">12.0.0.9.</span> <span class="toc-text">节点关系</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AF%86%E5%88%AB%E7%A9%BA%E7%99%BD%E6%96%87%E6%9C%AC"><span class="toc-number">12.0.0.9.1.</span> <span class="toc-text">识别空白文本</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%8D%E8%AF%86%E5%88%AB%E7%A9%BA%E7%99%BD%E6%96%87%E6%9C%AC"><span class="toc-number">12.0.0.9.2.</span> <span class="toc-text">不识别空白文本</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6"><span class="toc-number">13.</span> <span class="toc-text">事件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#DOM%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">13.0.0.1.</span> <span class="toc-text">DOM事件的定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DOM%E4%BA%8B%E4%BB%B6%E6%B5%81"><span class="toc-number">13.0.0.2.</span> <span class="toc-text">DOM事件流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DOM%E6%A0%87%E5%87%86%E8%A7%84%E5%AE%9A%E4%BA%8B%E4%BB%B6%E6%B5%81%E5%8C%85%E6%8B%AC%E4%B8%89%E4%B8%AA%E9%98%B6%E6%AE%B5%EF%BC%9A"><span class="toc-number">13.0.0.3.</span> <span class="toc-text">DOM标准规定事件流包括三个阶段：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="toc-number">13.0.0.4.</span> <span class="toc-text">事件对象</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%EF%BC%89%E6%A0%87%E5%87%86%E5%B1%9E%E6%80%A7%EF%BC%9A"><span class="toc-number">13.0.0.4.1.</span> <span class="toc-text">1）标准属性：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%EF%BC%89%E9%BC%A0%E6%A0%87-x2F-%E9%94%AE%E7%9B%98%E5%B1%9E%E6%80%A7"><span class="toc-number">13.0.0.4.2.</span> <span class="toc-text">2）鼠标&#x2F;键盘属性</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%85%E8%81%94%E6%A8%A1%E5%BC%8F"><span class="toc-number">13.0.0.5.</span> <span class="toc-text">内联模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E6%A8%A1%E5%9E%8B"><span class="toc-number">13.0.0.6.</span> <span class="toc-text">脚本模型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%87%BD%E6%95%B0"><span class="toc-number">13.0.0.7.</span> <span class="toc-text">事件函数</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6"><span class="toc-number">13.0.0.7.1.</span> <span class="toc-text">鼠标事件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="toc-number">13.0.0.7.2.</span> <span class="toc-text">键盘事件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E4%BA%8B%E4%BB%B6"><span class="toc-number">13.0.0.7.3.</span> <span class="toc-text">表单事件</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E5%92%8C%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6"><span class="toc-number">13.0.0.8.</span> <span class="toc-text">绑定和删除事件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%BA%8B%E4%BB%B6"><span class="toc-number">13.0.0.9.</span> <span class="toc-text">其他事件</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BOM"><span class="toc-number">14.</span> <span class="toc-text">BOM</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">14.0.0.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#BOM%E7%BB%84%E6%88%90"><span class="toc-number">14.0.0.2.</span> <span class="toc-text">BOM组成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Window%E5%AF%B9%E8%B1%A1"><span class="toc-number">14.0.0.3.</span> <span class="toc-text">Window对象</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Global%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">14.0.0.3.1.</span> <span class="toc-text">Global作用域</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E4%B8%8E%E6%89%93%E5%BC%80%E6%96%B0%E7%AA%97%E5%8F%A3"><span class="toc-number">14.0.0.3.2.</span> <span class="toc-text">导航与打开新窗口</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="toc-number">14.0.0.4.</span> <span class="toc-text">定时器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%99%8D%E9%A2%91"><span class="toc-number">14.0.0.5.</span> <span class="toc-text">降频</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#location%E5%AF%B9%E8%B1%A1"><span class="toc-number">14.0.0.6.</span> <span class="toc-text">location对象</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">14.0.0.6.1.</span> <span class="toc-text">查找字符串</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E5%9C%B0%E5%9D%80"><span class="toc-number">14.0.0.6.2.</span> <span class="toc-text">操作地址</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#navigator%E5%AF%B9%E8%B1%A1"><span class="toc-number">14.0.0.7.</span> <span class="toc-text">navigator对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#screen%E5%AF%B9%E8%B1%A1"><span class="toc-number">14.0.0.8.</span> <span class="toc-text">screen对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#history%E5%AF%B9%E8%B1%A1"><span class="toc-number">14.0.0.9.</span> <span class="toc-text">history对象</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA"><span class="toc-number">14.0.0.9.1.</span> <span class="toc-text">导航</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AJAX"><span class="toc-number">15.</span> <span class="toc-text">AJAX</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-1"><span class="toc-number">15.0.0.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%89%8D%E5%90%8E%E5%8F%B0%E5%88%86%E7%A6%BB%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%9E%B6%E6%9E%84"><span class="toc-number">15.0.0.2.</span> <span class="toc-text">前后台分离的项目架构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ajax%E5%8C%85%E5%90%AB%E5%93%AA%E4%BA%9B%E6%8A%80%E6%9C%AF"><span class="toc-number">15.0.0.3.</span> <span class="toc-text">ajax包含哪些技术</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#XHTML"><span class="toc-number">15.0.0.3.1.</span> <span class="toc-text">XHTML</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5"><span class="toc-number">15.0.0.3.2.</span> <span class="toc-text">同步和异步</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">15.0.0.3.3.</span> <span class="toc-text">同步机制流程图</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Ajax%E5%BC%82%E6%AD%A5%E4%BA%A4%E4%BA%92%E5%8E%9F%E7%90%86"><span class="toc-number">15.0.0.3.4.</span> <span class="toc-text">Ajax异步交互原理</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#XMLHttpRequst%E5%AF%B9%E8%B1%A1"><span class="toc-number">15.0.0.4.</span> <span class="toc-text">XMLHttpRequst对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#XMLHttpRequest%E6%96%B9%E6%B3%95"><span class="toc-number">15.0.0.5.</span> <span class="toc-text">XMLHttpRequest方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#XMLHttpRequst%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-number">15.0.0.6.</span> <span class="toc-text">XMLHttpRequst对象属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82"><span class="toc-number">15.0.0.7.</span> <span class="toc-text">发送请求</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#open-method-url-asynch"><span class="toc-number">15.0.0.7.1.</span> <span class="toc-text">open(method, url, asynch)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#onreadystatechange"><span class="toc-number">15.0.0.7.2.</span> <span class="toc-text">onreadystatechange:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE"><span class="toc-number">15.0.0.7.3.</span> <span class="toc-text">参数设置</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#send%E6%96%B9%E6%B3%95"><span class="toc-number">15.0.0.8.</span> <span class="toc-text">send方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%91%E9%80%81Post%E8%AF%B7%E6%B1%82"><span class="toc-number">15.0.0.9.</span> <span class="toc-text">发送Post请求</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E6%B3%95%E5%92%8C%E5%B1%9E%E6%80%A7"><span class="toc-number">15.0.0.10.</span> <span class="toc-text">接收数据的方法和属性</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#readyState%EF%BC%88%E8%AF%B7%E6%B1%82%E7%8A%B6%E6%80%81%EF%BC%89"><span class="toc-number">15.0.0.10.1.</span> <span class="toc-text">readyState（请求状态）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#status%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8A%B6%E6%80%81%E7%A0%81%EF%BC%89"><span class="toc-number">15.0.0.10.2.</span> <span class="toc-text">status（服务器状态码）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#responseText"><span class="toc-number">15.0.0.10.3.</span> <span class="toc-text">responseText</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F"><span class="toc-number">15.0.0.10.4.</span> <span class="toc-text">两种数据格式</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#get%E5%92%8Cpost%E5%8C%BA%E5%88%AB"><span class="toc-number">15.0.0.11.</span> <span class="toc-text">get和post区别</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/05/31/Webpack%20Proxy%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F/" title="tree-shaking"><img src="https://img0.baidu.com/it/u=2523787295,1138437153&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=940&amp;h=400" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="tree-shaking"/></a><div class="content"><a class="title" href="/2021/05/31/Webpack%20Proxy%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F/" title="tree-shaking">tree-shaking</a><time datetime="2021-05-30T16:00:00.000Z" title="发表于 2021-05-31 00:00:00">2021-05-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/30/tree-shaking/" title="tree-shaking"><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.mk2048.com%2Fweb_upload%2Fblog_imgs%2F8%2Fhttps___user-gold-cdn-xitu-io_2018_1_4_160bfd6b970411f3_w-720_h-405_f-jpeg_s-6737.gif&amp;refer=http%3A%2F%2Fwww.mk2048.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1656414338&amp;t=f131109205e49b4ea42e423c791d32d6" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="tree-shaking"/></a><div class="content"><a class="title" href="/2021/05/30/tree-shaking/" title="tree-shaking">tree-shaking</a><time datetime="2021-05-29T16:00:00.000Z" title="发表于 2021-05-30 00:00:00">2021-05-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2019/08/21/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20%E4%BA%94/" title="设计模式五"><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F26552078-d9d8479fe05092b0.png&amp;refer=http%3A%2F%2Fupload-images.jianshu.io&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1657886050&amp;t=f92afc4769e277efa78215e4c030dd59" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式五"/></a><div class="content"><a class="title" href="/2019/08/21/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20%E4%BA%94/" title="设计模式五">设计模式五</a><time datetime="2019-08-20T16:00:00.000Z" title="发表于 2019-08-21 00:00:00">2019-08-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2019/08/21/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%9B%9B/" title="设计模式四"><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F26552078-d9d8479fe05092b0.png&amp;refer=http%3A%2F%2Fupload-images.jianshu.io&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1657886050&amp;t=f92afc4769e277efa78215e4c030dd59" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式四"/></a><div class="content"><a class="title" href="/2019/08/21/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%9B%9B/" title="设计模式四">设计模式四</a><time datetime="2019-08-20T16:00:00.000Z" title="发表于 2019-08-21 00:00:00">2019-08-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2019/07/06/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%80/" title="设计模式一"><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F26552078-d9d8479fe05092b0.png&amp;refer=http%3A%2F%2Fupload-images.jianshu.io&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1657886050&amp;t=f92afc4769e277efa78215e4c030dd59" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式一"/></a><div class="content"><a class="title" href="/2019/07/06/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%80/" title="设计模式一">设计模式一</a><time datetime="2019-07-05T16:00:00.000Z" title="发表于 2019-07-06 00:00:00">2019-07-06</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 小米</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>