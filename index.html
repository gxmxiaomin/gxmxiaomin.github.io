<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>xiaomi♊blog</title><meta name="author" content="小米"><meta name="copyright" content="小米"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="xiaomi♊blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="xiaomi♊blog">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/portraits.webp">
<meta property="article:author" content="小米">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/portraits.webp"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'xiaomi♊blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-06-12 21:10:11'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/portraits.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">45</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201803%2F30%2F20180330172033_t4iTv.thumb.400_0.gif&amp;refer=http%3A%2F%2Fb-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1656301034&amp;t=28936a5ced75785b941f06abed65c6c0')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">xiaomi♊blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">xiaomi♊blog</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2021/05/31/Webpack%20Proxy%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F/" title="tree-shaking"><img class="post_bg" src="https://img0.baidu.com/it/u=2523787295,1138437153&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=940&amp;h=400" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="tree-shaking"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/05/31/Webpack%20Proxy%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F/" title="tree-shaking">tree-shaking</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-05-30T16:00:00.000Z" title="发表于 2021-05-31 00:00:00">2021-05-31</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/webpack/">webpack</a></span></div><div class="content">1. 是什么
webpack proxy，即webpack提供的代理服务
基本行为就是接收客户端发送的请求后转发给其他服务器
其目的是为了便于开发者在开发模式下解决跨域问题（浏览器安全策略限制）
想要实现代理首先需要一个中间服务器，webpack中提供服务器的工具为webpack-dev-server
2. webpack-dev-server
webpack-dev-server是 webpack 官方推出的一款开发工具，将自动编译和自动刷新浏览器等一系列对开发友好的功能全部集成在了一起
目的是为了提高开发者日常的开发效率，「只适用在开发阶段」
关于配置方面，在webpack配置对象属性中通过devServer属性提供，如下：
1234567891011121314151617// ./webpack.config.jsconst path = require(&#x27;path&#x27;)module.exports = &#123;    // ...    devServer: &#123;        contentBase: path.join(__dirname,  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/05/30/tree-shaking/" title="tree-shaking"><img class="post_bg" src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.mk2048.com%2Fweb_upload%2Fblog_imgs%2F8%2Fhttps___user-gold-cdn-xitu-io_2018_1_4_160bfd6b970411f3_w-720_h-405_f-jpeg_s-6737.gif&amp;refer=http%3A%2F%2Fwww.mk2048.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1656414338&amp;t=f131109205e49b4ea42e423c791d32d6" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="tree-shaking"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/05/30/tree-shaking/" title="tree-shaking">tree-shaking</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-05-29T16:00:00.000Z" title="发表于 2021-05-30 00:00:00">2021-05-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/vue3/">vue3</a></span></div><div class="content">对tree-shaking的了解
作用：
它表示在打包的时候会去除一些无用的代码
原理：

ES6的模块引入是静态分析的，所以在编译时能正确判断到底加载了哪些模块
分析程序流，判断哪些变量未被使用、引用，进而删除此代码

特点：

在生产模式下它是默认开启的，但是由于经过babel编译全部模块被封装成IIFE，它存在副作用无法被tree-shaking掉
可以在package.json中配置sideEffects来指定哪些文件是有副作用的。它有两种值，一个是布尔类型，如果是false则表示所有文件都没有副作用；如果是一个数组的话，数组里的文件路径表示改文件有副作用
rollup和webpack中对tree-shaking的层度不同，例如对babel转译后的class，如果babel的转译是宽松模式下的话(也就是loose为true)，webpack依旧会认为它有副作用不会tree-shaking掉，而rollup会。这是因为rollup有程序流分析的功能，可以更好的判断代码是否真正会产生副作用。

原理

ES6 Module 引入进行静态分析，故而编译的时候正确判断到底加载了那些模块 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/17/http%E5%92%8Chtttps%E7%9A%84%E5%8C%BA%E5%88%AB/" title="http和htttps的区别"><img class="post_bg" src="https://img1.baidu.com/it/u=1629306470,3187208688&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=500&amp;h=313" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="http和htttps的区别"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/17/http%E5%92%8Chtttps%E7%9A%84%E5%8C%BA%E5%88%AB/" title="http和htttps的区别">http和htttps的区别</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-06-16T16:00:00.000Z" title="发表于 2019-06-17 00:00:00">2019-06-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/HTTP/">HTTP</a></span></div><div class="content">一、HTTPHTTP (HyperText Transfer Protocol)，即超文本运输协议，是实现网络通信的一种规范

在计算机和网络世界有，存在不同的协议，如广播协议、寻址协议、路由协议等等……
而HTTP是一个传输协议，即将数据由A传到B或将B传输到A，并且 A 与 B 之间能够存放很多第三方，如： A&lt;&#x3D;&gt;X&lt;&#x3D;&gt;Y&lt;&#x3D;&gt;Z&lt;&#x3D;&gt;B
传输的数据并不是计算机底层中的二进制包，而是完整的、有意义的数据，如HTML 文件, 图片文件, 查询结果等超文本，能够被上层应用识别
在实际应用中，HTTP常被用于在Web浏览器和网站服务器之间传递信息，以明文方式发送内容，不提供任何方式的数据加密
特点如下：

支持客户&#x2F;服务器模式
简单快速：客户向服务器请求服务时，只需传送请求方法和路径。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快
灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记
无连接：无连接的含义是限制每次连接只处理一 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/14/%E8%99%9A%E6%8B%9FDOM%E5%92%8C%E7%9C%9F%E5%AE%9EDOM%E7%9A%84%E5%8C%BA%E5%88%AB/" title="虚拟DOM和真实DOM的区别"><img class="post_bg" src="https://img0.baidu.com/it/u=1360348353,1634007459&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPG?w=751&amp;h=422" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="虚拟DOM和真实DOM的区别"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/14/%E8%99%9A%E6%8B%9FDOM%E5%92%8C%E7%9C%9F%E5%AE%9EDOM%E7%9A%84%E5%8C%BA%E5%88%AB/" title="虚拟DOM和真实DOM的区别">虚拟DOM和真实DOM的区别</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-06-13T16:00:00.000Z" title="发表于 2019-06-14 00:00:00">2019-06-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%99%9A%E6%8B%9FDOM/">虚拟DOM</a></span></div><div class="content">一、是什么Real DOM，真实 DOM，意思为文档对象模型，是一个结构化文本的抽象，在页面渲染出的每一个结点都是一个真实 DOM 结构，如下：

Virtual Dom，本质上是以 JavaScript 对象形式存在的对 DOM 的描述
创建虚拟 DOM 目的就是为了更好将虚拟的节点渲染到页面视图中，虚拟 DOM 对象的节点与真实 DOM 的属性一一照应
在 React 中，JSX 是其一大特性，可以让你在 JS 中通过使用 XML 的方式去直接声明界面的 DOM 结构
123456// 创建 h1 标签，右边千万不能加引号const vDom = &lt;h1&gt;Hello World&lt;/h1&gt;; // 找到 &lt;div id=&quot;root&quot;&gt;&lt;/div&gt; 节点const root = document.getElementById(&quot;root&quot;); // 把创建的 h1 标签渲染到 root 节点上ReactDOM.render(vDom, root); 

上述中，ReactDOM.render() 用 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/12/node%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80/" title="node相关知识点"><img class="post_bg" src="https://img0.baidu.com/it/u=2900057365,1457448233&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=1000&amp;h=500" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="node相关知识点"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/12/node%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80/" title="node相关知识点">node相关知识点</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-06-11T16:00:00.000Z" title="发表于 2019-06-12 00:00:00">2019-06-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/node/">node</a></span></div><div class="content">1.package.json版本好规则major.minor.patch
·patch：修复bug，兼容老版本
·minor：新增功能，兼容老版本
·major：新的架构调整，不兼容老版本
~和^的区别
·会匹配最近的小版本依赖包，比如1.2.3会匹配所有1.2.x版本，但不包括1.3.0
·^会匹配最新的大版本依赖包，比如^1.2.3的包，包括1.x.x，但不包括2.0.0
2.npm模块的安装机制·发出npm install 命令 i查询 node_modules 目录之中是否存在制定模块
·若存在 不再重新安装
·若不存在  npm 向register查询模块压缩包，的网址
·下载压缩包，存放在根目录下 npm目录里
·解压压缩包到当前项目的node_modules目录
3.模块化的差异，AMD，CMD，COMMONJS，ESMODULE
AMD是依赖前置，define写法
CMD 语法require
AMD和CMD是动态引入，运行时才知道的
ESMODULE是静态引入，好处方便wepback打包依赖图谱分析
CommonJs 是单个值导出，ES6 Module 可以导出多个
C ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/12/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80/" title="浏览器知识点一"><img class="post_bg" src="https://img2.baidu.com/it/u=1248466127,3688642937&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=667&amp;h=500" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="浏览器知识点一"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/12/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80/" title="浏览器知识点一">浏览器知识点一</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-06-11T16:00:00.000Z" title="发表于 2019-06-12 00:00:00">2019-06-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/">浏览器</a></span></div><div class="content">1.跨标签页通讯不同标签页间的通讯，本质原理就是去运用一些可以 共享的中间介质，因此比较常用的有以下方法:

通过父页面
window.open()
和子页面
postMessage

异步下，通过 window.open(&#39;about: blank&#39;) 和 tab.location.href = &#39;*&#39;


设置同域下共享的
localStorage
与监听
window.onstorage

重复写入相同的值无法触发
会受到浏览器隐身模式等的限制


设置共享cookie与不断轮询脏检查(setInterval)

借助服务端或者中间层实现


2.浏览器架构
用户界面
主进程
内核
渲染引擎
JS 引擎
执行栈




事件触发线程
消息队列
微任务
宏任务




网络异步线程
定时器线程

3.渲染机制3.1浏览器的渲染机制一般分为以下几个步骤
处理 HTML 并构建 DOM 树。

处理 CSS 构建 CSSOM 树。

将 DOM 与 CSSOM 合并成一个渲染树。

根据渲染树来布局，计算每个节点的位置。

调用 GPU 绘制，合成图层， ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/12/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C/" title="浏览器知识点二"><img class="post_bg" src="https://img2.baidu.com/it/u=1248466127,3688642937&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=667&amp;h=500" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="浏览器知识点二"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/12/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C/" title="浏览器知识点二">浏览器知识点二</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-06-11T16:00:00.000Z" title="发表于 2019-06-12 00:00:00">2019-06-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/">浏览器</a></span></div><div class="content">1.跨域因为浏览器出于安全考虑，有同源策略。也就是说，如果协议、域名或者端口有一个不同就是跨域，Ajax请求会失败。
我们可以通过以下几种常用方法解决跨域的问题
JSONPJSONP的原理很简单，就是利用标签没有跨域限制的漏洞。通过 `标签指向一个需要访问的地址并提供一个回调函数来接收数据当需要通讯时
123456&lt;script src=&quot;http://domain/api?param1=a&amp;param2=b&amp;callback=jsonp&quot;&gt;&lt;/script&gt;&lt;script&gt;    function jsonp(data) &#123;    	console.log(data)	&#125;&lt;/script&gt;    

JSONP 使用简单且兼容性不错，但是只限于 get 请求

在开发中可能会遇到多个 JSONP 请求的回调函数名是相同的，这时候就需要自己封装一个 JSONP，以下是简单实现

1234567891011121314151617function jsonp(url, jsonpCal ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/10/React%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80/" title="react相关知识点"><img class="post_bg" src="https://img1.baidu.com/it/u=162378038,3103429100&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=450&amp;h=236" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="react相关知识点"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/10/React%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80/" title="react相关知识点">react相关知识点</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-06-09T16:00:00.000Z" title="发表于 2019-06-10 00:00:00">2019-06-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/react/">react</a></span></div><div class="content">1React中的keys的作用是什么?keys是React用于追踪那些列表中元素被修改，被添加或者被移除的辅助标识
在开发过程中，我们需要保证某个元素的key在其同级元素中具有唯一性。在React Diff算法中React会借助元素的key值来判断该元素是新创建的还是被移动原来的元素，从而减少不必要的元素冲渲染，此外，React还需要借助key值来判断元素与本地状态的关联关系，因此我们决不可忽视转换函数中key的重要性。
2传入setState函数的第二个参数的作用是什么？该函数会在setState函数调用完成并且组件开始重渲染的时候被调用，我们可以用该函数来监听渲染是否完成
1234this.setState(  &#123; username: &#x27;tylermcginnis33&#x27; &#125;,  () =&gt; console.log(&#x27;setState has finished and the component has re-rendered.&#x27;))

12345this.setState((prevState, props) =&g ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/10/React%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89/" title="react相关知识点二"><img class="post_bg" src="https://img1.baidu.com/it/u=162378038,3103429100&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=450&amp;h=236" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="react相关知识点二"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/10/React%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89/" title="react相关知识点二">react相关知识点二</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-06-09T16:00:00.000Z" title="发表于 2019-06-10 00:00:00">2019-06-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/react/">react</a></span></div><div class="content">1.diff算法·把树形结构按层级分解，只比较同级元素
·给列表结构的每个单元添加唯一的key属性，比较方便
·React只会匹配相同的class的component（这里面的class指的是组件的名字）
·合并操作，调用component的setState方法的时候，React将其标记为dirty到每一个事件循环结束，React检查所有标记，dirty的component重新绘制
·选择性子树渲染，开发人员可以重写shouldComponentUpdate提高diff的性能
2.react性能的优化方案·重写shouldComponentUpdate来避免不必要的dom操作
·使用production版本的react.js
·使用key来帮助React识别列表中所有子组件的最小变化
3.简述flux思想flux的最大特点，就是数据的‘单向流动’
·用户访问View
·View发出用户的Action
·Dispatcher收到Action，要求Store进行相应的更新
·Store更新后，发出一个‘change’事件
·View收到change事件后，更新页面
4.react的坑点​	 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/10/react%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C/" title="react相关知识点二"><img class="post_bg" src="https://img1.baidu.com/it/u=162378038,3103429100&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=450&amp;h=236" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="react相关知识点二"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/10/react%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C/" title="react相关知识点二">react相关知识点二</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-06-09T16:00:00.000Z" title="发表于 2019-06-10 00:00:00">2019-06-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/react/">react</a></span></div><div class="content">1.React生命周期函数初始化阶段getDefaultProps：获取实例的默认属性getInitialState：获取每个实例的初始化状态componentWillMount：组件即将被装载，渲染到也页面上render：组件在这里生成虚拟DOM节点componentDidMount：组件真正被加载之后运行中状态

componentWillReceiveProps:组件将要接收到属性的时候调用
shouldComponentUpdate:组件接受到新属性或者新状态的时候（可以返回false，接收数据后不更新，阻止render调用，后面的函数不会被继续执行了）
componentWillUpdate:组件即将更新不能修改属性和状态
render:组件重新描绘
componentDidUpdate:组件已经更新

销毁阶段

componentWillUnmount:组件即将销毁

新版生命周期

使用getDerivedStateFromProps替换componentWillMount；
使用getSnapshotBeforeUpdate替换componentWillUpdate； ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/#content-inner">5</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/portraits.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">小米</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">45</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/05/31/Webpack%20Proxy%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F/" title="tree-shaking"><img src="https://img0.baidu.com/it/u=2523787295,1138437153&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=940&amp;h=400" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="tree-shaking"/></a><div class="content"><a class="title" href="/2021/05/31/Webpack%20Proxy%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F/" title="tree-shaking">tree-shaking</a><time datetime="2021-05-30T16:00:00.000Z" title="发表于 2021-05-31 00:00:00">2021-05-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/30/tree-shaking/" title="tree-shaking"><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.mk2048.com%2Fweb_upload%2Fblog_imgs%2F8%2Fhttps___user-gold-cdn-xitu-io_2018_1_4_160bfd6b970411f3_w-720_h-405_f-jpeg_s-6737.gif&amp;refer=http%3A%2F%2Fwww.mk2048.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1656414338&amp;t=f131109205e49b4ea42e423c791d32d6" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="tree-shaking"/></a><div class="content"><a class="title" href="/2021/05/30/tree-shaking/" title="tree-shaking">tree-shaking</a><time datetime="2021-05-29T16:00:00.000Z" title="发表于 2021-05-30 00:00:00">2021-05-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2019/06/17/http%E5%92%8Chtttps%E7%9A%84%E5%8C%BA%E5%88%AB/" title="http和htttps的区别"><img src="https://img1.baidu.com/it/u=1629306470,3187208688&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=500&amp;h=313" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="http和htttps的区别"/></a><div class="content"><a class="title" href="/2019/06/17/http%E5%92%8Chtttps%E7%9A%84%E5%8C%BA%E5%88%AB/" title="http和htttps的区别">http和htttps的区别</a><time datetime="2019-06-16T16:00:00.000Z" title="发表于 2019-06-17 00:00:00">2019-06-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2019/06/14/%E8%99%9A%E6%8B%9FDOM%E5%92%8C%E7%9C%9F%E5%AE%9EDOM%E7%9A%84%E5%8C%BA%E5%88%AB/" title="虚拟DOM和真实DOM的区别"><img src="https://img0.baidu.com/it/u=1360348353,1634007459&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPG?w=751&amp;h=422" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="虚拟DOM和真实DOM的区别"/></a><div class="content"><a class="title" href="/2019/06/14/%E8%99%9A%E6%8B%9FDOM%E5%92%8C%E7%9C%9F%E5%AE%9EDOM%E7%9A%84%E5%8C%BA%E5%88%AB/" title="虚拟DOM和真实DOM的区别">虚拟DOM和真实DOM的区别</a><time datetime="2019-06-13T16:00:00.000Z" title="发表于 2019-06-14 00:00:00">2019-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2019/06/12/node%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80/" title="node相关知识点"><img src="https://img0.baidu.com/it/u=2900057365,1457448233&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=1000&amp;h=500" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="node相关知识点"/></a><div class="content"><a class="title" href="/2019/06/12/node%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80/" title="node相关知识点">node相关知识点</a><time datetime="2019-06-11T16:00:00.000Z" title="发表于 2019-06-12 00:00:00">2019-06-12</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ES6/"><span class="card-category-list-name">ES6</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/HTTP/"><span class="card-category-list-name">HTTP</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JavaScript/"><span class="card-category-list-name">JavaScript</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/node/"><span class="card-category-list-name">node</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/python/"><span class="card-category-list-name">python</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/react/"><span class="card-category-list-name">react</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/vue/"><span class="card-category-list-name">vue</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/vue3/"><span class="card-category-list-name">vue3</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/ES6/" style="font-size: 1.34em; color: #99a3b0">ES6</a> <a href="/tags/HTTP/" style="font-size: 1.1em; color: #999">HTTP</a> <a href="/tags/JavaScript/" style="font-size: 1.18em; color: #999ca1">JavaScript</a> <a href="/tags/node/" style="font-size: 1.1em; color: #999">node</a> <a href="/tags/python/" style="font-size: 1.5em; color: #99a9bf">python</a> <a href="/tags/react/" style="font-size: 1.42em; color: #99a6b7">react</a> <a href="/tags/vue/" style="font-size: 1.1em; color: #999">vue</a> <a href="/tags/vue3/" style="font-size: 1.1em; color: #999">vue3</a> <a href="/tags/webpack/" style="font-size: 1.18em; color: #999ca1">webpack</a> <a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 1.1em; color: #999">其他</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size: 1.26em; color: #999fa8">浏览器</a> <a href="/tags/%E8%99%9A%E6%8B%9FDOM/" style="font-size: 1.1em; color: #999">虚拟DOM</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">五月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/06/"><span class="card-archive-list-date">六月 2019</span><span class="card-archive-list-count">27</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/05/"><span class="card-archive-list-date">五月 2019</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2016/05/"><span class="card-archive-list-date">五月 2016</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">45</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-06-12T13:10:10.689Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 小米</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>